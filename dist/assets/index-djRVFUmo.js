function Uj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Jw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var If={exports:{}},yo={},Df={exports:{}},ze={};var Yv;function zj(){if(Yv)return ze;Yv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function S(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,w={};function _(T,L,ne){this.props=T,this.context=L,this.refs=w,this.updater=ne||b}_.prototype.isReactComponent={},_.prototype.setState=function(T,L){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,L,"setState")},_.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function E(){}E.prototype=_.prototype;function C(T,L,ne){this.props=T,this.context=L,this.refs=w,this.updater=ne||b}var N=C.prototype=new E;N.constructor=C,k(N,_.prototype),N.isPureReactComponent=!0;var R=Array.isArray,P=Object.prototype.hasOwnProperty,M={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function V(T,L,ne){var se,ye={},Se=null,Z=null;if(L!=null)for(se in L.ref!==void 0&&(Z=L.ref),L.key!==void 0&&(Se=""+L.key),L)P.call(L,se)&&!z.hasOwnProperty(se)&&(ye[se]=L[se]);var be=arguments.length-2;if(be===1)ye.children=ne;else if(1<be){for(var Pe=Array(be),Ae=0;Ae<be;Ae++)Pe[Ae]=arguments[Ae+2];ye.children=Pe}if(T&&T.defaultProps)for(se in be=T.defaultProps,be)ye[se]===void 0&&(ye[se]=be[se]);return{$$typeof:t,type:T,key:Se,ref:Z,props:ye,_owner:M.current}}function F(T,L){return{$$typeof:t,type:T.type,key:L,ref:T.ref,props:T.props,_owner:T._owner}}function Y(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function te(T){var L={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(ne){return L[ne]})}var Q=/\/+/g;function K(T,L){return typeof T=="object"&&T!==null&&T.key!=null?te(""+T.key):L.toString(36)}function q(T,L,ne,se,ye){var Se=typeof T;(Se==="undefined"||Se==="boolean")&&(T=null);var Z=!1;if(T===null)Z=!0;else switch(Se){case"string":case"number":Z=!0;break;case"object":switch(T.$$typeof){case t:case e:Z=!0}}if(Z)return Z=T,ye=ye(Z),T=se===""?"."+K(Z,0):se,R(ye)?(ne="",T!=null&&(ne=T.replace(Q,"$&/")+"/"),q(ye,L,ne,"",function(Ae){return Ae})):ye!=null&&(Y(ye)&&(ye=F(ye,ne+(!ye.key||Z&&Z.key===ye.key?"":(""+ye.key).replace(Q,"$&/")+"/")+T)),L.push(ye)),1;if(Z=0,se=se===""?".":se+":",R(T))for(var be=0;be<T.length;be++){Se=T[be];var Pe=se+K(Se,be);Z+=q(Se,L,ne,Pe,ye)}else if(Pe=S(T),typeof Pe=="function")for(T=Pe.call(T),be=0;!(Se=T.next()).done;)Se=Se.value,Pe=se+K(Se,be++),Z+=q(Se,L,ne,Pe,ye);else if(Se==="object")throw L=String(T),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return Z}function H(T,L,ne){if(T==null)return T;var se=[],ye=0;return q(T,se,"","",function(Se){return L.call(ne,Se,ye++)}),se}function J(T){if(T._status===-1){var L=T._result;L=L(),L.then(function(ne){(T._status===0||T._status===-1)&&(T._status=1,T._result=ne)},function(ne){(T._status===0||T._status===-1)&&(T._status=2,T._result=ne)}),T._status===-1&&(T._status=0,T._result=L)}if(T._status===1)return T._result.default;throw T._result}var X={current:null},$={transition:null},D={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:$,ReactCurrentOwner:M};function G(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:H,forEach:function(T,L,ne){H(T,function(){L.apply(this,arguments)},ne)},count:function(T){var L=0;return H(T,function(){L++}),L},toArray:function(T){return H(T,function(L){return L})||[]},only:function(T){if(!Y(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ze.Component=_,ze.Fragment=n,ze.Profiler=i,ze.PureComponent=C,ze.StrictMode=r,ze.Suspense=f,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,ze.act=G,ze.cloneElement=function(T,L,ne){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var se=k({},T.props),ye=T.key,Se=T.ref,Z=T._owner;if(L!=null){if(L.ref!==void 0&&(Se=L.ref,Z=M.current),L.key!==void 0&&(ye=""+L.key),T.type&&T.type.defaultProps)var be=T.type.defaultProps;for(Pe in L)P.call(L,Pe)&&!z.hasOwnProperty(Pe)&&(se[Pe]=L[Pe]===void 0&&be!==void 0?be[Pe]:L[Pe])}var Pe=arguments.length-2;if(Pe===1)se.children=ne;else if(1<Pe){be=Array(Pe);for(var Ae=0;Ae<Pe;Ae++)be[Ae]=arguments[Ae+2];se.children=be}return{$$typeof:t,type:T.type,key:ye,ref:Se,props:se,_owner:Z}},ze.createContext=function(T){return T={$$typeof:u,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:o,_context:T},T.Consumer=T},ze.createElement=V,ze.createFactory=function(T){var L=V.bind(null,T);return L.type=T,L},ze.createRef=function(){return{current:null}},ze.forwardRef=function(T){return{$$typeof:d,render:T}},ze.isValidElement=Y,ze.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:J}},ze.memo=function(T,L){return{$$typeof:p,type:T,compare:L===void 0?null:L}},ze.startTransition=function(T){var L=$.transition;$.transition={};try{T()}finally{$.transition=L}},ze.unstable_act=G,ze.useCallback=function(T,L){return X.current.useCallback(T,L)},ze.useContext=function(T){return X.current.useContext(T)},ze.useDebugValue=function(){},ze.useDeferredValue=function(T){return X.current.useDeferredValue(T)},ze.useEffect=function(T,L){return X.current.useEffect(T,L)},ze.useId=function(){return X.current.useId()},ze.useImperativeHandle=function(T,L,ne){return X.current.useImperativeHandle(T,L,ne)},ze.useInsertionEffect=function(T,L){return X.current.useInsertionEffect(T,L)},ze.useLayoutEffect=function(T,L){return X.current.useLayoutEffect(T,L)},ze.useMemo=function(T,L){return X.current.useMemo(T,L)},ze.useReducer=function(T,L,ne){return X.current.useReducer(T,L,ne)},ze.useRef=function(T){return X.current.useRef(T)},ze.useState=function(T){return X.current.useState(T)},ze.useSyncExternalStore=function(T,L,ne){return X.current.useSyncExternalStore(T,L,ne)},ze.useTransition=function(){return X.current.useTransition()},ze.version="18.3.1",ze}var Qv;function rp(){return Qv||(Qv=1,Df.exports=zj()),Df.exports}var Zv;function Bj(){if(Zv)return yo;Zv=1;var t=rp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var g,y={},S=null,b=null;p!==void 0&&(S=""+p),f.key!==void 0&&(S=""+f.key),f.ref!==void 0&&(b=f.ref);for(g in f)r.call(f,g)&&!o.hasOwnProperty(g)&&(y[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)y[g]===void 0&&(y[g]=f[g]);return{$$typeof:e,type:d,key:S,ref:b,props:y,_owner:i.current}}return yo.Fragment=n,yo.jsx=u,yo.jsxs=u,yo}var Jv;function Wj(){return Jv||(Jv=1,If.exports=Bj()),If.exports}var l=Wj(),Sc={},Mf={exports:{}},Xt={},Lf={exports:{}},$f={};var Xv;function Vj(){return Xv||(Xv=1,(function(t){function e($,D){var G=$.length;$.push(D);e:for(;0<G;){var T=G-1>>>1,L=$[T];if(0<i(L,D))$[T]=D,$[G]=L,G=T;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var D=$[0],G=$.pop();if(G!==D){$[0]=G;e:for(var T=0,L=$.length,ne=L>>>1;T<ne;){var se=2*(T+1)-1,ye=$[se],Se=se+1,Z=$[Se];if(0>i(ye,G))Se<L&&0>i(Z,ye)?($[T]=Z,$[Se]=G,T=Se):($[T]=ye,$[se]=G,T=se);else if(Se<L&&0>i(Z,G))$[T]=Z,$[Se]=G,T=Se;else break e}}return D}function i($,D){var G=$.sortIndex-D.sortIndex;return G!==0?G:$.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],p=[],g=1,y=null,S=3,b=!1,k=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N($){for(var D=n(p);D!==null;){if(D.callback===null)r(p);else if(D.startTime<=$)r(p),D.sortIndex=D.expirationTime,e(f,D);else break;D=n(p)}}function R($){if(w=!1,N($),!k)if(n(f)!==null)k=!0,J(P);else{var D=n(p);D!==null&&X(R,D.startTime-$)}}function P($,D){k=!1,w&&(w=!1,E(V),V=-1),b=!0;var G=S;try{for(N(D),y=n(f);y!==null&&(!(y.expirationTime>D)||$&&!te());){var T=y.callback;if(typeof T=="function"){y.callback=null,S=y.priorityLevel;var L=T(y.expirationTime<=D);D=t.unstable_now(),typeof L=="function"?y.callback=L:y===n(f)&&r(f),N(D)}else r(f);y=n(f)}if(y!==null)var ne=!0;else{var se=n(p);se!==null&&X(R,se.startTime-D),ne=!1}return ne}finally{y=null,S=G,b=!1}}var M=!1,z=null,V=-1,F=5,Y=-1;function te(){return!(t.unstable_now()-Y<F)}function Q(){if(z!==null){var $=t.unstable_now();Y=$;var D=!0;try{D=z(!0,$)}finally{D?K():(M=!1,z=null)}}else M=!1}var K;if(typeof C=="function")K=function(){C(Q)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,H=q.port2;q.port1.onmessage=Q,K=function(){H.postMessage(null)}}else K=function(){_(Q,0)};function J($){z=$,M||(M=!0,K())}function X($,D){V=_(function(){$(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){k||b||(k=!0,J(P))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function($){switch(S){case 1:case 2:case 3:var D=3;break;default:D=S}var G=S;S=D;try{return $()}finally{S=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,D){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=S;S=$;try{return D()}finally{S=G}},t.unstable_scheduleCallback=function($,D,G){var T=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?T+G:T):G=T,$){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=G+L,$={id:g++,callback:D,priorityLevel:$,startTime:G,expirationTime:L,sortIndex:-1},G>T?($.sortIndex=G,e(p,$),n(f)===null&&$===n(p)&&(w?(E(V),V=-1):w=!0,X(R,G-T))):($.sortIndex=L,e(f,$),k||b||(k=!0,J(P))),$},t.unstable_shouldYield=te,t.unstable_wrapCallback=function($){var D=S;return function(){var G=S;S=D;try{return $.apply(this,arguments)}finally{S=G}}}})($f)),$f}var ey;function Hj(){return ey||(ey=1,Lf.exports=Vj()),Lf.exports}var ty;function qj(){if(ty)return Xt;ty=1;var t=rp(),e=Hj();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){u(s,a),u(s+"Capture",a)}function u(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function S(s){return f.call(y,s)?!0:f.call(g,s)?!1:p.test(s)?y[s]=!0:(g[s]=!0,!1)}function b(s,a,c,h){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,a,c,h){if(a===null||typeof a>"u"||b(s,a,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function w(s,a,c,h,v,x,j){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=h,this.attributeNamespace=v,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=x,this.removeEmptyString=j}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){_[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];_[a]=new w(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){_[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){_[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){_[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){_[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){_[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){_[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){_[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function C(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(E,C);_[a]=new w(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(E,C);_[a]=new w(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(E,C);_[a]=new w(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){_[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){_[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function N(s,a,c,h){var v=_.hasOwnProperty(a)?_[a]:null;(v!==null?v.type!==0:h||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,c,v,h)&&(c=null),h||v===null?S(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):v.mustUseProperty?s[v.propertyName]=c===null?v.type===3?!1:"":c:(a=v.attributeName,h=v.attributeNamespace,c===null?s.removeAttribute(a):(v=v.type,c=v===3||v===4&&c===!0?"":""+c,h?s.setAttributeNS(h,a,c):s.setAttribute(a,c))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),M=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),te=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),$=Symbol.iterator;function D(s){return s===null||typeof s!="object"?null:(s=$&&s[$]||s["@@iterator"],typeof s=="function"?s:null)}var G=Object.assign,T;function L(s){if(T===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);T=a&&a[1]||""}return`
`+T+s}var ne=!1;function se(s,a){if(!s||ne)return"";ne=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(W){var h=W}Reflect.construct(s,[],a)}else{try{a.call()}catch(W){h=W}s.call(a.prototype)}else{try{throw Error()}catch(W){h=W}s()}}catch(W){if(W&&h&&typeof W.stack=="string"){for(var v=W.stack.split(`
`),x=h.stack.split(`
`),j=v.length-1,O=x.length-1;1<=j&&0<=O&&v[j]!==x[O];)O--;for(;1<=j&&0<=O;j--,O--)if(v[j]!==x[O]){if(j!==1||O!==1)do if(j--,O--,0>O||v[j]!==x[O]){var A=`
`+v[j].replace(" at new "," at ");return s.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",s.displayName)),A}while(1<=j&&0<=O);break}}}finally{ne=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?L(s):""}function ye(s){switch(s.tag){case 5:return L(s.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return s=se(s.type,!1),s;case 11:return s=se(s.type.render,!1),s;case 1:return s=se(s.type,!0),s;default:return""}}function Se(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case z:return"Fragment";case M:return"Portal";case F:return"Profiler";case V:return"StrictMode";case K:return"Suspense";case q:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case te:return(s.displayName||"Context")+".Consumer";case Y:return(s._context.displayName||"Context")+".Provider";case Q:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case H:return a=s.displayName||null,a!==null?a:Se(s.type)||"Memo";case J:a=s._payload,s=s._init;try{return Se(s(a))}catch{}}return null}function Z(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(a);case 8:return a===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function be(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Pe(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ae(s){var a=Pe(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,x=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return v.call(this)},set:function(j){h=""+j,x.call(this,j)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(j){h=""+j},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ve(s){s._valueTracker||(s._valueTracker=Ae(s))}function Xe(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=Pe(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function gt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function an(s,a){var c=a.checked;return G({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function $r(s,a){var c=a.defaultValue==null?"":a.defaultValue,h=a.checked!=null?a.checked:a.defaultChecked;c=be(a.value!=null?a.value:c),s._wrapperState={initialChecked:h,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function gr(s,a){a=a.checked,a!=null&&N(s,"checked",a,!1)}function vr(s,a){gr(s,a);var c=be(a.value),h=a.type;if(c!=null)h==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Ii(s,a.type,c):a.hasOwnProperty("defaultValue")&&Ii(s,a.type,be(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function ga(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var h=a.type;if(!(h!=="submit"&&h!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Ii(s,a,c){(a!=="number"||gt(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Fr=Array.isArray;function vn(s,a,c,h){if(s=s.options,a){a={};for(var v=0;v<c.length;v++)a["$"+c[v]]=!0;for(c=0;c<s.length;c++)v=a.hasOwnProperty("$"+s[c].value),s[c].selected!==v&&(s[c].selected=v),v&&h&&(s[c].defaultSelected=!0)}else{for(c=""+be(c),a=null,v=0;v<s.length;v++){if(s[v].value===c){s[v].selected=!0,h&&(s[v].defaultSelected=!0);return}a!==null||s[v].disabled||(a=s[v])}a!==null&&(a.selected=!0)}}function va(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return G({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Yn(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n(92));if(Fr(c)){if(1<c.length)throw Error(n(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:be(c)}}function ul(s,a){var c=be(a.value),h=be(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),h!=null&&(s.defaultValue=""+h)}function dl(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Ft(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qn(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Ft(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ya,fl=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,h,v){MSApp.execUnsafeLocalFunction(function(){return s(a,c,h,v)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(ya=ya||document.createElement("div"),ya.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ya.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Zn(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hl=["Webkit","ms","Moz","O"];Object.keys(Ns).forEach(function(s){hl.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Ns[a]=Ns[s]})});function wa(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Ns.hasOwnProperty(s)&&Ns[s]?(""+a).trim():a+"px"}function yr(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var h=c.indexOf("--")===0,v=wa(c,a[c],h);c==="float"&&(c="cssFloat"),h?s.setProperty(c,v):s[c]=v}}var pl=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jn(s,a){if(a){if(pl[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Di(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mi=null;function xa(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ba=null,Ur=null,Xn=null;function Tn(s){if(s=no(s)){if(typeof ba!="function")throw Error(n(280));var a=s.stateNode;a&&(a=$l(a),ba(s.stateNode,s.type,a))}}function ml(s){Ur?Xn?Xn.push(s):Xn=[s]:Ur=s}function Oe(){if(Ur){var s=Ur,a=Xn;if(Xn=Ur=null,Tn(s),a)for(s=0;s<a.length;s++)Tn(a[s])}}function Ye(s,a){return s(a)}function et(){}var Ut=!1;function qt(s,a,c){if(Ut)return s(a,c);Ut=!0;try{return Ye(s,a,c)}finally{Ut=!1,(Ur!==null||Xn!==null)&&(et(),Oe())}}function Kt(s,a){var c=s.stateNode;if(c===null)return null;var h=$l(c);if(h===null)return null;c=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var Rn=!1;if(d)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch{Rn=!1}function er(s,a,c,h,v,x,j,O,A){var W=Array.prototype.slice.call(arguments,3);try{a.apply(c,W)}catch(re){this.onError(re)}}var Li=!1,gl=null,vl=!1,Ju=null,K1={onError:function(s){Li=!0,gl=s}};function G1(s,a,c,h,v,x,j,O,A){Li=!1,gl=null,er.apply(K1,arguments)}function Y1(s,a,c,h,v,x,j,O,A){if(G1.apply(this,arguments),Li){if(Li){var W=gl;Li=!1,gl=null}else throw Error(n(198));vl||(vl=!0,Ju=W)}}function Ts(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function ym(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function wm(s){if(Ts(s)!==s)throw Error(n(188))}function Q1(s){var a=s.alternate;if(!a){if(a=Ts(s),a===null)throw Error(n(188));return a!==s?null:s}for(var c=s,h=a;;){var v=c.return;if(v===null)break;var x=v.alternate;if(x===null){if(h=v.return,h!==null){c=h;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===c)return wm(v),s;if(x===h)return wm(v),a;x=x.sibling}throw Error(n(188))}if(c.return!==h.return)c=v,h=x;else{for(var j=!1,O=v.child;O;){if(O===c){j=!0,c=v,h=x;break}if(O===h){j=!0,h=v,c=x;break}O=O.sibling}if(!j){for(O=x.child;O;){if(O===c){j=!0,c=x,h=v;break}if(O===h){j=!0,h=x,c=v;break}O=O.sibling}if(!j)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:a}function xm(s){return s=Q1(s),s!==null?bm(s):null}function bm(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=bm(s);if(a!==null)return a;s=s.sibling}return null}var _m=e.unstable_scheduleCallback,Sm=e.unstable_cancelCallback,Z1=e.unstable_shouldYield,J1=e.unstable_requestPaint,dt=e.unstable_now,X1=e.unstable_getCurrentPriorityLevel,Xu=e.unstable_ImmediatePriority,km=e.unstable_UserBlockingPriority,yl=e.unstable_NormalPriority,ek=e.unstable_LowPriority,jm=e.unstable_IdlePriority,wl=null,tr=null;function tk(s){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(wl,s,void 0,(s.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:sk,nk=Math.log,rk=Math.LN2;function sk(s){return s>>>=0,s===0?32:31-(nk(s)/rk|0)|0}var xl=64,bl=4194304;function $i(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function _l(s,a){var c=s.pendingLanes;if(c===0)return 0;var h=0,v=s.suspendedLanes,x=s.pingedLanes,j=c&268435455;if(j!==0){var O=j&~v;O!==0?h=$i(O):(x&=j,x!==0&&(h=$i(x)))}else j=c&~v,j!==0?h=$i(j):x!==0&&(h=$i(x));if(h===0)return 0;if(a!==0&&a!==h&&(a&v)===0&&(v=h&-h,x=a&-a,v>=x||v===16&&(x&4194240)!==0))return a;if((h&4)!==0&&(h|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=h;0<a;)c=31-Pn(a),v=1<<c,h|=s[c],a&=~v;return h}function ak(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ik(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,v=s.expirationTimes,x=s.pendingLanes;0<x;){var j=31-Pn(x),O=1<<j,A=v[j];A===-1?((O&c)===0||(O&h)!==0)&&(v[j]=ak(O,a)):A<=a&&(s.expiredLanes|=O),x&=~O}}function ed(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Em(){var s=xl;return xl<<=1,(xl&4194240)===0&&(xl=64),s}function td(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Fi(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Pn(a),s[a]=c}function ok(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var v=31-Pn(c),x=1<<v;a[v]=0,h[v]=-1,s[v]=-1,c&=~x}}function nd(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-Pn(c),v=1<<h;v&a|s[h]&a&&(s[h]|=a),c&=~v}}var Qe=0;function Cm(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Nm,rd,Tm,Rm,Pm,sd=!1,Sl=[],zr=null,Br=null,Wr=null,Ui=new Map,zi=new Map,Vr=[],lk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Om(s,a){switch(s){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Ui.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":zi.delete(a.pointerId)}}function Bi(s,a,c,h,v,x){return s===null||s.nativeEvent!==x?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:x,targetContainers:[v]},a!==null&&(a=no(a),a!==null&&rd(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),s)}function ck(s,a,c,h,v){switch(a){case"focusin":return zr=Bi(zr,s,a,c,h,v),!0;case"dragenter":return Br=Bi(Br,s,a,c,h,v),!0;case"mouseover":return Wr=Bi(Wr,s,a,c,h,v),!0;case"pointerover":var x=v.pointerId;return Ui.set(x,Bi(Ui.get(x)||null,s,a,c,h,v)),!0;case"gotpointercapture":return x=v.pointerId,zi.set(x,Bi(zi.get(x)||null,s,a,c,h,v)),!0}return!1}function Am(s){var a=Rs(s.target);if(a!==null){var c=Ts(a);if(c!==null){if(a=c.tag,a===13){if(a=ym(c),a!==null){s.blockedOn=a,Pm(s.priority,function(){Tm(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function kl(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=id(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Mi=h,c.target.dispatchEvent(h),Mi=null}else return a=no(c),a!==null&&rd(a),s.blockedOn=c,!1;a.shift()}return!0}function Im(s,a,c){kl(s)&&c.delete(a)}function uk(){sd=!1,zr!==null&&kl(zr)&&(zr=null),Br!==null&&kl(Br)&&(Br=null),Wr!==null&&kl(Wr)&&(Wr=null),Ui.forEach(Im),zi.forEach(Im)}function Wi(s,a){s.blockedOn===a&&(s.blockedOn=null,sd||(sd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,uk)))}function Vi(s){function a(v){return Wi(v,s)}if(0<Sl.length){Wi(Sl[0],s);for(var c=1;c<Sl.length;c++){var h=Sl[c];h.blockedOn===s&&(h.blockedOn=null)}}for(zr!==null&&Wi(zr,s),Br!==null&&Wi(Br,s),Wr!==null&&Wi(Wr,s),Ui.forEach(a),zi.forEach(a),c=0;c<Vr.length;c++)h=Vr[c],h.blockedOn===s&&(h.blockedOn=null);for(;0<Vr.length&&(c=Vr[0],c.blockedOn===null);)Am(c),c.blockedOn===null&&Vr.shift()}var _a=R.ReactCurrentBatchConfig,jl=!0;function dk(s,a,c,h){var v=Qe,x=_a.transition;_a.transition=null;try{Qe=1,ad(s,a,c,h)}finally{Qe=v,_a.transition=x}}function fk(s,a,c,h){var v=Qe,x=_a.transition;_a.transition=null;try{Qe=4,ad(s,a,c,h)}finally{Qe=v,_a.transition=x}}function ad(s,a,c,h){if(jl){var v=id(s,a,c,h);if(v===null)Sd(s,a,h,El,c),Om(s,h);else if(ck(v,s,a,c,h))h.stopPropagation();else if(Om(s,h),a&4&&-1<lk.indexOf(s)){for(;v!==null;){var x=no(v);if(x!==null&&Nm(x),x=id(s,a,c,h),x===null&&Sd(s,a,h,El,c),x===v)break;v=x}v!==null&&h.stopPropagation()}else Sd(s,a,h,null,c)}}var El=null;function id(s,a,c,h){if(El=null,s=xa(h),s=Rs(s),s!==null)if(a=Ts(s),a===null)s=null;else if(c=a.tag,c===13){if(s=ym(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return El=s,null}function Dm(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(X1()){case Xu:return 1;case km:return 4;case yl:case ek:return 16;case jm:return 536870912;default:return 16}default:return 16}}var Hr=null,od=null,Cl=null;function Mm(){if(Cl)return Cl;var s,a=od,c=a.length,h,v="value"in Hr?Hr.value:Hr.textContent,x=v.length;for(s=0;s<c&&a[s]===v[s];s++);var j=c-s;for(h=1;h<=j&&a[c-h]===v[x-h];h++);return Cl=v.slice(s,1<h?1-h:void 0)}function Nl(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Tl(){return!0}function Lm(){return!1}function on(s){function a(c,h,v,x,j){this._reactName=c,this._targetInst=v,this.type=h,this.nativeEvent=x,this.target=j,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(c=s[O],this[O]=c?c(x):x[O]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Tl:Lm,this.isPropagationStopped=Lm,this}return G(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),a}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ld=on(Sa),Hi=G({},Sa,{view:0,detail:0}),hk=on(Hi),cd,ud,qi,Rl=G({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==qi&&(qi&&s.type==="mousemove"?(cd=s.screenX-qi.screenX,ud=s.screenY-qi.screenY):ud=cd=0,qi=s),cd)},movementY:function(s){return"movementY"in s?s.movementY:ud}}),$m=on(Rl),pk=G({},Rl,{dataTransfer:0}),mk=on(pk),gk=G({},Hi,{relatedTarget:0}),dd=on(gk),vk=G({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),yk=on(vk),wk=G({},Sa,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),xk=on(wk),bk=G({},Sa,{data:0}),Fm=on(bk),_k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jk(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=kk[s])?!!a[s]:!1}function fd(){return jk}var Ek=G({},Hi,{key:function(s){if(s.key){var a=_k[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Nl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Sk[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fd,charCode:function(s){return s.type==="keypress"?Nl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Nl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ck=on(Ek),Nk=G({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Um=on(Nk),Tk=G({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fd}),Rk=on(Tk),Pk=G({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ok=on(Pk),Ak=G({},Rl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ik=on(Ak),Dk=[9,13,27,32],hd=d&&"CompositionEvent"in window,Ki=null;d&&"documentMode"in document&&(Ki=document.documentMode);var Mk=d&&"TextEvent"in window&&!Ki,zm=d&&(!hd||Ki&&8<Ki&&11>=Ki),Bm=" ",Wm=!1;function Vm(s,a){switch(s){case"keyup":return Dk.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ka=!1;function Lk(s,a){switch(s){case"compositionend":return Hm(a);case"keypress":return a.which!==32?null:(Wm=!0,Bm);case"textInput":return s=a.data,s===Bm&&Wm?null:s;default:return null}}function $k(s,a){if(ka)return s==="compositionend"||!hd&&Vm(s,a)?(s=Mm(),Cl=od=Hr=null,ka=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return zm&&a.locale!=="ko"?null:a.data;default:return null}}var Fk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Fk[s.type]:a==="textarea"}function Km(s,a,c,h){ml(h),a=Dl(a,"onChange"),0<a.length&&(c=new ld("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var Gi=null,Yi=null;function Uk(s){dg(s,0)}function Pl(s){var a=Ta(s);if(Xe(a))return s}function zk(s,a){if(s==="change")return a}var Gm=!1;if(d){var pd;if(d){var md="oninput"in document;if(!md){var Ym=document.createElement("div");Ym.setAttribute("oninput","return;"),md=typeof Ym.oninput=="function"}pd=md}else pd=!1;Gm=pd&&(!document.documentMode||9<document.documentMode)}function Qm(){Gi&&(Gi.detachEvent("onpropertychange",Zm),Yi=Gi=null)}function Zm(s){if(s.propertyName==="value"&&Pl(Yi)){var a=[];Km(a,Yi,s,xa(s)),qt(Uk,a)}}function Bk(s,a,c){s==="focusin"?(Qm(),Gi=a,Yi=c,Gi.attachEvent("onpropertychange",Zm)):s==="focusout"&&Qm()}function Wk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Pl(Yi)}function Vk(s,a){if(s==="click")return Pl(a)}function Hk(s,a){if(s==="input"||s==="change")return Pl(a)}function qk(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var On=typeof Object.is=="function"?Object.is:qk;function Qi(s,a){if(On(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var v=c[h];if(!f.call(a,v)||!On(s[v],a[v]))return!1}return!0}function Jm(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Xm(s,a){var c=Jm(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Jm(c)}}function eg(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?eg(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function tg(){for(var s=window,a=gt();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=gt(s.document)}return a}function gd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function Kk(s){var a=tg(),c=s.focusedElem,h=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&eg(c.ownerDocument.documentElement,c)){if(h!==null&&gd(c)){if(a=h.start,s=h.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var v=c.textContent.length,x=Math.min(h.start,v);h=h.end===void 0?x:Math.min(h.end,v),!s.extend&&x>h&&(v=h,h=x,x=v),v=Xm(c,x);var j=Xm(c,h);v&&j&&(s.rangeCount!==1||s.anchorNode!==v.node||s.anchorOffset!==v.offset||s.focusNode!==j.node||s.focusOffset!==j.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),s.removeAllRanges(),x>h?(s.addRange(a),s.extend(j.node,j.offset)):(a.setEnd(j.node,j.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Gk=d&&"documentMode"in document&&11>=document.documentMode,ja=null,vd=null,Zi=null,yd=!1;function ng(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;yd||ja==null||ja!==gt(h)||(h=ja,"selectionStart"in h&&gd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Zi&&Qi(Zi,h)||(Zi=h,h=Dl(vd,"onSelect"),0<h.length&&(a=new ld("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=ja)))}function Ol(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Ea={animationend:Ol("Animation","AnimationEnd"),animationiteration:Ol("Animation","AnimationIteration"),animationstart:Ol("Animation","AnimationStart"),transitionend:Ol("Transition","TransitionEnd")},wd={},rg={};d&&(rg=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Al(s){if(wd[s])return wd[s];if(!Ea[s])return s;var a=Ea[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in rg)return wd[s]=a[c];return s}var sg=Al("animationend"),ag=Al("animationiteration"),ig=Al("animationstart"),og=Al("transitionend"),lg=new Map,cg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qr(s,a){lg.set(s,a),o(a,[s])}for(var xd=0;xd<cg.length;xd++){var bd=cg[xd],Yk=bd.toLowerCase(),Qk=bd[0].toUpperCase()+bd.slice(1);qr(Yk,"on"+Qk)}qr(sg,"onAnimationEnd"),qr(ag,"onAnimationIteration"),qr(ig,"onAnimationStart"),qr("dblclick","onDoubleClick"),qr("focusin","onFocus"),qr("focusout","onBlur"),qr(og,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ji));function ug(s,a,c){var h=s.type||"unknown-event";s.currentTarget=c,Y1(h,a,void 0,s),s.currentTarget=null}function dg(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],v=h.event;h=h.listeners;e:{var x=void 0;if(a)for(var j=h.length-1;0<=j;j--){var O=h[j],A=O.instance,W=O.currentTarget;if(O=O.listener,A!==x&&v.isPropagationStopped())break e;ug(v,O,W),x=A}else for(j=0;j<h.length;j++){if(O=h[j],A=O.instance,W=O.currentTarget,O=O.listener,A!==x&&v.isPropagationStopped())break e;ug(v,O,W),x=A}}}if(vl)throw s=Ju,vl=!1,Ju=null,s}function rt(s,a){var c=a[Td];c===void 0&&(c=a[Td]=new Set);var h=s+"__bubble";c.has(h)||(fg(a,s,2,!1),c.add(h))}function _d(s,a,c){var h=0;a&&(h|=4),fg(c,s,h,a)}var Il="_reactListening"+Math.random().toString(36).slice(2);function Xi(s){if(!s[Il]){s[Il]=!0,r.forEach(function(c){c!=="selectionchange"&&(Zk.has(c)||_d(c,!1,s),_d(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Il]||(a[Il]=!0,_d("selectionchange",!1,a))}}function fg(s,a,c,h){switch(Dm(a)){case 1:var v=dk;break;case 4:v=fk;break;default:v=ad}c=v.bind(null,a,c,s),v=void 0,!Rn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),h?v!==void 0?s.addEventListener(a,c,{capture:!0,passive:v}):s.addEventListener(a,c,!0):v!==void 0?s.addEventListener(a,c,{passive:v}):s.addEventListener(a,c,!1)}function Sd(s,a,c,h,v){var x=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var j=h.tag;if(j===3||j===4){var O=h.stateNode.containerInfo;if(O===v||O.nodeType===8&&O.parentNode===v)break;if(j===4)for(j=h.return;j!==null;){var A=j.tag;if((A===3||A===4)&&(A=j.stateNode.containerInfo,A===v||A.nodeType===8&&A.parentNode===v))return;j=j.return}for(;O!==null;){if(j=Rs(O),j===null)return;if(A=j.tag,A===5||A===6){h=x=j;continue e}O=O.parentNode}}h=h.return}qt(function(){var W=x,re=xa(c),ae=[];e:{var ee=lg.get(s);if(ee!==void 0){var de=ld,me=s;switch(s){case"keypress":if(Nl(c)===0)break e;case"keydown":case"keyup":de=Ck;break;case"focusin":me="focus",de=dd;break;case"focusout":me="blur",de=dd;break;case"beforeblur":case"afterblur":de=dd;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=$m;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=mk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Rk;break;case sg:case ag:case ig:de=yk;break;case og:de=Ok;break;case"scroll":de=hk;break;case"wheel":de=Ik;break;case"copy":case"cut":case"paste":de=xk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Um}var ge=(a&4)!==0,ft=!ge&&s==="scroll",U=ge?ee!==null?ee+"Capture":null:ee;ge=[];for(var I=W,B;I!==null;){B=I;var ie=B.stateNode;if(B.tag===5&&ie!==null&&(B=ie,U!==null&&(ie=Kt(I,U),ie!=null&&ge.push(eo(I,ie,B)))),ft)break;I=I.return}0<ge.length&&(ee=new de(ee,me,null,c,re),ae.push({event:ee,listeners:ge}))}}if((a&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",de=s==="mouseout"||s==="pointerout",ee&&c!==Mi&&(me=c.relatedTarget||c.fromElement)&&(Rs(me)||me[wr]))break e;if((de||ee)&&(ee=re.window===re?re:(ee=re.ownerDocument)?ee.defaultView||ee.parentWindow:window,de?(me=c.relatedTarget||c.toElement,de=W,me=me?Rs(me):null,me!==null&&(ft=Ts(me),me!==ft||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=W),de!==me)){if(ge=$m,ie="onMouseLeave",U="onMouseEnter",I="mouse",(s==="pointerout"||s==="pointerover")&&(ge=Um,ie="onPointerLeave",U="onPointerEnter",I="pointer"),ft=de==null?ee:Ta(de),B=me==null?ee:Ta(me),ee=new ge(ie,I+"leave",de,c,re),ee.target=ft,ee.relatedTarget=B,ie=null,Rs(re)===W&&(ge=new ge(U,I+"enter",me,c,re),ge.target=B,ge.relatedTarget=ft,ie=ge),ft=ie,de&&me)t:{for(ge=de,U=me,I=0,B=ge;B;B=Ca(B))I++;for(B=0,ie=U;ie;ie=Ca(ie))B++;for(;0<I-B;)ge=Ca(ge),I--;for(;0<B-I;)U=Ca(U),B--;for(;I--;){if(ge===U||U!==null&&ge===U.alternate)break t;ge=Ca(ge),U=Ca(U)}ge=null}else ge=null;de!==null&&hg(ae,ee,de,ge,!1),me!==null&&ft!==null&&hg(ae,ft,me,ge,!0)}}e:{if(ee=W?Ta(W):window,de=ee.nodeName&&ee.nodeName.toLowerCase(),de==="select"||de==="input"&&ee.type==="file")var we=zk;else if(qm(ee))if(Gm)we=Hk;else{we=Wk;var je=Bk}else(de=ee.nodeName)&&de.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(we=Vk);if(we&&(we=we(s,W))){Km(ae,we,c,re);break e}je&&je(s,ee,W),s==="focusout"&&(je=ee._wrapperState)&&je.controlled&&ee.type==="number"&&Ii(ee,"number",ee.value)}switch(je=W?Ta(W):window,s){case"focusin":(qm(je)||je.contentEditable==="true")&&(ja=je,vd=W,Zi=null);break;case"focusout":Zi=vd=ja=null;break;case"mousedown":yd=!0;break;case"contextmenu":case"mouseup":case"dragend":yd=!1,ng(ae,c,re);break;case"selectionchange":if(Gk)break;case"keydown":case"keyup":ng(ae,c,re)}var Ee;if(hd)e:{switch(s){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else ka?Vm(s,c)&&(Re="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Re="onCompositionStart");Re&&(zm&&c.locale!=="ko"&&(ka||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&ka&&(Ee=Mm()):(Hr=re,od="value"in Hr?Hr.value:Hr.textContent,ka=!0)),je=Dl(W,Re),0<je.length&&(Re=new Fm(Re,s,null,c,re),ae.push({event:Re,listeners:je}),Ee?Re.data=Ee:(Ee=Hm(c),Ee!==null&&(Re.data=Ee)))),(Ee=Mk?Lk(s,c):$k(s,c))&&(W=Dl(W,"onBeforeInput"),0<W.length&&(re=new Fm("onBeforeInput","beforeinput",null,c,re),ae.push({event:re,listeners:W}),re.data=Ee))}dg(ae,a)})}function eo(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Dl(s,a){for(var c=a+"Capture",h=[];s!==null;){var v=s,x=v.stateNode;v.tag===5&&x!==null&&(v=x,x=Kt(s,c),x!=null&&h.unshift(eo(s,x,v)),x=Kt(s,a),x!=null&&h.push(eo(s,x,v))),s=s.return}return h}function Ca(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function hg(s,a,c,h,v){for(var x=a._reactName,j=[];c!==null&&c!==h;){var O=c,A=O.alternate,W=O.stateNode;if(A!==null&&A===h)break;O.tag===5&&W!==null&&(O=W,v?(A=Kt(c,x),A!=null&&j.unshift(eo(c,A,O))):v||(A=Kt(c,x),A!=null&&j.push(eo(c,A,O)))),c=c.return}j.length!==0&&s.push({event:a,listeners:j})}var Jk=/\r\n?/g,Xk=/\u0000|\uFFFD/g;function pg(s){return(typeof s=="string"?s:""+s).replace(Jk,`
`).replace(Xk,"")}function Ml(s,a,c){if(a=pg(a),pg(s)!==a&&c)throw Error(n(425))}function Ll(){}var kd=null,jd=null;function Ed(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Cd=typeof setTimeout=="function"?setTimeout:void 0,ej=typeof clearTimeout=="function"?clearTimeout:void 0,mg=typeof Promise=="function"?Promise:void 0,tj=typeof queueMicrotask=="function"?queueMicrotask:typeof mg<"u"?function(s){return mg.resolve(null).then(s).catch(nj)}:Cd;function nj(s){setTimeout(function(){throw s})}function Nd(s,a){var c=a,h=0;do{var v=c.nextSibling;if(s.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(h===0){s.removeChild(v),Vi(a);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=v}while(c);Vi(a)}function Kr(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function gg(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var Na=Math.random().toString(36).slice(2),nr="__reactFiber$"+Na,to="__reactProps$"+Na,wr="__reactContainer$"+Na,Td="__reactEvents$"+Na,rj="__reactListeners$"+Na,sj="__reactHandles$"+Na;function Rs(s){var a=s[nr];if(a)return a;for(var c=s.parentNode;c;){if(a=c[wr]||c[nr]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=gg(s);s!==null;){if(c=s[nr])return c;s=gg(s)}return a}s=c,c=s.parentNode}return null}function no(s){return s=s[nr]||s[wr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ta(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function $l(s){return s[to]||null}var Rd=[],Ra=-1;function Gr(s){return{current:s}}function st(s){0>Ra||(s.current=Rd[Ra],Rd[Ra]=null,Ra--)}function tt(s,a){Ra++,Rd[Ra]=s.current,s.current=a}var Yr={},It=Gr(Yr),Gt=Gr(!1),Ps=Yr;function Pa(s,a){var c=s.type.contextTypes;if(!c)return Yr;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===a)return h.__reactInternalMemoizedMaskedChildContext;var v={},x;for(x in c)v[x]=a[x];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=v),v}function Yt(s){return s=s.childContextTypes,s!=null}function Fl(){st(Gt),st(It)}function vg(s,a,c){if(It.current!==Yr)throw Error(n(168));tt(It,a),tt(Gt,c)}function yg(s,a,c){var h=s.stateNode;if(a=a.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var v in h)if(!(v in a))throw Error(n(108,Z(s)||"Unknown",v));return G({},c,h)}function Ul(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Yr,Ps=It.current,tt(It,s),tt(Gt,Gt.current),!0}function wg(s,a,c){var h=s.stateNode;if(!h)throw Error(n(169));c?(s=yg(s,a,Ps),h.__reactInternalMemoizedMergedChildContext=s,st(Gt),st(It),tt(It,s)):st(Gt),tt(Gt,c)}var xr=null,zl=!1,Pd=!1;function xg(s){xr===null?xr=[s]:xr.push(s)}function aj(s){zl=!0,xg(s)}function Qr(){if(!Pd&&xr!==null){Pd=!0;var s=0,a=Qe;try{var c=xr;for(Qe=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}xr=null,zl=!1}catch(v){throw xr!==null&&(xr=xr.slice(s+1)),_m(Xu,Qr),v}finally{Qe=a,Pd=!1}}return null}var Oa=[],Aa=0,Bl=null,Wl=0,yn=[],wn=0,Os=null,br=1,_r="";function As(s,a){Oa[Aa++]=Wl,Oa[Aa++]=Bl,Bl=s,Wl=a}function bg(s,a,c){yn[wn++]=br,yn[wn++]=_r,yn[wn++]=Os,Os=s;var h=br;s=_r;var v=32-Pn(h)-1;h&=~(1<<v),c+=1;var x=32-Pn(a)+v;if(30<x){var j=v-v%5;x=(h&(1<<j)-1).toString(32),h>>=j,v-=j,br=1<<32-Pn(a)+v|c<<v|h,_r=x+s}else br=1<<x|c<<v|h,_r=s}function Od(s){s.return!==null&&(As(s,1),bg(s,1,0))}function Ad(s){for(;s===Bl;)Bl=Oa[--Aa],Oa[Aa]=null,Wl=Oa[--Aa],Oa[Aa]=null;for(;s===Os;)Os=yn[--wn],yn[wn]=null,_r=yn[--wn],yn[wn]=null,br=yn[--wn],yn[wn]=null}var ln=null,cn=null,it=!1,An=null;function _g(s,a){var c=Sn(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function Sg(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,ln=s,cn=Kr(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,ln=s,cn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Os!==null?{id:br,overflow:_r}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Sn(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,ln=s,cn=null,!0):!1;default:return!1}}function Id(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Dd(s){if(it){var a=cn;if(a){var c=a;if(!Sg(s,a)){if(Id(s))throw Error(n(418));a=Kr(c.nextSibling);var h=ln;a&&Sg(s,a)?_g(h,c):(s.flags=s.flags&-4097|2,it=!1,ln=s)}}else{if(Id(s))throw Error(n(418));s.flags=s.flags&-4097|2,it=!1,ln=s}}}function kg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;ln=s}function Vl(s){if(s!==ln)return!1;if(!it)return kg(s),it=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Ed(s.type,s.memoizedProps)),a&&(a=cn)){if(Id(s))throw jg(),Error(n(418));for(;a;)_g(s,a),a=Kr(a.nextSibling)}if(kg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){cn=Kr(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}cn=null}}else cn=ln?Kr(s.stateNode.nextSibling):null;return!0}function jg(){for(var s=cn;s;)s=Kr(s.nextSibling)}function Ia(){cn=ln=null,it=!1}function Md(s){An===null?An=[s]:An.push(s)}var ij=R.ReactCurrentBatchConfig;function ro(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var h=c.stateNode}if(!h)throw Error(n(147,s));var v=h,x=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===x?a.ref:(a=function(j){var O=v.refs;j===null?delete O[x]:O[x]=j},a._stringRef=x,a)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function Hl(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Eg(s){var a=s._init;return a(s._payload)}function Cg(s){function a(U,I){if(s){var B=U.deletions;B===null?(U.deletions=[I],U.flags|=16):B.push(I)}}function c(U,I){if(!s)return null;for(;I!==null;)a(U,I),I=I.sibling;return null}function h(U,I){for(U=new Map;I!==null;)I.key!==null?U.set(I.key,I):U.set(I.index,I),I=I.sibling;return U}function v(U,I){return U=ss(U,I),U.index=0,U.sibling=null,U}function x(U,I,B){return U.index=B,s?(B=U.alternate,B!==null?(B=B.index,B<I?(U.flags|=2,I):B):(U.flags|=2,I)):(U.flags|=1048576,I)}function j(U){return s&&U.alternate===null&&(U.flags|=2),U}function O(U,I,B,ie){return I===null||I.tag!==6?(I=Nf(B,U.mode,ie),I.return=U,I):(I=v(I,B),I.return=U,I)}function A(U,I,B,ie){var we=B.type;return we===z?re(U,I,B.props.children,ie,B.key):I!==null&&(I.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===J&&Eg(we)===I.type)?(ie=v(I,B.props),ie.ref=ro(U,I,B),ie.return=U,ie):(ie=mc(B.type,B.key,B.props,null,U.mode,ie),ie.ref=ro(U,I,B),ie.return=U,ie)}function W(U,I,B,ie){return I===null||I.tag!==4||I.stateNode.containerInfo!==B.containerInfo||I.stateNode.implementation!==B.implementation?(I=Tf(B,U.mode,ie),I.return=U,I):(I=v(I,B.children||[]),I.return=U,I)}function re(U,I,B,ie,we){return I===null||I.tag!==7?(I=zs(B,U.mode,ie,we),I.return=U,I):(I=v(I,B),I.return=U,I)}function ae(U,I,B){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Nf(""+I,U.mode,B),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case P:return B=mc(I.type,I.key,I.props,null,U.mode,B),B.ref=ro(U,null,I),B.return=U,B;case M:return I=Tf(I,U.mode,B),I.return=U,I;case J:var ie=I._init;return ae(U,ie(I._payload),B)}if(Fr(I)||D(I))return I=zs(I,U.mode,B,null),I.return=U,I;Hl(U,I)}return null}function ee(U,I,B,ie){var we=I!==null?I.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return we!==null?null:O(U,I,""+B,ie);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case P:return B.key===we?A(U,I,B,ie):null;case M:return B.key===we?W(U,I,B,ie):null;case J:return we=B._init,ee(U,I,we(B._payload),ie)}if(Fr(B)||D(B))return we!==null?null:re(U,I,B,ie,null);Hl(U,B)}return null}function de(U,I,B,ie,we){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return U=U.get(B)||null,O(I,U,""+ie,we);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case P:return U=U.get(ie.key===null?B:ie.key)||null,A(I,U,ie,we);case M:return U=U.get(ie.key===null?B:ie.key)||null,W(I,U,ie,we);case J:var je=ie._init;return de(U,I,B,je(ie._payload),we)}if(Fr(ie)||D(ie))return U=U.get(B)||null,re(I,U,ie,we,null);Hl(I,ie)}return null}function me(U,I,B,ie){for(var we=null,je=null,Ee=I,Re=I=0,jt=null;Ee!==null&&Re<B.length;Re++){Ee.index>Re?(jt=Ee,Ee=null):jt=Ee.sibling;var Ke=ee(U,Ee,B[Re],ie);if(Ke===null){Ee===null&&(Ee=jt);break}s&&Ee&&Ke.alternate===null&&a(U,Ee),I=x(Ke,I,Re),je===null?we=Ke:je.sibling=Ke,je=Ke,Ee=jt}if(Re===B.length)return c(U,Ee),it&&As(U,Re),we;if(Ee===null){for(;Re<B.length;Re++)Ee=ae(U,B[Re],ie),Ee!==null&&(I=x(Ee,I,Re),je===null?we=Ee:je.sibling=Ee,je=Ee);return it&&As(U,Re),we}for(Ee=h(U,Ee);Re<B.length;Re++)jt=de(Ee,U,Re,B[Re],ie),jt!==null&&(s&&jt.alternate!==null&&Ee.delete(jt.key===null?Re:jt.key),I=x(jt,I,Re),je===null?we=jt:je.sibling=jt,je=jt);return s&&Ee.forEach(function(as){return a(U,as)}),it&&As(U,Re),we}function ge(U,I,B,ie){var we=D(B);if(typeof we!="function")throw Error(n(150));if(B=we.call(B),B==null)throw Error(n(151));for(var je=we=null,Ee=I,Re=I=0,jt=null,Ke=B.next();Ee!==null&&!Ke.done;Re++,Ke=B.next()){Ee.index>Re?(jt=Ee,Ee=null):jt=Ee.sibling;var as=ee(U,Ee,Ke.value,ie);if(as===null){Ee===null&&(Ee=jt);break}s&&Ee&&as.alternate===null&&a(U,Ee),I=x(as,I,Re),je===null?we=as:je.sibling=as,je=as,Ee=jt}if(Ke.done)return c(U,Ee),it&&As(U,Re),we;if(Ee===null){for(;!Ke.done;Re++,Ke=B.next())Ke=ae(U,Ke.value,ie),Ke!==null&&(I=x(Ke,I,Re),je===null?we=Ke:je.sibling=Ke,je=Ke);return it&&As(U,Re),we}for(Ee=h(U,Ee);!Ke.done;Re++,Ke=B.next())Ke=de(Ee,U,Re,Ke.value,ie),Ke!==null&&(s&&Ke.alternate!==null&&Ee.delete(Ke.key===null?Re:Ke.key),I=x(Ke,I,Re),je===null?we=Ke:je.sibling=Ke,je=Ke);return s&&Ee.forEach(function(Fj){return a(U,Fj)}),it&&As(U,Re),we}function ft(U,I,B,ie){if(typeof B=="object"&&B!==null&&B.type===z&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case P:e:{for(var we=B.key,je=I;je!==null;){if(je.key===we){if(we=B.type,we===z){if(je.tag===7){c(U,je.sibling),I=v(je,B.props.children),I.return=U,U=I;break e}}else if(je.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===J&&Eg(we)===je.type){c(U,je.sibling),I=v(je,B.props),I.ref=ro(U,je,B),I.return=U,U=I;break e}c(U,je);break}else a(U,je);je=je.sibling}B.type===z?(I=zs(B.props.children,U.mode,ie,B.key),I.return=U,U=I):(ie=mc(B.type,B.key,B.props,null,U.mode,ie),ie.ref=ro(U,I,B),ie.return=U,U=ie)}return j(U);case M:e:{for(je=B.key;I!==null;){if(I.key===je)if(I.tag===4&&I.stateNode.containerInfo===B.containerInfo&&I.stateNode.implementation===B.implementation){c(U,I.sibling),I=v(I,B.children||[]),I.return=U,U=I;break e}else{c(U,I);break}else a(U,I);I=I.sibling}I=Tf(B,U.mode,ie),I.return=U,U=I}return j(U);case J:return je=B._init,ft(U,I,je(B._payload),ie)}if(Fr(B))return me(U,I,B,ie);if(D(B))return ge(U,I,B,ie);Hl(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,I!==null&&I.tag===6?(c(U,I.sibling),I=v(I,B),I.return=U,U=I):(c(U,I),I=Nf(B,U.mode,ie),I.return=U,U=I),j(U)):c(U,I)}return ft}var Da=Cg(!0),Ng=Cg(!1),ql=Gr(null),Kl=null,Ma=null,Ld=null;function $d(){Ld=Ma=Kl=null}function Fd(s){var a=ql.current;st(ql),s._currentValue=a}function Ud(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function La(s,a){Kl=s,Ld=Ma=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Qt=!0),s.firstContext=null)}function xn(s){var a=s._currentValue;if(Ld!==s)if(s={context:s,memoizedValue:a,next:null},Ma===null){if(Kl===null)throw Error(n(308));Ma=s,Kl.dependencies={lanes:0,firstContext:s}}else Ma=Ma.next=s;return a}var Is=null;function zd(s){Is===null?Is=[s]:Is.push(s)}function Tg(s,a,c,h){var v=a.interleaved;return v===null?(c.next=c,zd(a)):(c.next=v.next,v.next=c),a.interleaved=c,Sr(s,h)}function Sr(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Zr=!1;function Bd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function kr(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Jr(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(He&2)!==0){var v=h.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),h.pending=a,Sr(s,c)}return v=h.interleaved,v===null?(a.next=a,zd(h)):(a.next=v.next,v.next=a),h.interleaved=a,Sr(s,c)}function Gl(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,nd(s,c)}}function Pg(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var v=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var j={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?v=x=j:x=x.next=j,c=c.next}while(c!==null);x===null?v=x=a:x=x.next=a}else v=x=a;c={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function Yl(s,a,c,h){var v=s.updateQueue;Zr=!1;var x=v.firstBaseUpdate,j=v.lastBaseUpdate,O=v.shared.pending;if(O!==null){v.shared.pending=null;var A=O,W=A.next;A.next=null,j===null?x=W:j.next=W,j=A;var re=s.alternate;re!==null&&(re=re.updateQueue,O=re.lastBaseUpdate,O!==j&&(O===null?re.firstBaseUpdate=W:O.next=W,re.lastBaseUpdate=A))}if(x!==null){var ae=v.baseState;j=0,re=W=A=null,O=x;do{var ee=O.lane,de=O.eventTime;if((h&ee)===ee){re!==null&&(re=re.next={eventTime:de,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var me=s,ge=O;switch(ee=a,de=c,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){ae=me.call(de,ae,ee);break e}ae=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,ee=typeof me=="function"?me.call(de,ae,ee):me,ee==null)break e;ae=G({},ae,ee);break e;case 2:Zr=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,ee=v.effects,ee===null?v.effects=[O]:ee.push(O))}else de={eventTime:de,lane:ee,tag:O.tag,payload:O.payload,callback:O.callback,next:null},re===null?(W=re=de,A=ae):re=re.next=de,j|=ee;if(O=O.next,O===null){if(O=v.shared.pending,O===null)break;ee=O,O=ee.next,ee.next=null,v.lastBaseUpdate=ee,v.shared.pending=null}}while(!0);if(re===null&&(A=ae),v.baseState=A,v.firstBaseUpdate=W,v.lastBaseUpdate=re,a=v.shared.interleaved,a!==null){v=a;do j|=v.lane,v=v.next;while(v!==a)}else x===null&&(v.shared.lanes=0);Ls|=j,s.lanes=j,s.memoizedState=ae}}function Og(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var h=s[a],v=h.callback;if(v!==null){if(h.callback=null,h=c,typeof v!="function")throw Error(n(191,v));v.call(h)}}}var so={},rr=Gr(so),ao=Gr(so),io=Gr(so);function Ds(s){if(s===so)throw Error(n(174));return s}function Wd(s,a){switch(tt(io,a),tt(ao,s),tt(rr,so),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Qn(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Qn(a,s)}st(rr),tt(rr,a)}function $a(){st(rr),st(ao),st(io)}function Ag(s){Ds(io.current);var a=Ds(rr.current),c=Qn(a,s.type);a!==c&&(tt(ao,s),tt(rr,c))}function Vd(s){ao.current===s&&(st(rr),st(ao))}var ot=Gr(0);function Ql(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Hd=[];function qd(){for(var s=0;s<Hd.length;s++)Hd[s]._workInProgressVersionPrimary=null;Hd.length=0}var Zl=R.ReactCurrentDispatcher,Kd=R.ReactCurrentBatchConfig,Ms=0,lt=null,xt=null,St=null,Jl=!1,oo=!1,lo=0,oj=0;function Dt(){throw Error(n(321))}function Gd(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!On(s[c],a[c]))return!1;return!0}function Yd(s,a,c,h,v,x){if(Ms=x,lt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Zl.current=s===null||s.memoizedState===null?dj:fj,s=c(h,v),oo){x=0;do{if(oo=!1,lo=0,25<=x)throw Error(n(301));x+=1,St=xt=null,a.updateQueue=null,Zl.current=hj,s=c(h,v)}while(oo)}if(Zl.current=tc,a=xt!==null&&xt.next!==null,Ms=0,St=xt=lt=null,Jl=!1,a)throw Error(n(300));return s}function Qd(){var s=lo!==0;return lo=0,s}function sr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?lt.memoizedState=St=s:St=St.next=s,St}function bn(){if(xt===null){var s=lt.alternate;s=s!==null?s.memoizedState:null}else s=xt.next;var a=St===null?lt.memoizedState:St.next;if(a!==null)St=a,xt=s;else{if(s===null)throw Error(n(310));xt=s,s={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},St===null?lt.memoizedState=St=s:St=St.next=s}return St}function co(s,a){return typeof a=="function"?a(s):a}function Zd(s){var a=bn(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var h=xt,v=h.baseQueue,x=c.pending;if(x!==null){if(v!==null){var j=v.next;v.next=x.next,x.next=j}h.baseQueue=v=x,c.pending=null}if(v!==null){x=v.next,h=h.baseState;var O=j=null,A=null,W=x;do{var re=W.lane;if((Ms&re)===re)A!==null&&(A=A.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),h=W.hasEagerState?W.eagerState:s(h,W.action);else{var ae={lane:re,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};A===null?(O=A=ae,j=h):A=A.next=ae,lt.lanes|=re,Ls|=re}W=W.next}while(W!==null&&W!==x);A===null?j=h:A.next=O,On(h,a.memoizedState)||(Qt=!0),a.memoizedState=h,a.baseState=j,a.baseQueue=A,c.lastRenderedState=h}if(s=c.interleaved,s!==null){v=s;do x=v.lane,lt.lanes|=x,Ls|=x,v=v.next;while(v!==s)}else v===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Jd(s){var a=bn(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var h=c.dispatch,v=c.pending,x=a.memoizedState;if(v!==null){c.pending=null;var j=v=v.next;do x=s(x,j.action),j=j.next;while(j!==v);On(x,a.memoizedState)||(Qt=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),c.lastRenderedState=x}return[x,h]}function Ig(){}function Dg(s,a){var c=lt,h=bn(),v=a(),x=!On(h.memoizedState,v);if(x&&(h.memoizedState=v,Qt=!0),h=h.queue,Xd($g.bind(null,c,h,s),[s]),h.getSnapshot!==a||x||St!==null&&St.memoizedState.tag&1){if(c.flags|=2048,uo(9,Lg.bind(null,c,h,v,a),void 0,null),kt===null)throw Error(n(349));(Ms&30)!==0||Mg(c,a,v)}return v}function Mg(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=lt.updateQueue,a===null?(a={lastEffect:null,stores:null},lt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function Lg(s,a,c,h){a.value=c,a.getSnapshot=h,Fg(a)&&Ug(s)}function $g(s,a,c){return c(function(){Fg(a)&&Ug(s)})}function Fg(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!On(s,c)}catch{return!0}}function Ug(s){var a=Sr(s,1);a!==null&&Ln(a,s,1,-1)}function zg(s){var a=sr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:s},a.queue=s,s=s.dispatch=uj.bind(null,lt,s),[a.memoizedState,s]}function uo(s,a,c,h){return s={tag:s,create:a,destroy:c,deps:h,next:null},a=lt.updateQueue,a===null?(a={lastEffect:null,stores:null},lt.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s)),s}function Bg(){return bn().memoizedState}function Xl(s,a,c,h){var v=sr();lt.flags|=s,v.memoizedState=uo(1|a,c,void 0,h===void 0?null:h)}function ec(s,a,c,h){var v=bn();h=h===void 0?null:h;var x=void 0;if(xt!==null){var j=xt.memoizedState;if(x=j.destroy,h!==null&&Gd(h,j.deps)){v.memoizedState=uo(a,c,x,h);return}}lt.flags|=s,v.memoizedState=uo(1|a,c,x,h)}function Wg(s,a){return Xl(8390656,8,s,a)}function Xd(s,a){return ec(2048,8,s,a)}function Vg(s,a){return ec(4,2,s,a)}function Hg(s,a){return ec(4,4,s,a)}function qg(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Kg(s,a,c){return c=c!=null?c.concat([s]):null,ec(4,4,qg.bind(null,a,s),c)}function ef(){}function Gg(s,a){var c=bn();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&Gd(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function Yg(s,a){var c=bn();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&Gd(a,h[1])?h[0]:(s=s(),c.memoizedState=[s,a],s)}function Qg(s,a,c){return(Ms&21)===0?(s.baseState&&(s.baseState=!1,Qt=!0),s.memoizedState=c):(On(c,a)||(c=Em(),lt.lanes|=c,Ls|=c,s.baseState=!0),a)}function lj(s,a){var c=Qe;Qe=c!==0&&4>c?c:4,s(!0);var h=Kd.transition;Kd.transition={};try{s(!1),a()}finally{Qe=c,Kd.transition=h}}function Zg(){return bn().memoizedState}function cj(s,a,c){var h=ns(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},Jg(s))Xg(a,c);else if(c=Tg(s,a,c,h),c!==null){var v=Bt();Ln(c,s,h,v),ev(c,a,h)}}function uj(s,a,c){var h=ns(s),v={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(Jg(s))Xg(a,v);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var j=a.lastRenderedState,O=x(j,c);if(v.hasEagerState=!0,v.eagerState=O,On(O,j)){var A=a.interleaved;A===null?(v.next=v,zd(a)):(v.next=A.next,A.next=v),a.interleaved=v;return}}catch{}c=Tg(s,a,v,h),c!==null&&(v=Bt(),Ln(c,s,h,v),ev(c,a,h))}}function Jg(s){var a=s.alternate;return s===lt||a!==null&&a===lt}function Xg(s,a){oo=Jl=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function ev(s,a,c){if((c&4194240)!==0){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,nd(s,c)}}var tc={readContext:xn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},dj={readContext:xn,useCallback:function(s,a){return sr().memoizedState=[s,a===void 0?null:a],s},useContext:xn,useEffect:Wg,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,Xl(4194308,4,qg.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Xl(4194308,4,s,a)},useInsertionEffect:function(s,a){return Xl(4,2,s,a)},useMemo:function(s,a){var c=sr();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var h=sr();return a=c!==void 0?c(a):a,h.memoizedState=h.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},h.queue=s,s=s.dispatch=cj.bind(null,lt,s),[h.memoizedState,s]},useRef:function(s){var a=sr();return s={current:s},a.memoizedState=s},useState:zg,useDebugValue:ef,useDeferredValue:function(s){return sr().memoizedState=s},useTransition:function(){var s=zg(!1),a=s[0];return s=lj.bind(null,s[1]),sr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var h=lt,v=sr();if(it){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),kt===null)throw Error(n(349));(Ms&30)!==0||Mg(h,a,c)}v.memoizedState=c;var x={value:c,getSnapshot:a};return v.queue=x,Wg($g.bind(null,h,x,s),[s]),h.flags|=2048,uo(9,Lg.bind(null,h,x,c,a),void 0,null),c},useId:function(){var s=sr(),a=kt.identifierPrefix;if(it){var c=_r,h=br;c=(h&~(1<<32-Pn(h)-1)).toString(32)+c,a=":"+a+"R"+c,c=lo++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=oj++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},fj={readContext:xn,useCallback:Gg,useContext:xn,useEffect:Xd,useImperativeHandle:Kg,useInsertionEffect:Vg,useLayoutEffect:Hg,useMemo:Yg,useReducer:Zd,useRef:Bg,useState:function(){return Zd(co)},useDebugValue:ef,useDeferredValue:function(s){var a=bn();return Qg(a,xt.memoizedState,s)},useTransition:function(){var s=Zd(co)[0],a=bn().memoizedState;return[s,a]},useMutableSource:Ig,useSyncExternalStore:Dg,useId:Zg,unstable_isNewReconciler:!1},hj={readContext:xn,useCallback:Gg,useContext:xn,useEffect:Xd,useImperativeHandle:Kg,useInsertionEffect:Vg,useLayoutEffect:Hg,useMemo:Yg,useReducer:Jd,useRef:Bg,useState:function(){return Jd(co)},useDebugValue:ef,useDeferredValue:function(s){var a=bn();return xt===null?a.memoizedState=s:Qg(a,xt.memoizedState,s)},useTransition:function(){var s=Jd(co)[0],a=bn().memoizedState;return[s,a]},useMutableSource:Ig,useSyncExternalStore:Dg,useId:Zg,unstable_isNewReconciler:!1};function In(s,a){if(s&&s.defaultProps){a=G({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function tf(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:G({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var nc={isMounted:function(s){return(s=s._reactInternals)?Ts(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var h=Bt(),v=ns(s),x=kr(h,v);x.payload=a,c!=null&&(x.callback=c),a=Jr(s,x,v),a!==null&&(Ln(a,s,v,h),Gl(a,s,v))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=Bt(),v=ns(s),x=kr(h,v);x.tag=1,x.payload=a,c!=null&&(x.callback=c),a=Jr(s,x,v),a!==null&&(Ln(a,s,v,h),Gl(a,s,v))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Bt(),h=ns(s),v=kr(c,h);v.tag=2,a!=null&&(v.callback=a),a=Jr(s,v,h),a!==null&&(Ln(a,s,h,c),Gl(a,s,h))}};function tv(s,a,c,h,v,x,j){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,x,j):a.prototype&&a.prototype.isPureReactComponent?!Qi(c,h)||!Qi(v,x):!0}function nv(s,a,c){var h=!1,v=Yr,x=a.contextType;return typeof x=="object"&&x!==null?x=xn(x):(v=Yt(a)?Ps:It.current,h=a.contextTypes,x=(h=h!=null)?Pa(s,v):Yr),a=new a(c,x),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=nc,s.stateNode=a,a._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=v,s.__reactInternalMemoizedMaskedChildContext=x),a}function rv(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&nc.enqueueReplaceState(a,a.state,null)}function nf(s,a,c,h){var v=s.stateNode;v.props=c,v.state=s.memoizedState,v.refs={},Bd(s);var x=a.contextType;typeof x=="object"&&x!==null?v.context=xn(x):(x=Yt(a)?Ps:It.current,v.context=Pa(s,x)),v.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(tf(s,a,x,c),v.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&nc.enqueueReplaceState(v,v.state,null),Yl(s,c,v,h),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308)}function Fa(s,a){try{var c="",h=a;do c+=ye(h),h=h.return;while(h);var v=c}catch(x){v=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:a,stack:v,digest:null}}function rf(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function sf(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var pj=typeof WeakMap=="function"?WeakMap:Map;function sv(s,a,c){c=kr(-1,c),c.tag=3,c.payload={element:null};var h=a.value;return c.callback=function(){cc||(cc=!0,xf=h),sf(s,a)},c}function av(s,a,c){c=kr(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var v=a.value;c.payload=function(){return h(v)},c.callback=function(){sf(s,a)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){sf(s,a),typeof h!="function"&&(es===null?es=new Set([this]):es.add(this));var j=a.stack;this.componentDidCatch(a.value,{componentStack:j!==null?j:""})}),c}function iv(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new pj;var v=new Set;h.set(a,v)}else v=h.get(a),v===void 0&&(v=new Set,h.set(a,v));v.has(c)||(v.add(c),s=Nj.bind(null,s,a,c),a.then(s,s))}function ov(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function lv(s,a,c,h,v){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=kr(-1,1),a.tag=2,Jr(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=v,s)}var mj=R.ReactCurrentOwner,Qt=!1;function zt(s,a,c,h){a.child=s===null?Ng(a,null,c,h):Da(a,s.child,c,h)}function cv(s,a,c,h,v){c=c.render;var x=a.ref;return La(a,v),h=Yd(s,a,c,h,x,v),c=Qd(),s!==null&&!Qt?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~v,jr(s,a,v)):(it&&c&&Od(a),a.flags|=1,zt(s,a,h,v),a.child)}function uv(s,a,c,h,v){if(s===null){var x=c.type;return typeof x=="function"&&!Cf(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=x,dv(s,a,x,h,v)):(s=mc(c.type,null,h,a,a.mode,v),s.ref=a.ref,s.return=a,a.child=s)}if(x=s.child,(s.lanes&v)===0){var j=x.memoizedProps;if(c=c.compare,c=c!==null?c:Qi,c(j,h)&&s.ref===a.ref)return jr(s,a,v)}return a.flags|=1,s=ss(x,h),s.ref=a.ref,s.return=a,a.child=s}function dv(s,a,c,h,v){if(s!==null){var x=s.memoizedProps;if(Qi(x,h)&&s.ref===a.ref)if(Qt=!1,a.pendingProps=h=x,(s.lanes&v)!==0)(s.flags&131072)!==0&&(Qt=!0);else return a.lanes=s.lanes,jr(s,a,v)}return af(s,a,c,h,v)}function fv(s,a,c){var h=a.pendingProps,v=h.children,x=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(za,un),un|=c;else{if((c&1073741824)===0)return s=x!==null?x.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,tt(za,un),un|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=x!==null?x.baseLanes:c,tt(za,un),un|=h}else x!==null?(h=x.baseLanes|c,a.memoizedState=null):h=c,tt(za,un),un|=h;return zt(s,a,v,c),a.child}function hv(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function af(s,a,c,h,v){var x=Yt(c)?Ps:It.current;return x=Pa(a,x),La(a,v),c=Yd(s,a,c,h,x,v),h=Qd(),s!==null&&!Qt?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~v,jr(s,a,v)):(it&&h&&Od(a),a.flags|=1,zt(s,a,c,v),a.child)}function pv(s,a,c,h,v){if(Yt(c)){var x=!0;Ul(a)}else x=!1;if(La(a,v),a.stateNode===null)sc(s,a),nv(a,c,h),nf(a,c,h,v),h=!0;else if(s===null){var j=a.stateNode,O=a.memoizedProps;j.props=O;var A=j.context,W=c.contextType;typeof W=="object"&&W!==null?W=xn(W):(W=Yt(c)?Ps:It.current,W=Pa(a,W));var re=c.getDerivedStateFromProps,ae=typeof re=="function"||typeof j.getSnapshotBeforeUpdate=="function";ae||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(O!==h||A!==W)&&rv(a,j,h,W),Zr=!1;var ee=a.memoizedState;j.state=ee,Yl(a,h,j,v),A=a.memoizedState,O!==h||ee!==A||Gt.current||Zr?(typeof re=="function"&&(tf(a,c,re,h),A=a.memoizedState),(O=Zr||tv(a,c,O,h,ee,A,W))?(ae||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(a.flags|=4194308)):(typeof j.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=A),j.props=h,j.state=A,j.context=W,h=O):(typeof j.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{j=a.stateNode,Rg(s,a),O=a.memoizedProps,W=a.type===a.elementType?O:In(a.type,O),j.props=W,ae=a.pendingProps,ee=j.context,A=c.contextType,typeof A=="object"&&A!==null?A=xn(A):(A=Yt(c)?Ps:It.current,A=Pa(a,A));var de=c.getDerivedStateFromProps;(re=typeof de=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(O!==ae||ee!==A)&&rv(a,j,h,A),Zr=!1,ee=a.memoizedState,j.state=ee,Yl(a,h,j,v);var me=a.memoizedState;O!==ae||ee!==me||Gt.current||Zr?(typeof de=="function"&&(tf(a,c,de,h),me=a.memoizedState),(W=Zr||tv(a,c,W,h,ee,me,A)||!1)?(re||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(h,me,A),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(h,me,A)),typeof j.componentDidUpdate=="function"&&(a.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof j.componentDidUpdate!="function"||O===s.memoizedProps&&ee===s.memoizedState||(a.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ee===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=me),j.props=h,j.state=me,j.context=A,h=W):(typeof j.componentDidUpdate!="function"||O===s.memoizedProps&&ee===s.memoizedState||(a.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ee===s.memoizedState||(a.flags|=1024),h=!1)}return of(s,a,c,h,x,v)}function of(s,a,c,h,v,x){hv(s,a);var j=(a.flags&128)!==0;if(!h&&!j)return v&&wg(a,c,!1),jr(s,a,x);h=a.stateNode,mj.current=a;var O=j&&typeof c.getDerivedStateFromError!="function"?null:h.render();return a.flags|=1,s!==null&&j?(a.child=Da(a,s.child,null,x),a.child=Da(a,null,O,x)):zt(s,a,O,x),a.memoizedState=h.state,v&&wg(a,c,!0),a.child}function mv(s){var a=s.stateNode;a.pendingContext?vg(s,a.pendingContext,a.pendingContext!==a.context):a.context&&vg(s,a.context,!1),Wd(s,a.containerInfo)}function gv(s,a,c,h,v){return Ia(),Md(v),a.flags|=256,zt(s,a,c,h),a.child}var lf={dehydrated:null,treeContext:null,retryLane:0};function cf(s){return{baseLanes:s,cachePool:null,transitions:null}}function vv(s,a,c){var h=a.pendingProps,v=ot.current,x=!1,j=(a.flags&128)!==0,O;if((O=j)||(O=s!==null&&s.memoizedState===null?!1:(v&2)!==0),O?(x=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(v|=1),tt(ot,v&1),s===null)return Dd(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(j=h.children,s=h.fallback,x?(h=a.mode,x=a.child,j={mode:"hidden",children:j},(h&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=j):x=gc(j,h,0,null),s=zs(s,h,c,null),x.return=a,s.return=a,x.sibling=s,a.child=x,a.child.memoizedState=cf(c),a.memoizedState=lf,s):uf(a,j));if(v=s.memoizedState,v!==null&&(O=v.dehydrated,O!==null))return gj(s,a,j,h,O,v,c);if(x){x=h.fallback,j=a.mode,v=s.child,O=v.sibling;var A={mode:"hidden",children:h.children};return(j&1)===0&&a.child!==v?(h=a.child,h.childLanes=0,h.pendingProps=A,a.deletions=null):(h=ss(v,A),h.subtreeFlags=v.subtreeFlags&14680064),O!==null?x=ss(O,x):(x=zs(x,j,c,null),x.flags|=2),x.return=a,h.return=a,h.sibling=x,a.child=h,h=x,x=a.child,j=s.child.memoizedState,j=j===null?cf(c):{baseLanes:j.baseLanes|c,cachePool:null,transitions:j.transitions},x.memoizedState=j,x.childLanes=s.childLanes&~c,a.memoizedState=lf,h}return x=s.child,s=x.sibling,h=ss(x,{mode:"visible",children:h.children}),(a.mode&1)===0&&(h.lanes=c),h.return=a,h.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=h,a.memoizedState=null,h}function uf(s,a){return a=gc({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function rc(s,a,c,h){return h!==null&&Md(h),Da(a,s.child,null,c),s=uf(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function gj(s,a,c,h,v,x,j){if(c)return a.flags&256?(a.flags&=-257,h=rf(Error(n(422))),rc(s,a,j,h)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(x=h.fallback,v=a.mode,h=gc({mode:"visible",children:h.children},v,0,null),x=zs(x,v,j,null),x.flags|=2,h.return=a,x.return=a,h.sibling=x,a.child=h,(a.mode&1)!==0&&Da(a,s.child,null,j),a.child.memoizedState=cf(j),a.memoizedState=lf,x);if((a.mode&1)===0)return rc(s,a,j,null);if(v.data==="$!"){if(h=v.nextSibling&&v.nextSibling.dataset,h)var O=h.dgst;return h=O,x=Error(n(419)),h=rf(x,h,void 0),rc(s,a,j,h)}if(O=(j&s.childLanes)!==0,Qt||O){if(h=kt,h!==null){switch(j&-j){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(h.suspendedLanes|j))!==0?0:v,v!==0&&v!==x.retryLane&&(x.retryLane=v,Sr(s,v),Ln(h,s,v,-1))}return Ef(),h=rf(Error(n(421))),rc(s,a,j,h)}return v.data==="$?"?(a.flags|=128,a.child=s.child,a=Tj.bind(null,s),v._reactRetry=a,null):(s=x.treeContext,cn=Kr(v.nextSibling),ln=a,it=!0,An=null,s!==null&&(yn[wn++]=br,yn[wn++]=_r,yn[wn++]=Os,br=s.id,_r=s.overflow,Os=a),a=uf(a,h.children),a.flags|=4096,a)}function yv(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),Ud(s.return,a,c)}function df(s,a,c,h,v){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:v}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=c,x.tailMode=v)}function wv(s,a,c){var h=a.pendingProps,v=h.revealOrder,x=h.tail;if(zt(s,a,h.children,c),h=ot.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&yv(s,c,a);else if(s.tag===19)yv(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(tt(ot,h),(a.mode&1)===0)a.memoizedState=null;else switch(v){case"forwards":for(c=a.child,v=null;c!==null;)s=c.alternate,s!==null&&Ql(s)===null&&(v=c),c=c.sibling;c=v,c===null?(v=a.child,a.child=null):(v=c.sibling,c.sibling=null),df(a,!1,v,c,x);break;case"backwards":for(c=null,v=a.child,a.child=null;v!==null;){if(s=v.alternate,s!==null&&Ql(s)===null){a.child=v;break}s=v.sibling,v.sibling=c,c=v,v=s}df(a,!0,c,null,x);break;case"together":df(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function sc(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function jr(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Ls|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,c=ss(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=ss(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function vj(s,a,c){switch(a.tag){case 3:mv(a),Ia();break;case 5:Ag(a);break;case 1:Yt(a.type)&&Ul(a);break;case 4:Wd(a,a.stateNode.containerInfo);break;case 10:var h=a.type._context,v=a.memoizedProps.value;tt(ql,h._currentValue),h._currentValue=v;break;case 13:if(h=a.memoizedState,h!==null)return h.dehydrated!==null?(tt(ot,ot.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?vv(s,a,c):(tt(ot,ot.current&1),s=jr(s,a,c),s!==null?s.sibling:null);tt(ot,ot.current&1);break;case 19:if(h=(c&a.childLanes)!==0,(s.flags&128)!==0){if(h)return wv(s,a,c);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),tt(ot,ot.current),h)break;return null;case 22:case 23:return a.lanes=0,fv(s,a,c)}return jr(s,a,c)}var xv,ff,bv,_v;xv=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},ff=function(){},bv=function(s,a,c,h){var v=s.memoizedProps;if(v!==h){s=a.stateNode,Ds(rr.current);var x=null;switch(c){case"input":v=an(s,v),h=an(s,h),x=[];break;case"select":v=G({},v,{value:void 0}),h=G({},h,{value:void 0}),x=[];break;case"textarea":v=va(s,v),h=va(s,h),x=[];break;default:typeof v.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Ll)}Jn(c,h);var j;c=null;for(W in v)if(!h.hasOwnProperty(W)&&v.hasOwnProperty(W)&&v[W]!=null)if(W==="style"){var O=v[W];for(j in O)O.hasOwnProperty(j)&&(c||(c={}),c[j]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(i.hasOwnProperty(W)?x||(x=[]):(x=x||[]).push(W,null));for(W in h){var A=h[W];if(O=v?.[W],h.hasOwnProperty(W)&&A!==O&&(A!=null||O!=null))if(W==="style")if(O){for(j in O)!O.hasOwnProperty(j)||A&&A.hasOwnProperty(j)||(c||(c={}),c[j]="");for(j in A)A.hasOwnProperty(j)&&O[j]!==A[j]&&(c||(c={}),c[j]=A[j])}else c||(x||(x=[]),x.push(W,c)),c=A;else W==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,O=O?O.__html:void 0,A!=null&&O!==A&&(x=x||[]).push(W,A)):W==="children"?typeof A!="string"&&typeof A!="number"||(x=x||[]).push(W,""+A):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(i.hasOwnProperty(W)?(A!=null&&W==="onScroll"&&rt("scroll",s),x||O===A||(x=[])):(x=x||[]).push(W,A))}c&&(x=x||[]).push("style",c);var W=x;(a.updateQueue=W)&&(a.flags|=4)}},_v=function(s,a,c,h){c!==h&&(a.flags|=4)};function fo(s,a){if(!it)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Mt(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var v=s.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags&14680064,h|=v.flags&14680064,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function yj(s,a,c){var h=a.pendingProps;switch(Ad(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(a),null;case 1:return Yt(a.type)&&Fl(),Mt(a),null;case 3:return h=a.stateNode,$a(),st(Gt),st(It),qd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Vl(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,An!==null&&(Sf(An),An=null))),ff(s,a),Mt(a),null;case 5:Vd(a);var v=Ds(io.current);if(c=a.type,s!==null&&a.stateNode!=null)bv(s,a,c,h,v),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!h){if(a.stateNode===null)throw Error(n(166));return Mt(a),null}if(s=Ds(rr.current),Vl(a)){h=a.stateNode,c=a.type;var x=a.memoizedProps;switch(h[nr]=a,h[to]=x,s=(a.mode&1)!==0,c){case"dialog":rt("cancel",h),rt("close",h);break;case"iframe":case"object":case"embed":rt("load",h);break;case"video":case"audio":for(v=0;v<Ji.length;v++)rt(Ji[v],h);break;case"source":rt("error",h);break;case"img":case"image":case"link":rt("error",h),rt("load",h);break;case"details":rt("toggle",h);break;case"input":$r(h,x),rt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!x.multiple},rt("invalid",h);break;case"textarea":Yn(h,x),rt("invalid",h)}Jn(c,x),v=null;for(var j in x)if(x.hasOwnProperty(j)){var O=x[j];j==="children"?typeof O=="string"?h.textContent!==O&&(x.suppressHydrationWarning!==!0&&Ml(h.textContent,O,s),v=["children",O]):typeof O=="number"&&h.textContent!==""+O&&(x.suppressHydrationWarning!==!0&&Ml(h.textContent,O,s),v=["children",""+O]):i.hasOwnProperty(j)&&O!=null&&j==="onScroll"&&rt("scroll",h)}switch(c){case"input":Ve(h),ga(h,x,!0);break;case"textarea":Ve(h),dl(h);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(h.onclick=Ll)}h=v,a.updateQueue=h,h!==null&&(a.flags|=4)}else{j=v.nodeType===9?v:v.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ft(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=j.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=j.createElement(c,{is:h.is}):(s=j.createElement(c),c==="select"&&(j=s,h.multiple?j.multiple=!0:h.size&&(j.size=h.size))):s=j.createElementNS(s,c),s[nr]=a,s[to]=h,xv(s,a,!1,!1),a.stateNode=s;e:{switch(j=Di(c,h),c){case"dialog":rt("cancel",s),rt("close",s),v=h;break;case"iframe":case"object":case"embed":rt("load",s),v=h;break;case"video":case"audio":for(v=0;v<Ji.length;v++)rt(Ji[v],s);v=h;break;case"source":rt("error",s),v=h;break;case"img":case"image":case"link":rt("error",s),rt("load",s),v=h;break;case"details":rt("toggle",s),v=h;break;case"input":$r(s,h),v=an(s,h),rt("invalid",s);break;case"option":v=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},v=G({},h,{value:void 0}),rt("invalid",s);break;case"textarea":Yn(s,h),v=va(s,h),rt("invalid",s);break;default:v=h}Jn(c,v),O=v;for(x in O)if(O.hasOwnProperty(x)){var A=O[x];x==="style"?yr(s,A):x==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&fl(s,A)):x==="children"?typeof A=="string"?(c!=="textarea"||A!=="")&&Zn(s,A):typeof A=="number"&&Zn(s,""+A):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?A!=null&&x==="onScroll"&&rt("scroll",s):A!=null&&N(s,x,A,j))}switch(c){case"input":Ve(s),ga(s,h,!1);break;case"textarea":Ve(s),dl(s);break;case"option":h.value!=null&&s.setAttribute("value",""+be(h.value));break;case"select":s.multiple=!!h.multiple,x=h.value,x!=null?vn(s,!!h.multiple,x,!1):h.defaultValue!=null&&vn(s,!!h.multiple,h.defaultValue,!0);break;default:typeof v.onClick=="function"&&(s.onclick=Ll)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Mt(a),null;case 6:if(s&&a.stateNode!=null)_v(s,a,s.memoizedProps,h);else{if(typeof h!="string"&&a.stateNode===null)throw Error(n(166));if(c=Ds(io.current),Ds(rr.current),Vl(a)){if(h=a.stateNode,c=a.memoizedProps,h[nr]=a,(x=h.nodeValue!==c)&&(s=ln,s!==null))switch(s.tag){case 3:Ml(h.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ml(h.nodeValue,c,(s.mode&1)!==0)}x&&(a.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[nr]=a,a.stateNode=h}return Mt(a),null;case 13:if(st(ot),h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(it&&cn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)jg(),Ia(),a.flags|=98560,x=!1;else if(x=Vl(a),h!==null&&h.dehydrated!==null){if(s===null){if(!x)throw Error(n(318));if(x=a.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[nr]=a}else Ia(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Mt(a),x=!1}else An!==null&&(Sf(An),An=null),x=!0;if(!x)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(ot.current&1)!==0?bt===0&&(bt=3):Ef())),a.updateQueue!==null&&(a.flags|=4),Mt(a),null);case 4:return $a(),ff(s,a),s===null&&Xi(a.stateNode.containerInfo),Mt(a),null;case 10:return Fd(a.type._context),Mt(a),null;case 17:return Yt(a.type)&&Fl(),Mt(a),null;case 19:if(st(ot),x=a.memoizedState,x===null)return Mt(a),null;if(h=(a.flags&128)!==0,j=x.rendering,j===null)if(h)fo(x,!1);else{if(bt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(j=Ql(s),j!==null){for(a.flags|=128,fo(x,!1),h=j.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),a.subtreeFlags=0,h=c,c=a.child;c!==null;)x=c,s=h,x.flags&=14680066,j=x.alternate,j===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=j.childLanes,x.lanes=j.lanes,x.child=j.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=j.memoizedProps,x.memoizedState=j.memoizedState,x.updateQueue=j.updateQueue,x.type=j.type,s=j.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return tt(ot,ot.current&1|2),a.child}s=s.sibling}x.tail!==null&&dt()>Ba&&(a.flags|=128,h=!0,fo(x,!1),a.lanes=4194304)}else{if(!h)if(s=Ql(j),s!==null){if(a.flags|=128,h=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),fo(x,!0),x.tail===null&&x.tailMode==="hidden"&&!j.alternate&&!it)return Mt(a),null}else 2*dt()-x.renderingStartTime>Ba&&c!==1073741824&&(a.flags|=128,h=!0,fo(x,!1),a.lanes=4194304);x.isBackwards?(j.sibling=a.child,a.child=j):(c=x.last,c!==null?c.sibling=j:a.child=j,x.last=j)}return x.tail!==null?(a=x.tail,x.rendering=a,x.tail=a.sibling,x.renderingStartTime=dt(),a.sibling=null,c=ot.current,tt(ot,h?c&1|2:c&1),a):(Mt(a),null);case 22:case 23:return jf(),h=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(a.flags|=8192),h&&(a.mode&1)!==0?(un&1073741824)!==0&&(Mt(a),a.subtreeFlags&6&&(a.flags|=8192)):Mt(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function wj(s,a){switch(Ad(a),a.tag){case 1:return Yt(a.type)&&Fl(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return $a(),st(Gt),st(It),qd(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Vd(a),null;case 13:if(st(ot),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Ia()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return st(ot),null;case 4:return $a(),null;case 10:return Fd(a.type._context),null;case 22:case 23:return jf(),null;case 24:return null;default:return null}}var ac=!1,Lt=!1,xj=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Ua(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){ct(s,a,h)}else c.current=null}function hf(s,a,c){try{c()}catch(h){ct(s,a,h)}}var Sv=!1;function bj(s,a){if(kd=jl,s=tg(),gd(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var v=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var j=0,O=-1,A=-1,W=0,re=0,ae=s,ee=null;t:for(;;){for(var de;ae!==c||v!==0&&ae.nodeType!==3||(O=j+v),ae!==x||h!==0&&ae.nodeType!==3||(A=j+h),ae.nodeType===3&&(j+=ae.nodeValue.length),(de=ae.firstChild)!==null;)ee=ae,ae=de;for(;;){if(ae===s)break t;if(ee===c&&++W===v&&(O=j),ee===x&&++re===h&&(A=j),(de=ae.nextSibling)!==null)break;ae=ee,ee=ae.parentNode}ae=de}c=O===-1||A===-1?null:{start:O,end:A}}else c=null}c=c||{start:0,end:0}}else c=null;for(jd={focusedElem:s,selectionRange:c},jl=!1,pe=a;pe!==null;)if(a=pe,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,pe=s;else for(;pe!==null;){a=pe;try{var me=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,ft=me.memoizedState,U=a.stateNode,I=U.getSnapshotBeforeUpdate(a.elementType===a.type?ge:In(a.type,ge),ft);U.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var B=a.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){ct(a,a.return,ie)}if(s=a.sibling,s!==null){s.return=a.return,pe=s;break}pe=a.return}return me=Sv,Sv=!1,me}function ho(s,a,c){var h=a.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var v=h=h.next;do{if((v.tag&s)===s){var x=v.destroy;v.destroy=void 0,x!==void 0&&hf(a,c,x)}v=v.next}while(v!==h)}}function ic(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==a)}}function pf(s){var a=s.ref;if(a!==null){var c=s.stateNode;s.tag,s=c,typeof a=="function"?a(s):a.current=s}}function kv(s){var a=s.alternate;a!==null&&(s.alternate=null,kv(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[nr],delete a[to],delete a[Td],delete a[rj],delete a[sj])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function jv(s){return s.tag===5||s.tag===3||s.tag===4}function Ev(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||jv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function mf(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Ll));else if(h!==4&&(s=s.child,s!==null))for(mf(s,a,c),s=s.sibling;s!==null;)mf(s,a,c),s=s.sibling}function gf(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(gf(s,a,c),s=s.sibling;s!==null;)gf(s,a,c),s=s.sibling}var Tt=null,Dn=!1;function Xr(s,a,c){for(c=c.child;c!==null;)Cv(s,a,c),c=c.sibling}function Cv(s,a,c){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(wl,c)}catch{}switch(c.tag){case 5:Lt||Ua(c,a);case 6:var h=Tt,v=Dn;Tt=null,Xr(s,a,c),Tt=h,Dn=v,Tt!==null&&(Dn?(s=Tt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Tt.removeChild(c.stateNode));break;case 18:Tt!==null&&(Dn?(s=Tt,c=c.stateNode,s.nodeType===8?Nd(s.parentNode,c):s.nodeType===1&&Nd(s,c),Vi(s)):Nd(Tt,c.stateNode));break;case 4:h=Tt,v=Dn,Tt=c.stateNode.containerInfo,Dn=!0,Xr(s,a,c),Tt=h,Dn=v;break;case 0:case 11:case 14:case 15:if(!Lt&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){v=h=h.next;do{var x=v,j=x.destroy;x=x.tag,j!==void 0&&((x&2)!==0||(x&4)!==0)&&hf(c,a,j),v=v.next}while(v!==h)}Xr(s,a,c);break;case 1:if(!Lt&&(Ua(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(O){ct(c,a,O)}Xr(s,a,c);break;case 21:Xr(s,a,c);break;case 22:c.mode&1?(Lt=(h=Lt)||c.memoizedState!==null,Xr(s,a,c),Lt=h):Xr(s,a,c);break;default:Xr(s,a,c)}}function Nv(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new xj),a.forEach(function(h){var v=Rj.bind(null,s,h);c.has(h)||(c.add(h),h.then(v,v))})}}function Mn(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var v=c[h];try{var x=s,j=a,O=j;e:for(;O!==null;){switch(O.tag){case 5:Tt=O.stateNode,Dn=!1;break e;case 3:Tt=O.stateNode.containerInfo,Dn=!0;break e;case 4:Tt=O.stateNode.containerInfo,Dn=!0;break e}O=O.return}if(Tt===null)throw Error(n(160));Cv(x,j,v),Tt=null,Dn=!1;var A=v.alternate;A!==null&&(A.return=null),v.return=null}catch(W){ct(v,a,W)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Tv(a,s),a=a.sibling}function Tv(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Mn(a,s),ar(s),h&4){try{ho(3,s,s.return),ic(3,s)}catch(ge){ct(s,s.return,ge)}try{ho(5,s,s.return)}catch(ge){ct(s,s.return,ge)}}break;case 1:Mn(a,s),ar(s),h&512&&c!==null&&Ua(c,c.return);break;case 5:if(Mn(a,s),ar(s),h&512&&c!==null&&Ua(c,c.return),s.flags&32){var v=s.stateNode;try{Zn(v,"")}catch(ge){ct(s,s.return,ge)}}if(h&4&&(v=s.stateNode,v!=null)){var x=s.memoizedProps,j=c!==null?c.memoizedProps:x,O=s.type,A=s.updateQueue;if(s.updateQueue=null,A!==null)try{O==="input"&&x.type==="radio"&&x.name!=null&&gr(v,x),Di(O,j);var W=Di(O,x);for(j=0;j<A.length;j+=2){var re=A[j],ae=A[j+1];re==="style"?yr(v,ae):re==="dangerouslySetInnerHTML"?fl(v,ae):re==="children"?Zn(v,ae):N(v,re,ae,W)}switch(O){case"input":vr(v,x);break;case"textarea":ul(v,x);break;case"select":var ee=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!x.multiple;var de=x.value;de!=null?vn(v,!!x.multiple,de,!1):ee!==!!x.multiple&&(x.defaultValue!=null?vn(v,!!x.multiple,x.defaultValue,!0):vn(v,!!x.multiple,x.multiple?[]:"",!1))}v[to]=x}catch(ge){ct(s,s.return,ge)}}break;case 6:if(Mn(a,s),ar(s),h&4){if(s.stateNode===null)throw Error(n(162));v=s.stateNode,x=s.memoizedProps;try{v.nodeValue=x}catch(ge){ct(s,s.return,ge)}}break;case 3:if(Mn(a,s),ar(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Vi(a.containerInfo)}catch(ge){ct(s,s.return,ge)}break;case 4:Mn(a,s),ar(s);break;case 13:Mn(a,s),ar(s),v=s.child,v.flags&8192&&(x=v.memoizedState!==null,v.stateNode.isHidden=x,!x||v.alternate!==null&&v.alternate.memoizedState!==null||(wf=dt())),h&4&&Nv(s);break;case 22:if(re=c!==null&&c.memoizedState!==null,s.mode&1?(Lt=(W=Lt)||re,Mn(a,s),Lt=W):Mn(a,s),ar(s),h&8192){if(W=s.memoizedState!==null,(s.stateNode.isHidden=W)&&!re&&(s.mode&1)!==0)for(pe=s,re=s.child;re!==null;){for(ae=pe=re;pe!==null;){switch(ee=pe,de=ee.child,ee.tag){case 0:case 11:case 14:case 15:ho(4,ee,ee.return);break;case 1:Ua(ee,ee.return);var me=ee.stateNode;if(typeof me.componentWillUnmount=="function"){h=ee,c=ee.return;try{a=h,me.props=a.memoizedProps,me.state=a.memoizedState,me.componentWillUnmount()}catch(ge){ct(h,c,ge)}}break;case 5:Ua(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Ov(ae);continue}}de!==null?(de.return=ee,pe=de):Ov(ae)}re=re.sibling}e:for(re=null,ae=s;;){if(ae.tag===5){if(re===null){re=ae;try{v=ae.stateNode,W?(x=v.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(O=ae.stateNode,A=ae.memoizedProps.style,j=A!=null&&A.hasOwnProperty("display")?A.display:null,O.style.display=wa("display",j))}catch(ge){ct(s,s.return,ge)}}}else if(ae.tag===6){if(re===null)try{ae.stateNode.nodeValue=W?"":ae.memoizedProps}catch(ge){ct(s,s.return,ge)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===s)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===s)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===s)break e;re===ae&&(re=null),ae=ae.return}re===ae&&(re=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Mn(a,s),ar(s),h&4&&Nv(s);break;case 21:break;default:Mn(a,s),ar(s)}}function ar(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(jv(c)){var h=c;break e}c=c.return}throw Error(n(160))}switch(h.tag){case 5:var v=h.stateNode;h.flags&32&&(Zn(v,""),h.flags&=-33);var x=Ev(s);gf(s,x,v);break;case 3:case 4:var j=h.stateNode.containerInfo,O=Ev(s);mf(s,O,j);break;default:throw Error(n(161))}}catch(A){ct(s,s.return,A)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function _j(s,a,c){pe=s,Rv(s)}function Rv(s,a,c){for(var h=(s.mode&1)!==0;pe!==null;){var v=pe,x=v.child;if(v.tag===22&&h){var j=v.memoizedState!==null||ac;if(!j){var O=v.alternate,A=O!==null&&O.memoizedState!==null||Lt;O=ac;var W=Lt;if(ac=j,(Lt=A)&&!W)for(pe=v;pe!==null;)j=pe,A=j.child,j.tag===22&&j.memoizedState!==null?Av(v):A!==null?(A.return=j,pe=A):Av(v);for(;x!==null;)pe=x,Rv(x),x=x.sibling;pe=v,ac=O,Lt=W}Pv(s)}else(v.subtreeFlags&8772)!==0&&x!==null?(x.return=v,pe=x):Pv(s)}}function Pv(s){for(;pe!==null;){var a=pe;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Lt||ic(5,a);break;case 1:var h=a.stateNode;if(a.flags&4&&!Lt)if(c===null)h.componentDidMount();else{var v=a.elementType===a.type?c.memoizedProps:In(a.type,c.memoizedProps);h.componentDidUpdate(v,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var x=a.updateQueue;x!==null&&Og(a,x,h);break;case 3:var j=a.updateQueue;if(j!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}Og(a,j,c)}break;case 5:var O=a.stateNode;if(c===null&&a.flags&4){c=O;var A=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&c.focus();break;case"img":A.src&&(c.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var W=a.alternate;if(W!==null){var re=W.memoizedState;if(re!==null){var ae=re.dehydrated;ae!==null&&Vi(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Lt||a.flags&512&&pf(a)}catch(ee){ct(a,a.return,ee)}}if(a===s){pe=null;break}if(c=a.sibling,c!==null){c.return=a.return,pe=c;break}pe=a.return}}function Ov(s){for(;pe!==null;){var a=pe;if(a===s){pe=null;break}var c=a.sibling;if(c!==null){c.return=a.return,pe=c;break}pe=a.return}}function Av(s){for(;pe!==null;){var a=pe;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{ic(4,a)}catch(A){ct(a,c,A)}break;case 1:var h=a.stateNode;if(typeof h.componentDidMount=="function"){var v=a.return;try{h.componentDidMount()}catch(A){ct(a,v,A)}}var x=a.return;try{pf(a)}catch(A){ct(a,x,A)}break;case 5:var j=a.return;try{pf(a)}catch(A){ct(a,j,A)}}}catch(A){ct(a,a.return,A)}if(a===s){pe=null;break}var O=a.sibling;if(O!==null){O.return=a.return,pe=O;break}pe=a.return}}var Sj=Math.ceil,oc=R.ReactCurrentDispatcher,vf=R.ReactCurrentOwner,_n=R.ReactCurrentBatchConfig,He=0,kt=null,vt=null,Rt=0,un=0,za=Gr(0),bt=0,po=null,Ls=0,lc=0,yf=0,mo=null,Zt=null,wf=0,Ba=1/0,Er=null,cc=!1,xf=null,es=null,uc=!1,ts=null,dc=0,go=0,bf=null,fc=-1,hc=0;function Bt(){return(He&6)!==0?dt():fc!==-1?fc:fc=dt()}function ns(s){return(s.mode&1)===0?1:(He&2)!==0&&Rt!==0?Rt&-Rt:ij.transition!==null?(hc===0&&(hc=Em()),hc):(s=Qe,s!==0||(s=window.event,s=s===void 0?16:Dm(s.type)),s)}function Ln(s,a,c,h){if(50<go)throw go=0,bf=null,Error(n(185));Fi(s,c,h),((He&2)===0||s!==kt)&&(s===kt&&((He&2)===0&&(lc|=c),bt===4&&rs(s,Rt)),Jt(s,h),c===1&&He===0&&(a.mode&1)===0&&(Ba=dt()+500,zl&&Qr()))}function Jt(s,a){var c=s.callbackNode;ik(s,a);var h=_l(s,s===kt?Rt:0);if(h===0)c!==null&&Sm(c),s.callbackNode=null,s.callbackPriority=0;else if(a=h&-h,s.callbackPriority!==a){if(c!=null&&Sm(c),a===1)s.tag===0?aj(Dv.bind(null,s)):xg(Dv.bind(null,s)),tj(function(){(He&6)===0&&Qr()}),c=null;else{switch(Cm(h)){case 1:c=Xu;break;case 4:c=km;break;case 16:c=yl;break;case 536870912:c=jm;break;default:c=yl}c=Wv(c,Iv.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function Iv(s,a){if(fc=-1,hc=0,(He&6)!==0)throw Error(n(327));var c=s.callbackNode;if(Wa()&&s.callbackNode!==c)return null;var h=_l(s,s===kt?Rt:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||a)a=pc(s,h);else{a=h;var v=He;He|=2;var x=Lv();(kt!==s||Rt!==a)&&(Er=null,Ba=dt()+500,Fs(s,a));do try{Ej();break}catch(O){Mv(s,O)}while(!0);$d(),oc.current=x,He=v,vt!==null?a=0:(kt=null,Rt=0,a=bt)}if(a!==0){if(a===2&&(v=ed(s),v!==0&&(h=v,a=_f(s,v))),a===1)throw c=po,Fs(s,0),rs(s,h),Jt(s,dt()),c;if(a===6)rs(s,h);else{if(v=s.current.alternate,(h&30)===0&&!kj(v)&&(a=pc(s,h),a===2&&(x=ed(s),x!==0&&(h=x,a=_f(s,x))),a===1))throw c=po,Fs(s,0),rs(s,h),Jt(s,dt()),c;switch(s.finishedWork=v,s.finishedLanes=h,a){case 0:case 1:throw Error(n(345));case 2:Us(s,Zt,Er);break;case 3:if(rs(s,h),(h&130023424)===h&&(a=wf+500-dt(),10<a)){if(_l(s,0)!==0)break;if(v=s.suspendedLanes,(v&h)!==h){Bt(),s.pingedLanes|=s.suspendedLanes&v;break}s.timeoutHandle=Cd(Us.bind(null,s,Zt,Er),a);break}Us(s,Zt,Er);break;case 4:if(rs(s,h),(h&4194240)===h)break;for(a=s.eventTimes,v=-1;0<h;){var j=31-Pn(h);x=1<<j,j=a[j],j>v&&(v=j),h&=~x}if(h=v,h=dt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Sj(h/1960))-h,10<h){s.timeoutHandle=Cd(Us.bind(null,s,Zt,Er),h);break}Us(s,Zt,Er);break;case 5:Us(s,Zt,Er);break;default:throw Error(n(329))}}}return Jt(s,dt()),s.callbackNode===c?Iv.bind(null,s):null}function _f(s,a){var c=mo;return s.current.memoizedState.isDehydrated&&(Fs(s,a).flags|=256),s=pc(s,a),s!==2&&(a=Zt,Zt=c,a!==null&&Sf(a)),s}function Sf(s){Zt===null?Zt=s:Zt.push.apply(Zt,s)}function kj(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var v=c[h],x=v.getSnapshot;v=v.value;try{if(!On(x(),v))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function rs(s,a){for(a&=~yf,a&=~lc,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-Pn(a),h=1<<c;s[c]=-1,a&=~h}}function Dv(s){if((He&6)!==0)throw Error(n(327));Wa();var a=_l(s,0);if((a&1)===0)return Jt(s,dt()),null;var c=pc(s,a);if(s.tag!==0&&c===2){var h=ed(s);h!==0&&(a=h,c=_f(s,h))}if(c===1)throw c=po,Fs(s,0),rs(s,a),Jt(s,dt()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Us(s,Zt,Er),Jt(s,dt()),null}function kf(s,a){var c=He;He|=1;try{return s(a)}finally{He=c,He===0&&(Ba=dt()+500,zl&&Qr())}}function $s(s){ts!==null&&ts.tag===0&&(He&6)===0&&Wa();var a=He;He|=1;var c=_n.transition,h=Qe;try{if(_n.transition=null,Qe=1,s)return s()}finally{Qe=h,_n.transition=c,He=a,(He&6)===0&&Qr()}}function jf(){un=za.current,st(za)}function Fs(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,ej(c)),vt!==null)for(c=vt.return;c!==null;){var h=c;switch(Ad(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Fl();break;case 3:$a(),st(Gt),st(It),qd();break;case 5:Vd(h);break;case 4:$a();break;case 13:st(ot);break;case 19:st(ot);break;case 10:Fd(h.type._context);break;case 22:case 23:jf()}c=c.return}if(kt=s,vt=s=ss(s.current,null),Rt=un=a,bt=0,po=null,yf=lc=Ls=0,Zt=mo=null,Is!==null){for(a=0;a<Is.length;a++)if(c=Is[a],h=c.interleaved,h!==null){c.interleaved=null;var v=h.next,x=c.pending;if(x!==null){var j=x.next;x.next=v,h.next=j}c.pending=h}Is=null}return s}function Mv(s,a){do{var c=vt;try{if($d(),Zl.current=tc,Jl){for(var h=lt.memoizedState;h!==null;){var v=h.queue;v!==null&&(v.pending=null),h=h.next}Jl=!1}if(Ms=0,St=xt=lt=null,oo=!1,lo=0,vf.current=null,c===null||c.return===null){bt=1,po=a,vt=null;break}e:{var x=s,j=c.return,O=c,A=a;if(a=Rt,O.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var W=A,re=O,ae=re.tag;if((re.mode&1)===0&&(ae===0||ae===11||ae===15)){var ee=re.alternate;ee?(re.updateQueue=ee.updateQueue,re.memoizedState=ee.memoizedState,re.lanes=ee.lanes):(re.updateQueue=null,re.memoizedState=null)}var de=ov(j);if(de!==null){de.flags&=-257,lv(de,j,O,x,a),de.mode&1&&iv(x,W,a),a=de,A=W;var me=a.updateQueue;if(me===null){var ge=new Set;ge.add(A),a.updateQueue=ge}else me.add(A);break e}else{if((a&1)===0){iv(x,W,a),Ef();break e}A=Error(n(426))}}else if(it&&O.mode&1){var ft=ov(j);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),lv(ft,j,O,x,a),Md(Fa(A,O));break e}}x=A=Fa(A,O),bt!==4&&(bt=2),mo===null?mo=[x]:mo.push(x),x=j;do{switch(x.tag){case 3:x.flags|=65536,a&=-a,x.lanes|=a;var U=sv(x,A,a);Pg(x,U);break e;case 1:O=A;var I=x.type,B=x.stateNode;if((x.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(es===null||!es.has(B)))){x.flags|=65536,a&=-a,x.lanes|=a;var ie=av(x,O,a);Pg(x,ie);break e}}x=x.return}while(x!==null)}Fv(c)}catch(we){a=we,vt===c&&c!==null&&(vt=c=c.return);continue}break}while(!0)}function Lv(){var s=oc.current;return oc.current=tc,s===null?tc:s}function Ef(){(bt===0||bt===3||bt===2)&&(bt=4),kt===null||(Ls&268435455)===0&&(lc&268435455)===0||rs(kt,Rt)}function pc(s,a){var c=He;He|=2;var h=Lv();(kt!==s||Rt!==a)&&(Er=null,Fs(s,a));do try{jj();break}catch(v){Mv(s,v)}while(!0);if($d(),He=c,oc.current=h,vt!==null)throw Error(n(261));return kt=null,Rt=0,bt}function jj(){for(;vt!==null;)$v(vt)}function Ej(){for(;vt!==null&&!Z1();)$v(vt)}function $v(s){var a=Bv(s.alternate,s,un);s.memoizedProps=s.pendingProps,a===null?Fv(s):vt=a,vf.current=null}function Fv(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=yj(c,a,un),c!==null){vt=c;return}}else{if(c=wj(c,a),c!==null){c.flags&=32767,vt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{bt=6,vt=null;return}}if(a=a.sibling,a!==null){vt=a;return}vt=a=s}while(a!==null);bt===0&&(bt=5)}function Us(s,a,c){var h=Qe,v=_n.transition;try{_n.transition=null,Qe=1,Cj(s,a,c,h)}finally{_n.transition=v,Qe=h}return null}function Cj(s,a,c,h){do Wa();while(ts!==null);if((He&6)!==0)throw Error(n(327));c=s.finishedWork;var v=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var x=c.lanes|c.childLanes;if(ok(s,x),s===kt&&(vt=kt=null,Rt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||uc||(uc=!0,Wv(yl,function(){return Wa(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=_n.transition,_n.transition=null;var j=Qe;Qe=1;var O=He;He|=4,vf.current=null,bj(s,c),Tv(c,s),Kk(jd),jl=!!kd,jd=kd=null,s.current=c,_j(c),J1(),He=O,Qe=j,_n.transition=x}else s.current=c;if(uc&&(uc=!1,ts=s,dc=v),x=s.pendingLanes,x===0&&(es=null),tk(c.stateNode),Jt(s,dt()),a!==null)for(h=s.onRecoverableError,c=0;c<a.length;c++)v=a[c],h(v.value,{componentStack:v.stack,digest:v.digest});if(cc)throw cc=!1,s=xf,xf=null,s;return(dc&1)!==0&&s.tag!==0&&Wa(),x=s.pendingLanes,(x&1)!==0?s===bf?go++:(go=0,bf=s):go=0,Qr(),null}function Wa(){if(ts!==null){var s=Cm(dc),a=_n.transition,c=Qe;try{if(_n.transition=null,Qe=16>s?16:s,ts===null)var h=!1;else{if(s=ts,ts=null,dc=0,(He&6)!==0)throw Error(n(331));var v=He;for(He|=4,pe=s.current;pe!==null;){var x=pe,j=x.child;if((pe.flags&16)!==0){var O=x.deletions;if(O!==null){for(var A=0;A<O.length;A++){var W=O[A];for(pe=W;pe!==null;){var re=pe;switch(re.tag){case 0:case 11:case 15:ho(8,re,x)}var ae=re.child;if(ae!==null)ae.return=re,pe=ae;else for(;pe!==null;){re=pe;var ee=re.sibling,de=re.return;if(kv(re),re===W){pe=null;break}if(ee!==null){ee.return=de,pe=ee;break}pe=de}}}var me=x.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var ft=ge.sibling;ge.sibling=null,ge=ft}while(ge!==null)}}pe=x}}if((x.subtreeFlags&2064)!==0&&j!==null)j.return=x,pe=j;else e:for(;pe!==null;){if(x=pe,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:ho(9,x,x.return)}var U=x.sibling;if(U!==null){U.return=x.return,pe=U;break e}pe=x.return}}var I=s.current;for(pe=I;pe!==null;){j=pe;var B=j.child;if((j.subtreeFlags&2064)!==0&&B!==null)B.return=j,pe=B;else e:for(j=I;pe!==null;){if(O=pe,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:ic(9,O)}}catch(we){ct(O,O.return,we)}if(O===j){pe=null;break e}var ie=O.sibling;if(ie!==null){ie.return=O.return,pe=ie;break e}pe=O.return}}if(He=v,Qr(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(wl,s)}catch{}h=!0}return h}finally{Qe=c,_n.transition=a}}return!1}function Uv(s,a,c){a=Fa(c,a),a=sv(s,a,1),s=Jr(s,a,1),a=Bt(),s!==null&&(Fi(s,1,a),Jt(s,a))}function ct(s,a,c){if(s.tag===3)Uv(s,s,c);else for(;a!==null;){if(a.tag===3){Uv(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(es===null||!es.has(h))){s=Fa(c,s),s=av(a,s,1),a=Jr(a,s,1),s=Bt(),a!==null&&(Fi(a,1,s),Jt(a,s));break}}a=a.return}}function Nj(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),a=Bt(),s.pingedLanes|=s.suspendedLanes&c,kt===s&&(Rt&c)===c&&(bt===4||bt===3&&(Rt&130023424)===Rt&&500>dt()-wf?Fs(s,0):yf|=c),Jt(s,a)}function zv(s,a){a===0&&((s.mode&1)===0?a=1:(a=bl,bl<<=1,(bl&130023424)===0&&(bl=4194304)));var c=Bt();s=Sr(s,a),s!==null&&(Fi(s,a,c),Jt(s,c))}function Tj(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),zv(s,c)}function Rj(s,a){var c=0;switch(s.tag){case 13:var h=s.stateNode,v=s.memoizedState;v!==null&&(c=v.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(a),zv(s,c)}var Bv;Bv=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||Gt.current)Qt=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return Qt=!1,vj(s,a,c);Qt=(s.flags&131072)!==0}else Qt=!1,it&&(a.flags&1048576)!==0&&bg(a,Wl,a.index);switch(a.lanes=0,a.tag){case 2:var h=a.type;sc(s,a),s=a.pendingProps;var v=Pa(a,It.current);La(a,c),v=Yd(null,a,h,s,v,c);var x=Qd();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Yt(h)?(x=!0,Ul(a)):x=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Bd(a),v.updater=nc,a.stateNode=v,v._reactInternals=a,nf(a,h,s,c),a=of(null,a,h,!0,x,c)):(a.tag=0,it&&x&&Od(a),zt(null,a,v,c),a=a.child),a;case 16:h=a.elementType;e:{switch(sc(s,a),s=a.pendingProps,v=h._init,h=v(h._payload),a.type=h,v=a.tag=Oj(h),s=In(h,s),v){case 0:a=af(null,a,h,s,c);break e;case 1:a=pv(null,a,h,s,c);break e;case 11:a=cv(null,a,h,s,c);break e;case 14:a=uv(null,a,h,In(h.type,s),c);break e}throw Error(n(306,h,""))}return a;case 0:return h=a.type,v=a.pendingProps,v=a.elementType===h?v:In(h,v),af(s,a,h,v,c);case 1:return h=a.type,v=a.pendingProps,v=a.elementType===h?v:In(h,v),pv(s,a,h,v,c);case 3:e:{if(mv(a),s===null)throw Error(n(387));h=a.pendingProps,x=a.memoizedState,v=x.element,Rg(s,a),Yl(a,h,null,c);var j=a.memoizedState;if(h=j.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){v=Fa(Error(n(423)),a),a=gv(s,a,h,c,v);break e}else if(h!==v){v=Fa(Error(n(424)),a),a=gv(s,a,h,c,v);break e}else for(cn=Kr(a.stateNode.containerInfo.firstChild),ln=a,it=!0,An=null,c=Ng(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ia(),h===v){a=jr(s,a,c);break e}zt(s,a,h,c)}a=a.child}return a;case 5:return Ag(a),s===null&&Dd(a),h=a.type,v=a.pendingProps,x=s!==null?s.memoizedProps:null,j=v.children,Ed(h,v)?j=null:x!==null&&Ed(h,x)&&(a.flags|=32),hv(s,a),zt(s,a,j,c),a.child;case 6:return s===null&&Dd(a),null;case 13:return vv(s,a,c);case 4:return Wd(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=Da(a,null,h,c):zt(s,a,h,c),a.child;case 11:return h=a.type,v=a.pendingProps,v=a.elementType===h?v:In(h,v),cv(s,a,h,v,c);case 7:return zt(s,a,a.pendingProps,c),a.child;case 8:return zt(s,a,a.pendingProps.children,c),a.child;case 12:return zt(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(h=a.type._context,v=a.pendingProps,x=a.memoizedProps,j=v.value,tt(ql,h._currentValue),h._currentValue=j,x!==null)if(On(x.value,j)){if(x.children===v.children&&!Gt.current){a=jr(s,a,c);break e}}else for(x=a.child,x!==null&&(x.return=a);x!==null;){var O=x.dependencies;if(O!==null){j=x.child;for(var A=O.firstContext;A!==null;){if(A.context===h){if(x.tag===1){A=kr(-1,c&-c),A.tag=2;var W=x.updateQueue;if(W!==null){W=W.shared;var re=W.pending;re===null?A.next=A:(A.next=re.next,re.next=A),W.pending=A}}x.lanes|=c,A=x.alternate,A!==null&&(A.lanes|=c),Ud(x.return,c,a),O.lanes|=c;break}A=A.next}}else if(x.tag===10)j=x.type===a.type?null:x.child;else if(x.tag===18){if(j=x.return,j===null)throw Error(n(341));j.lanes|=c,O=j.alternate,O!==null&&(O.lanes|=c),Ud(j,c,a),j=x.sibling}else j=x.child;if(j!==null)j.return=x;else for(j=x;j!==null;){if(j===a){j=null;break}if(x=j.sibling,x!==null){x.return=j.return,j=x;break}j=j.return}x=j}zt(s,a,v.children,c),a=a.child}return a;case 9:return v=a.type,h=a.pendingProps.children,La(a,c),v=xn(v),h=h(v),a.flags|=1,zt(s,a,h,c),a.child;case 14:return h=a.type,v=In(h,a.pendingProps),v=In(h.type,v),uv(s,a,h,v,c);case 15:return dv(s,a,a.type,a.pendingProps,c);case 17:return h=a.type,v=a.pendingProps,v=a.elementType===h?v:In(h,v),sc(s,a),a.tag=1,Yt(h)?(s=!0,Ul(a)):s=!1,La(a,c),nv(a,h,v),nf(a,h,v,c),of(null,a,h,!0,s,c);case 19:return wv(s,a,c);case 22:return fv(s,a,c)}throw Error(n(156,a.tag))};function Wv(s,a){return _m(s,a)}function Pj(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(s,a,c,h){return new Pj(s,a,c,h)}function Cf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Oj(s){if(typeof s=="function")return Cf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Q)return 11;if(s===H)return 14}return 2}function ss(s,a){var c=s.alternate;return c===null?(c=Sn(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function mc(s,a,c,h,v,x){var j=2;if(h=s,typeof s=="function")Cf(s)&&(j=1);else if(typeof s=="string")j=5;else e:switch(s){case z:return zs(c.children,v,x,a);case V:j=8,v|=8;break;case F:return s=Sn(12,c,a,v|2),s.elementType=F,s.lanes=x,s;case K:return s=Sn(13,c,a,v),s.elementType=K,s.lanes=x,s;case q:return s=Sn(19,c,a,v),s.elementType=q,s.lanes=x,s;case X:return gc(c,v,x,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Y:j=10;break e;case te:j=9;break e;case Q:j=11;break e;case H:j=14;break e;case J:j=16,h=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=Sn(j,c,a,v),a.elementType=s,a.type=h,a.lanes=x,a}function zs(s,a,c,h){return s=Sn(7,s,h,a),s.lanes=c,s}function gc(s,a,c,h){return s=Sn(22,s,h,a),s.elementType=X,s.lanes=c,s.stateNode={isHidden:!1},s}function Nf(s,a,c){return s=Sn(6,s,null,a),s.lanes=c,s}function Tf(s,a,c){return a=Sn(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function Aj(s,a,c,h,v){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=td(0),this.expirationTimes=td(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=td(0),this.identifierPrefix=h,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Rf(s,a,c,h,v,x,j,O,A){return s=new Aj(s,a,c,O,A),a===1?(a=1,x===!0&&(a|=8)):a=0,x=Sn(3,null,null,a),s.current=x,x.stateNode=s,x.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bd(x),s}function Ij(s,a,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:h==null?null:""+h,children:s,containerInfo:a,implementation:c}}function Vv(s){if(!s)return Yr;s=s._reactInternals;e:{if(Ts(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Yt(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(Yt(c))return yg(s,c,a)}return a}function Hv(s,a,c,h,v,x,j,O,A){return s=Rf(c,h,!0,s,v,x,j,O,A),s.context=Vv(null),c=s.current,h=Bt(),v=ns(c),x=kr(h,v),x.callback=a??null,Jr(c,x,v),s.current.lanes=v,Fi(s,v,h),Jt(s,h),s}function vc(s,a,c,h){var v=a.current,x=Bt(),j=ns(v);return c=Vv(c),a.context===null?a.context=c:a.pendingContext=c,a=kr(x,j),a.payload={element:s},h=h===void 0?null:h,h!==null&&(a.callback=h),s=Jr(v,a,j),s!==null&&(Ln(s,v,j,x),Gl(s,v,j)),j}function yc(s){return s=s.current,s.child?(s.child.tag===5,s.child.stateNode):null}function qv(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Pf(s,a){qv(s,a),(s=s.alternate)&&qv(s,a)}function Dj(){return null}var Kv=typeof reportError=="function"?reportError:function(s){console.error(s)};function Of(s){this._internalRoot=s}wc.prototype.render=Of.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));vc(s,a,null,null)},wc.prototype.unmount=Of.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;$s(function(){vc(null,s,null,null)}),a[wr]=null}};function wc(s){this._internalRoot=s}wc.prototype.unstable_scheduleHydration=function(s){if(s){var a=Rm();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Vr.length&&a!==0&&a<Vr[c].priority;c++);Vr.splice(c,0,s),c===0&&Am(s)}};function Af(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function xc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Gv(){}function Mj(s,a,c,h,v){if(v){if(typeof h=="function"){var x=h;h=function(){var W=yc(j);x.call(W)}}var j=Hv(a,h,s,0,null,!1,!1,"",Gv);return s._reactRootContainer=j,s[wr]=j.current,Xi(s.nodeType===8?s.parentNode:s),$s(),j}for(;v=s.lastChild;)s.removeChild(v);if(typeof h=="function"){var O=h;h=function(){var W=yc(A);O.call(W)}}var A=Rf(s,0,!1,null,null,!1,!1,"",Gv);return s._reactRootContainer=A,s[wr]=A.current,Xi(s.nodeType===8?s.parentNode:s),$s(function(){vc(a,A,c,h)}),A}function bc(s,a,c,h,v){var x=c._reactRootContainer;if(x){var j=x;if(typeof v=="function"){var O=v;v=function(){var A=yc(j);O.call(A)}}vc(a,j,s,v)}else j=Mj(c,a,s,v,h);return yc(j)}Nm=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=$i(a.pendingLanes);c!==0&&(nd(a,c|1),Jt(a,dt()),(He&6)===0&&(Ba=dt()+500,Qr()))}break;case 13:$s(function(){var h=Sr(s,1);if(h!==null){var v=Bt();Ln(h,s,1,v)}}),Pf(s,1)}},rd=function(s){if(s.tag===13){var a=Sr(s,134217728);if(a!==null){var c=Bt();Ln(a,s,134217728,c)}Pf(s,134217728)}},Tm=function(s){if(s.tag===13){var a=ns(s),c=Sr(s,a);if(c!==null){var h=Bt();Ln(c,s,a,h)}Pf(s,a)}},Rm=function(){return Qe},Pm=function(s,a){var c=Qe;try{return Qe=s,a()}finally{Qe=c}},ba=function(s,a,c){switch(a){case"input":if(vr(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var v=$l(h);if(!v)throw Error(n(90));Xe(h),vr(h,v)}}}break;case"textarea":ul(s,c);break;case"select":a=c.value,a!=null&&vn(s,!!c.multiple,a,!1)}},Ye=kf,et=$s;var Lj={usingClientEntryPoint:!1,Events:[no,Ta,$l,ml,Oe,kf]},vo={findFiberByHostInstance:Rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$j={bundleType:vo.bundleType,version:vo.version,rendererPackageName:vo.rendererPackageName,rendererConfig:vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=xm(s),s===null?null:s.stateNode},findFiberByHostInstance:vo.findFiberByHostInstance||Dj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{wl=_c.inject($j),tr=_c}catch{}}return Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lj,Xt.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Af(a))throw Error(n(200));return Ij(s,a,null,c)},Xt.createRoot=function(s,a){if(!Af(s))throw Error(n(299));var c=!1,h="",v=Kv;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=Rf(s,1,!1,null,null,c,!1,h,v),s[wr]=a.current,Xi(s.nodeType===8?s.parentNode:s),new Of(a)},Xt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=xm(a),s=s===null?null:s.stateNode,s},Xt.flushSync=function(s){return $s(s)},Xt.hydrate=function(s,a,c){if(!xc(a))throw Error(n(200));return bc(null,s,a,!0,c)},Xt.hydrateRoot=function(s,a,c){if(!Af(s))throw Error(n(405));var h=c!=null&&c.hydratedSources||null,v=!1,x="",j=Kv;if(c!=null&&(c.unstable_strictMode===!0&&(v=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(j=c.onRecoverableError)),a=Hv(a,null,s,1,c??null,v,!1,x,j),s[wr]=a.current,Xi(s),h)for(s=0;s<h.length;s++)c=h[s],v=c._getVersion,v=v(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,v]:a.mutableSourceEagerHydrationData.push(c,v);return new wc(a)},Xt.render=function(s,a,c){if(!xc(a))throw Error(n(200));return bc(null,s,a,!1,c)},Xt.unmountComponentAtNode=function(s){if(!xc(s))throw Error(n(40));return s._reactRootContainer?($s(function(){bc(null,null,s,!1,function(){s._reactRootContainer=null,s[wr]=null})}),!0):!1},Xt.unstable_batchedUpdates=kf,Xt.unstable_renderSubtreeIntoContainer=function(s,a,c,h){if(!xc(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return bc(s,a,c,!1,h)},Xt.version="18.3.1-next-f1338f8080-20240426",Xt}var ny;function Xw(){if(ny)return Mf.exports;ny=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mf.exports=qj(),Mf.exports}var ry;function Kj(){if(ry)return Sc;ry=1;var t=Xw();return Sc.createRoot=t.createRoot,Sc.hydrateRoot=t.hydrateRoot,Sc}var Gj=Kj(),m=rp();const ue=Jw(m),vu=Uj({__proto__:null,default:ue},[m]),Yj=1,Qj=1e6;let Ff=0;function Zj(){return Ff=(Ff+1)%Number.MAX_SAFE_INTEGER,Ff.toString()}const Uf=new Map,sy=t=>{if(Uf.has(t))return;const e=setTimeout(()=>{Uf.delete(t),To({type:"REMOVE_TOAST",toastId:t})},Qj);Uf.set(t,e)},Jj=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Yj)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?sy(n):t.toasts.forEach(r=>{sy(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},zc=[];let Bc={toasts:[]};function To(t){Bc=Jj(Bc,t),zc.forEach(e=>{e(Bc)})}function Xj({...t}){const e=Zj(),n=i=>To({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>To({type:"DISMISS_TOAST",toastId:e});return To({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function rn(){const[t,e]=m.useState(Bc);return m.useEffect(()=>(zc.push(e),()=>{const n=zc.indexOf(e);n>-1&&zc.splice(n,1)}),[t]),{...t,toast:Xj,dismiss:n=>To({type:"DISMISS_TOAST",toastId:n})}}var Si=Xw();const ex=Jw(Si);function ce(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function ay(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ir(...t){return e=>{let n=!1;const r=t.map(i=>{const o=ay(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():ay(t[i],null)}}}}function Le(...t){return m.useCallback(Ir(...t),t)}function eE(t,e){const n=m.createContext(e),r=o=>{const{children:u,...d}=o,f=m.useMemo(()=>d,Object.values(d));return l.jsx(n.Provider,{value:f,children:u})};r.displayName=t+"Provider";function i(o){const u=m.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function sn(t,e=[]){let n=[];function r(o,u){const d=m.createContext(u),f=n.length;n=[...n,u];const p=y=>{const{scope:S,children:b,...k}=y,w=S?.[t]?.[f]||d,_=m.useMemo(()=>k,Object.values(k));return l.jsx(w.Provider,{value:_,children:b})};p.displayName=o+"Provider";function g(y,S){const b=S?.[t]?.[f]||d,k=m.useContext(b);if(k)return k;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${o}\``)}return[p,g]}const i=()=>{const o=n.map(u=>m.createContext(u));return function(d){const f=d?.[t]||o;return m.useMemo(()=>({[`__scope${t}`]:{...d,[t]:f}}),[d,f])}};return i.scopeName=t,[r,tE(i,...e)]}function tE(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const u=r.reduce((d,{useScope:f,scopeName:p})=>{const y=f(o)[`__scope${p}`];return{...d,...y}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function iy(t){const e=nE(t),n=m.forwardRef((r,i)=>{const{children:o,...u}=r,d=m.Children.toArray(o),f=d.find(sE);if(f){const p=f.props.children,g=d.map(y=>y===f?m.Children.count(p)>1?m.Children.only(null):m.isValidElement(p)?p.props.children:null:y);return l.jsx(e,{...u,ref:i,children:m.isValidElement(p)?m.cloneElement(p,void 0,g):null})}return l.jsx(e,{...u,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function nE(t){const e=m.forwardRef((n,r)=>{const{children:i,...o}=n;if(m.isValidElement(i)){const u=iE(i),d=aE(o,i.props);return i.type!==m.Fragment&&(d.ref=r?Ir(r,u):u),m.cloneElement(i,d)}return m.Children.count(i)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rE=Symbol("radix.slottable");function sE(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rE}function aE(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...d)=>{const f=o(...d);return i(...d),f}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function iE(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function yu(t){const e=t+"CollectionProvider",[n,r]=sn(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=w=>{const{scope:_,children:E}=w,C=ue.useRef(null),N=ue.useRef(new Map).current;return l.jsx(i,{scope:_,itemMap:N,collectionRef:C,children:E})};u.displayName=e;const d=t+"CollectionSlot",f=iy(d),p=ue.forwardRef((w,_)=>{const{scope:E,children:C}=w,N=o(d,E),R=Le(_,N.collectionRef);return l.jsx(f,{ref:R,children:C})});p.displayName=d;const g=t+"CollectionItemSlot",y="data-radix-collection-item",S=iy(g),b=ue.forwardRef((w,_)=>{const{scope:E,children:C,...N}=w,R=ue.useRef(null),P=Le(_,R),M=o(g,E);return ue.useEffect(()=>(M.itemMap.set(R,{ref:R,...N}),()=>{M.itemMap.delete(R)})),l.jsx(S,{[y]:"",ref:P,children:C})});b.displayName=g;function k(w){const _=o(t+"CollectionConsumer",w);return ue.useCallback(()=>{const C=_.collectionRef.current;if(!C)return[];const N=Array.from(C.querySelectorAll(`[${y}]`));return Array.from(_.itemMap.values()).sort((M,z)=>N.indexOf(M.ref.current)-N.indexOf(z.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:u,Slot:p,ItemSlot:b},k,r]}function oE(t){const e=lE(t),n=m.forwardRef((r,i)=>{const{children:o,...u}=r,d=m.Children.toArray(o),f=d.find(uE);if(f){const p=f.props.children,g=d.map(y=>y===f?m.Children.count(p)>1?m.Children.only(null):m.isValidElement(p)?p.props.children:null:y);return l.jsx(e,{...u,ref:i,children:m.isValidElement(p)?m.cloneElement(p,void 0,g):null})}return l.jsx(e,{...u,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function lE(t){const e=m.forwardRef((n,r)=>{const{children:i,...o}=n;if(m.isValidElement(i)){const u=fE(i),d=dE(o,i.props);return i.type!==m.Fragment&&(d.ref=r?Ir(r,u):u),m.cloneElement(i,d)}return m.Children.count(i)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cE=Symbol("radix.slottable");function uE(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cE}function dE(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...d)=>{const f=o(...d);return i(...d),f}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function fE(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var hE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ke=hE.reduce((t,e)=>{const n=oE(`Primitive.${e}`),r=m.forwardRef((i,o)=>{const{asChild:u,...d}=i,f=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(f,{...d,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function sp(t,e){t&&Si.flushSync(()=>t.dispatchEvent(e))}function ht(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>e.current?.(...n),[])}function pE(t,e=globalThis?.document){const n=ht(t);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var mE="DismissableLayer",ch="dismissableLayer.update",gE="dismissableLayer.pointerDownOutside",vE="dismissableLayer.focusOutside",oy,tx=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ki=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:u,onDismiss:d,...f}=t,p=m.useContext(tx),[g,y]=m.useState(null),S=g?.ownerDocument??globalThis?.document,[,b]=m.useState({}),k=Le(e,z=>y(z)),w=Array.from(p.layers),[_]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),E=w.indexOf(_),C=g?w.indexOf(g):-1,N=p.layersWithOutsidePointerEventsDisabled.size>0,R=C>=E,P=wE(z=>{const V=z.target,F=[...p.branches].some(Y=>Y.contains(V));!R||F||(i?.(z),u?.(z),z.defaultPrevented||d?.())},S),M=xE(z=>{const V=z.target;[...p.branches].some(Y=>Y.contains(V))||(o?.(z),u?.(z),z.defaultPrevented||d?.())},S);return pE(z=>{C===p.layers.size-1&&(r?.(z),!z.defaultPrevented&&d&&(z.preventDefault(),d()))},S),m.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(oy=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),ly(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=oy)}},[g,S,n,p]),m.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),ly())},[g,p]),m.useEffect(()=>{const z=()=>b({});return document.addEventListener(ch,z),()=>document.removeEventListener(ch,z)},[]),l.jsx(ke.div,{...f,ref:k,style:{pointerEvents:N?R?"auto":"none":void 0,...t.style},onFocusCapture:ce(t.onFocusCapture,M.onFocusCapture),onBlurCapture:ce(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ce(t.onPointerDownCapture,P.onPointerDownCapture)})});ki.displayName=mE;var yE="DismissableLayerBranch",nx=m.forwardRef((t,e)=>{const n=m.useContext(tx),r=m.useRef(null),i=Le(e,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(ke.div,{...t,ref:i})});nx.displayName=yE;function wE(t,e=globalThis?.document){const n=ht(t),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=d=>{if(d.target&&!r.current){let f=function(){rx(gE,n,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function xE(t,e=globalThis?.document){const n=ht(t),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&rx(vE,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ly(){const t=new CustomEvent(ch);document.dispatchEvent(t)}function rx(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?sp(i,o):i.dispatchEvent(o)}var bE=ki,_E=nx,Ct=globalThis?.document?m.useLayoutEffect:()=>{},SE="Portal",Zo=m.forwardRef((t,e)=>{const{container:n,...r}=t,[i,o]=m.useState(!1);Ct(()=>o(!0),[]);const u=n||i&&globalThis?.document?.body;return u?ex.createPortal(l.jsx(ke.div,{...r,ref:e}),u):null});Zo.displayName=SE;function kE(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var $t=t=>{const{present:e,children:n}=t,r=jE(e),i=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=Le(r.ref,EE(i));return typeof n=="function"||r.isPresent?m.cloneElement(i,{ref:o}):null};$t.displayName="Presence";function jE(t){const[e,n]=m.useState(),r=m.useRef(null),i=m.useRef(t),o=m.useRef("none"),u=t?"mounted":"unmounted",[d,f]=kE(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const p=kc(r.current);o.current=d==="mounted"?p:"none"},[d]),Ct(()=>{const p=r.current,g=i.current;if(g!==t){const S=o.current,b=kc(p);t?f("MOUNT"):b==="none"||p?.display==="none"?f("UNMOUNT"):f(g&&S!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,f]),Ct(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,y=b=>{const w=kc(r.current).includes(CSS.escape(b.animationName));if(b.target===e&&w&&(f("ANIMATION_END"),!i.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},S=b=>{b.target===e&&(o.current=kc(r.current))};return e.addEventListener("animationstart",S),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",S),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:m.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function kc(t){return t?.animationName||"none"}function EE(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var CE=vu[" useInsertionEffect ".trim().toString()]||Ct;function Tr({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,u]=NE({defaultProp:e,onChange:n}),d=t!==void 0,f=d?t:i;{const g=m.useRef(t!==void 0);m.useEffect(()=>{const y=g.current;y!==d&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,r])}const p=m.useCallback(g=>{if(d){const y=TE(g)?g(t):g;y!==t&&u.current?.(y)}else o(g)},[d,t,o,u]);return[f,p]}function NE({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),i=m.useRef(n),o=m.useRef(e);return CE(()=>{o.current=e},[e]),m.useEffect(()=>{i.current!==n&&(o.current?.(n),i.current=n)},[n,i]),[n,r,o]}function TE(t){return typeof t=="function"}var sx=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),RE="VisuallyHidden",wu=m.forwardRef((t,e)=>l.jsx(ke.span,{...t,ref:e,style:{...sx,...t.style}}));wu.displayName=RE;var PE=wu,ap="ToastProvider",[ip,OE,AE]=yu("Toast"),[ax]=sn("Toast",[AE]),[IE,xu]=ax(ap),ix=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:u}=t,[d,f]=m.useState(null),[p,g]=m.useState(0),y=m.useRef(!1),S=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ap}\`. Expected non-empty \`string\`.`),l.jsx(ip.Provider,{scope:e,children:l.jsx(IE,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:p,viewport:d,onViewportChange:f,onToastAdd:m.useCallback(()=>g(b=>b+1),[]),onToastRemove:m.useCallback(()=>g(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:S,children:u})})};ix.displayName=ap;var ox="ToastViewport",DE=["F8"],uh="toast.viewportPause",dh="toast.viewportResume",lx=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=DE,label:i="Notifications ({hotkey})",...o}=t,u=xu(ox,n),d=OE(n),f=m.useRef(null),p=m.useRef(null),g=m.useRef(null),y=m.useRef(null),S=Le(e,y,u.onViewportChange),b=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=u.toastCount>0;m.useEffect(()=>{const _=E=>{r.length!==0&&r.every(N=>E[N]||E.code===N)&&y.current?.focus()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),m.useEffect(()=>{const _=f.current,E=y.current;if(k&&_&&E){const C=()=>{if(!u.isClosePausedRef.current){const M=new CustomEvent(uh);E.dispatchEvent(M),u.isClosePausedRef.current=!0}},N=()=>{if(u.isClosePausedRef.current){const M=new CustomEvent(dh);E.dispatchEvent(M),u.isClosePausedRef.current=!1}},R=M=>{!_.contains(M.relatedTarget)&&N()},P=()=>{_.contains(document.activeElement)||N()};return _.addEventListener("focusin",C),_.addEventListener("focusout",R),_.addEventListener("pointermove",C),_.addEventListener("pointerleave",P),window.addEventListener("blur",C),window.addEventListener("focus",N),()=>{_.removeEventListener("focusin",C),_.removeEventListener("focusout",R),_.removeEventListener("pointermove",C),_.removeEventListener("pointerleave",P),window.removeEventListener("blur",C),window.removeEventListener("focus",N)}}},[k,u.isClosePausedRef]);const w=m.useCallback(({tabbingDirection:_})=>{const C=d().map(N=>{const R=N.ref.current,P=[R,...GE(R)];return _==="forwards"?P:P.reverse()});return(_==="forwards"?C.reverse():C).flat()},[d]);return m.useEffect(()=>{const _=y.current;if(_){const E=C=>{const N=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!N){const P=document.activeElement,M=C.shiftKey;if(C.target===_&&M){p.current?.focus();return}const F=w({tabbingDirection:M?"backwards":"forwards"}),Y=F.findIndex(te=>te===P);zf(F.slice(Y+1))?C.preventDefault():M?p.current?.focus():g.current?.focus()}};return _.addEventListener("keydown",E),()=>_.removeEventListener("keydown",E)}},[d,w]),l.jsxs(_E,{ref:f,role:"region","aria-label":i.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&l.jsx(fh,{ref:p,onFocusFromOutsideViewport:()=>{const _=w({tabbingDirection:"forwards"});zf(_)}}),l.jsx(ip.Slot,{scope:n,children:l.jsx(ke.ol,{tabIndex:-1,...o,ref:S})}),k&&l.jsx(fh,{ref:g,onFocusFromOutsideViewport:()=>{const _=w({tabbingDirection:"backwards"});zf(_)}})]})});lx.displayName=ox;var cx="ToastFocusProxy",fh=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=xu(cx,n);return l.jsx(wu,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:u=>{const d=u.relatedTarget;!o.viewport?.contains(d)&&r()}})});fh.displayName=cx;var Jo="Toast",ME="toast.swipeStart",LE="toast.swipeMove",$E="toast.swipeCancel",FE="toast.swipeEnd",ux=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...u}=t,[d,f]=Tr({prop:r,defaultProp:i??!0,onChange:o,caller:Jo});return l.jsx($t,{present:n||d,children:l.jsx(BE,{open:d,...u,ref:e,onClose:()=>f(!1),onPause:ht(t.onPause),onResume:ht(t.onResume),onSwipeStart:ce(t.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ce(t.onSwipeMove,p=>{const{x:g,y}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:ce(t.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ce(t.onSwipeEnd,p=>{const{x:g,y}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),f(!1)})})})});ux.displayName=Jo;var[UE,zE]=ax(Jo,{onClose(){}}),BE=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:u,onEscapeKeyDown:d,onPause:f,onResume:p,onSwipeStart:g,onSwipeMove:y,onSwipeCancel:S,onSwipeEnd:b,...k}=t,w=xu(Jo,n),[_,E]=m.useState(null),C=Le(e,q=>E(q)),N=m.useRef(null),R=m.useRef(null),P=i||w.duration,M=m.useRef(0),z=m.useRef(P),V=m.useRef(0),{onToastAdd:F,onToastRemove:Y}=w,te=ht(()=>{_?.contains(document.activeElement)&&w.viewport?.focus(),u()}),Q=m.useCallback(q=>{!q||q===1/0||(window.clearTimeout(V.current),M.current=new Date().getTime(),V.current=window.setTimeout(te,q))},[te]);m.useEffect(()=>{const q=w.viewport;if(q){const H=()=>{Q(z.current),p?.()},J=()=>{const X=new Date().getTime()-M.current;z.current=z.current-X,window.clearTimeout(V.current),f?.()};return q.addEventListener(uh,J),q.addEventListener(dh,H),()=>{q.removeEventListener(uh,J),q.removeEventListener(dh,H)}}},[w.viewport,P,f,p,Q]),m.useEffect(()=>{o&&!w.isClosePausedRef.current&&Q(P)},[o,P,w.isClosePausedRef,Q]),m.useEffect(()=>(F(),()=>Y()),[F,Y]);const K=m.useMemo(()=>_?vx(_):null,[_]);return w.viewport?l.jsxs(l.Fragment,{children:[K&&l.jsx(WE,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:K}),l.jsx(UE,{scope:n,onClose:te,children:Si.createPortal(l.jsx(ip.ItemSlot,{scope:n,children:l.jsx(bE,{asChild:!0,onEscapeKeyDown:ce(d,()=>{w.isFocusedToastEscapeKeyDownRef.current||te(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(ke.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":w.swipeDirection,...k,ref:C,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ce(t.onKeyDown,q=>{q.key==="Escape"&&(d?.(q.nativeEvent),q.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,te()))}),onPointerDown:ce(t.onPointerDown,q=>{q.button===0&&(N.current={x:q.clientX,y:q.clientY})}),onPointerMove:ce(t.onPointerMove,q=>{if(!N.current)return;const H=q.clientX-N.current.x,J=q.clientY-N.current.y,X=!!R.current,$=["left","right"].includes(w.swipeDirection),D=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,G=$?D(0,H):0,T=$?0:D(0,J),L=q.pointerType==="touch"?10:2,ne={x:G,y:T},se={originalEvent:q,delta:ne};X?(R.current=ne,jc(LE,y,se,{discrete:!1})):cy(ne,w.swipeDirection,L)?(R.current=ne,jc(ME,g,se,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(H)>L||Math.abs(J)>L)&&(N.current=null)}),onPointerUp:ce(t.onPointerUp,q=>{const H=R.current,J=q.target;if(J.hasPointerCapture(q.pointerId)&&J.releasePointerCapture(q.pointerId),R.current=null,N.current=null,H){const X=q.currentTarget,$={originalEvent:q,delta:H};cy(H,w.swipeDirection,w.swipeThreshold)?jc(FE,b,$,{discrete:!0}):jc($E,S,$,{discrete:!0}),X.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),WE=t=>{const{__scopeToast:e,children:n,...r}=t,i=xu(Jo,e),[o,u]=m.useState(!1),[d,f]=m.useState(!1);return qE(()=>u(!0)),m.useEffect(()=>{const p=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(p)},[]),d?null:l.jsx(Zo,{asChild:!0,children:l.jsx(wu,{...r,children:o&&l.jsxs(l.Fragment,{children:[i.label," ",n]})})})},VE="ToastTitle",dx=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(ke.div,{...r,ref:e})});dx.displayName=VE;var HE="ToastDescription",fx=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(ke.div,{...r,ref:e})});fx.displayName=HE;var hx="ToastAction",px=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?l.jsx(gx,{altText:n,asChild:!0,children:l.jsx(op,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${hx}\`. Expected non-empty \`string\`.`),null)});px.displayName=hx;var mx="ToastClose",op=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=zE(mx,n);return l.jsx(gx,{asChild:!0,children:l.jsx(ke.button,{type:"button",...r,ref:e,onClick:ce(t.onClick,i.onClose)})})});op.displayName=mx;var gx=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return l.jsx(ke.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function vx(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),KE(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const u=r.dataset.radixToastAnnounceAlt;u&&e.push(u)}else e.push(...vx(r))}}),e}function jc(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?sp(i,o):i.dispatchEvent(o)}var cy=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function qE(t=()=>{}){const e=ht(t);Ct(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function KE(t){return t.nodeType===t.ELEMENT_NODE}function GE(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function zf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var YE=ix,yx=lx,wx=ux,xx=dx,bx=fx,_x=px,Sx=op;function kx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=kx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function jx(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=kx(t))&&(r&&(r+=" "),r+=e);return r}const uy=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,dy=jx,Xo=(t,e)=>n=>{var r;if(e?.variants==null)return dy(t,n?.class,n?.className);const{variants:i,defaultVariants:o}=e,u=Object.keys(i).map(p=>{const g=n?.[p],y=o?.[p];if(g===null)return null;const S=uy(g)||uy(y);return i[p][S]}),d=n&&Object.entries(n).reduce((p,g)=>{let[y,S]=g;return S===void 0||(p[y]=S),p},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:y,className:S,...b}=g;return Object.entries(b).every(k=>{let[w,_]=k;return Array.isArray(_)?_.includes({...o,...d}[w]):{...o,...d}[w]===_})?[...p,y,S]:p},[]);return dy(t,u,f,n?.class,n?.className)};const QE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ex=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();var ZE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const JE=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:u,...d},f)=>m.createElement("svg",{ref:f,...ZE,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Ex("lucide",i),...d},[...u.map(([p,g])=>m.createElement(p,g)),...Array.isArray(o)?o:[o]]));const Ce=(t,e)=>{const n=m.forwardRef(({className:r,...i},o)=>m.createElement(JE,{ref:o,iconNode:e,className:Ex(`lucide-${QE(t)}`,r),...i}));return n.displayName=`${t}`,n};const Xs=Ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const XE=Ce("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);const qc=Ce("CalendarOff",[["path",{d:"M4.2 4.2A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18",key:"16swn3"}],["path",{d:"M21 15.5V6a2 2 0 0 0-2-2H9.5",key:"yhw86o"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h7",key:"1wap6i"}],["path",{d:"M21 10h-5.5",key:"quycpq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const fr=Ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const eC=Ce("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const Oo=Ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Cx=Ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const tC=Ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Nx=Ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const nC=Ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const hh=Ce("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const rC=Ce("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const sC=Ce("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const nn=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Tx=Ce("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const aC=Ce("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const iC=Ce("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const lp=Ce("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const oC=Ce("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);const bu=Ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const cp=Ce("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);const lC=Ce("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);const cC=Ce("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);const uC=Ce("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);const dC=Ce("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const up=Ce("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const Rx=Ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const fC=Ce("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);const Px=Ce("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const hC=Ce("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);const pC=Ce("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);const pt=Ce("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const dp=Ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const fy=Ce("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const ph=Ce("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const di=Ce("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);const mh=Ce("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const Ox=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Ax=Ce("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const fp=Ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const hy=Ce("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const Ix=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const mC=Ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const Rr=Ce("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Kc=Ce("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Dx=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const gC=Ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const vC=Ce("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const hp=Ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Mx=Ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const yC=Ce("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);const ea=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),pp="-",wC=t=>{const e=bC(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:u=>{const d=u.split(pp);return d[0]===""&&d.length!==1&&d.shift(),Lx(d,e)||xC(u)},getConflictingClassGroupIds:(u,d)=>{const f=n[u]||[];return d&&r[u]?[...f,...r[u]]:f}}},Lx=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Lx(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(pp);return e.validators.find(({validator:u})=>u(o))?.classGroupId},py=/^\[(.+)\]$/,xC=t=>{if(py.test(t)){const e=py.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},bC=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return SC(Object.entries(t.classGroups),n).forEach(([o,u])=>{gh(u,r,o,e)}),r},gh=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:my(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(_C(i)){gh(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,u])=>{gh(u,my(e,o),n,r)})})},my=(t,e)=>{let n=t;return e.split(pp).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},_C=t=>t.isThemeGetter,SC=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([u,d])=>[e+u,d])):o);return[n,i]}):t,kC=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,u)=>{n.set(o,u),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let u=n.get(o);if(u!==void 0)return u;if((u=r.get(o))!==void 0)return i(o,u),u},set(o,u){n.has(o)?n.set(o,u):i(o,u)}}},$x="!",jC=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,u=d=>{const f=[];let p=0,g=0,y;for(let _=0;_<d.length;_++){let E=d[_];if(p===0){if(E===i&&(r||d.slice(_,_+o)===e)){f.push(d.slice(g,_)),g=_+o;continue}if(E==="/"){y=_;continue}}E==="["?p++:E==="]"&&p--}const S=f.length===0?d:d.substring(g),b=S.startsWith($x),k=b?S.substring(1):S,w=y&&y>g?y-g:void 0;return{modifiers:f,hasImportantModifier:b,baseClassName:k,maybePostfixModifierPosition:w}};return n?d=>n({className:d,parseClassName:u}):u},EC=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},CC=t=>({cache:kC(t.cacheSize),parseClassName:jC(t),...wC(t)}),NC=/\s+/,TC=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],u=t.trim().split(NC);let d="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{modifiers:g,hasImportantModifier:y,baseClassName:S,maybePostfixModifierPosition:b}=n(p);let k=!!b,w=r(k?S.substring(0,b):S);if(!w){if(!k){d=p+(d.length>0?" "+d:d);continue}if(w=r(S),!w){d=p+(d.length>0?" "+d:d);continue}k=!1}const _=EC(g).join(":"),E=y?_+$x:_,C=E+w;if(o.includes(C))continue;o.push(C);const N=i(w,k);for(let R=0;R<N.length;++R){const P=N[R];o.push(E+P)}d=p+(d.length>0?" "+d:d)}return d};function RC(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Fx(e))&&(r&&(r+=" "),r+=n);return r}const Fx=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Fx(t[r]))&&(n&&(n+=" "),n+=e);return n};function PC(t,...e){let n,r,i,o=u;function u(f){const p=e.reduce((g,y)=>y(g),t());return n=CC(p),r=n.cache.get,i=n.cache.set,o=d,d(f)}function d(f){const p=r(f);if(p)return p;const g=TC(f,n);return i(f,g),g}return function(){return o(RC.apply(null,arguments))}}const at=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Ux=/^\[(?:([a-z-]+):)?(.+)\]$/i,OC=/^\d+\/\d+$/,AC=new Set(["px","full","screen"]),IC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,DC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,MC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,LC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$C=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cr=t=>ii(t)||AC.has(t)||OC.test(t),is=t=>ji(t,"length",qC),ii=t=>!!t&&!Number.isNaN(Number(t)),Bf=t=>ji(t,"number",ii),wo=t=>!!t&&Number.isInteger(Number(t)),FC=t=>t.endsWith("%")&&ii(t.slice(0,-1)),$e=t=>Ux.test(t),os=t=>IC.test(t),UC=new Set(["length","size","percentage"]),zC=t=>ji(t,UC,zx),BC=t=>ji(t,"position",zx),WC=new Set(["image","url"]),VC=t=>ji(t,WC,GC),HC=t=>ji(t,"",KC),xo=()=>!0,ji=(t,e,n)=>{const r=Ux.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},qC=t=>DC.test(t)&&!MC.test(t),zx=()=>!1,KC=t=>LC.test(t),GC=t=>$C.test(t),YC=()=>{const t=at("colors"),e=at("spacing"),n=at("blur"),r=at("brightness"),i=at("borderColor"),o=at("borderRadius"),u=at("borderSpacing"),d=at("borderWidth"),f=at("contrast"),p=at("grayscale"),g=at("hueRotate"),y=at("invert"),S=at("gap"),b=at("gradientColorStops"),k=at("gradientColorStopPositions"),w=at("inset"),_=at("margin"),E=at("opacity"),C=at("padding"),N=at("saturate"),R=at("scale"),P=at("sepia"),M=at("skew"),z=at("space"),V=at("translate"),F=()=>["auto","contain","none"],Y=()=>["auto","hidden","clip","visible","scroll"],te=()=>["auto",$e,e],Q=()=>[$e,e],K=()=>["",Cr,is],q=()=>["auto",ii,$e],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",$e],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>[ii,$e];return{cacheSize:500,separator:":",theme:{colors:[xo],spacing:[Cr,is],blur:["none","",os,$e],brightness:T(),borderColor:[t],borderRadius:["none","","full",os,$e],borderSpacing:Q(),borderWidth:K(),contrast:T(),grayscale:D(),hueRotate:T(),invert:D(),gap:Q(),gradientColorStops:[t],gradientColorStopPositions:[FC,is],inset:te(),margin:te(),opacity:T(),padding:Q(),saturate:T(),scale:T(),sepia:D(),skew:T(),space:Q(),translate:Q()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[os]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),$e]}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wo,$e]}],basis:[{basis:te()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",wo,$e]}],"grid-cols":[{"grid-cols":[xo]}],"col-start-end":[{col:["auto",{span:["full",wo,$e]},$e]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[xo]}],"row-start-end":[{row:["auto",{span:[wo,$e]},$e]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[S]}],"gap-x":[{"gap-x":[S]}],"gap-y":[{"gap-y":[S]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$e,e]}],"min-w":[{"min-w":[$e,e,"min","max","fit"]}],"max-w":[{"max-w":[$e,e,"none","full","min","max","fit","prose",{screen:[os]},os]}],h:[{h:[$e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",os,is]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bf]}],"font-family":[{font:[xo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",ii,Bf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cr,$e]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cr,is]}],"underline-offset":[{"underline-offset":["auto",Cr,$e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),BC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},VC]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:J()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[Cr,$e]}],"outline-w":[{outline:[Cr,is]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Cr,is]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",os,HC]}],"shadow-color":[{shadow:[xo]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",os,$e]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[y]}],saturate:[{saturate:[N]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:T()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:T()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[wo,$e]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Cr,is,Bf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},QC=PC(YC);function he(...t){return QC(jx(t))}const ZC=YE,Bx=m.forwardRef(({className:t,...e},n)=>l.jsx(yx,{ref:n,className:he("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Bx.displayName=yx.displayName;const JC=Xo("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Wx=m.forwardRef(({className:t,variant:e,...n},r)=>l.jsx(wx,{ref:r,className:he(JC({variant:e}),t),...n}));Wx.displayName=wx.displayName;const XC=m.forwardRef(({className:t,...e},n)=>l.jsx(_x,{ref:n,className:he("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));XC.displayName=_x.displayName;const Vx=m.forwardRef(({className:t,...e},n)=>l.jsx(Sx,{ref:n,className:he("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(ea,{className:"h-4 w-4"})}));Vx.displayName=Sx.displayName;const Hx=m.forwardRef(({className:t,...e},n)=>l.jsx(xx,{ref:n,className:he("text-sm font-semibold",t),...e}));Hx.displayName=xx.displayName;const qx=m.forwardRef(({className:t,...e},n)=>l.jsx(bx,{ref:n,className:he("text-sm opacity-90",t),...e}));qx.displayName=bx.displayName;function eN(){const{toasts:t}=rn();return l.jsxs(ZC,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return l.jsxs(Wx,{...o,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(Hx,{children:n}),r&&l.jsx(qx,{children:r})]}),i,l.jsx(Vx,{})]},e)}),l.jsx(Bx,{})]})}var gy=["light","dark"],tN="(prefers-color-scheme: dark)",nN=m.createContext(void 0),rN={setTheme:t=>{},themes:[]},sN=()=>{var t;return(t=m.useContext(nN))!=null?t:rN};m.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:o,value:u,attrs:d,nonce:f})=>{let p=o==="system",g=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${d.map(k=>`'${k}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,y=i?gy.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",S=(k,w=!1,_=!0)=>{let E=u?u[k]:k,C=w?k+"|| ''":`'${E}'`,N="";return i&&_&&!w&&gy.includes(k)&&(N+=`d.style.colorScheme = '${k}';`),n==="class"?w||E?N+=`c.add(${C})`:N+="null":E&&(N+=`d[s](n,${C})`),N},b=t?`!function(){${g}${S(t)}}()`:r?`!function(){try{${g}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${p})){var t='${tN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${S("dark")}}else{${S("light")}}}else if(e){${u?`var x=${JSON.stringify(u)};`:""}${S(u?"x[e]":"e",!0)}}${p?"":"else{"+S(o,!1,!1)+"}"}${y}}catch(e){}}()`:`!function(){try{${g}var e=localStorage.getItem('${e}');if(e){${u?`var x=${JSON.stringify(u)};`:""}${S(u?"x[e]":"e",!0)}}else{${S(o,!1,!1)};}${y}}catch(t){}}();`;return m.createElement("script",{nonce:f,dangerouslySetInnerHTML:{__html:b}})});var aN=t=>{switch(t){case"success":return lN;case"info":return uN;case"warning":return cN;case"error":return dN;default:return null}},iN=Array(12).fill(0),oN=({visible:t,className:e})=>ue.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ue.createElement("div",{className:"sonner-spinner"},iN.map((n,r)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),lN=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),cN=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),uN=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),dN=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fN=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),hN=()=>{let[t,e]=ue.useState(document.hidden);return ue.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},vh=1,pN=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:vh++,o=this.toasts.find(d=>d.id===i),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:n}),{...d,...t,id:i,dismissible:u,title:n}):d):this.addToast({title:n,...r,dismissible:u,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,o,u=r.then(async f=>{if(o=["resolve",f],ue.isValidElement(f))i=!1,this.create({id:n,type:"default",message:f});else if(gN(f)&&!f.ok){i=!1;let p=typeof e.error=="function"?await e.error(`HTTP error! status: ${f.status}`):e.error,g=typeof e.description=="function"?await e.description(`HTTP error! status: ${f.status}`):e.description;this.create({id:n,type:"error",message:p,description:g})}else if(e.success!==void 0){i=!1;let p=typeof e.success=="function"?await e.success(f):e.success,g=typeof e.description=="function"?await e.description(f):e.description;this.create({id:n,type:"success",message:p,description:g})}}).catch(async f=>{if(o=["reject",f],e.error!==void 0){i=!1;let p=typeof e.error=="function"?await e.error(f):e.error,g=typeof e.description=="function"?await e.description(f):e.description;this.create({id:n,type:"error",message:p,description:g})}}).finally(()=>{var f;i&&(this.dismiss(n),n=void 0),(f=e.finally)==null||f.call(e)}),d=()=>new Promise((f,p)=>u.then(()=>o[0]==="reject"?p(o[1]):f(o[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,e)=>{let n=e?.id||vh++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},tn=new pN,mN=(t,e)=>{let n=e?.id||vh++;return tn.addToast({title:t,...e,id:n}),n},gN=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",vN=mN,yN=()=>tn.toasts,wN=()=>tn.getActiveToasts();Object.assign(vN,{success:tn.success,info:tn.info,warning:tn.warning,error:tn.error,custom:tn.custom,message:tn.message,promise:tn.promise,dismiss:tn.dismiss,loading:tn.loading},{getHistory:yN,getToasts:wN});function xN(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}xN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ec(t){return t.label!==void 0}var bN=3,_N="32px",SN="16px",vy=4e3,kN=356,jN=14,EN=20,CN=200;function $n(...t){return t.filter(Boolean).join(" ")}function NN(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var TN=t=>{var e,n,r,i,o,u,d,f,p,g,y;let{invert:S,toast:b,unstyled:k,interacting:w,setHeights:_,visibleToasts:E,heights:C,index:N,toasts:R,expanded:P,removeToast:M,defaultRichColors:z,closeButton:V,style:F,cancelButtonStyle:Y,actionButtonStyle:te,className:Q="",descriptionClassName:K="",duration:q,position:H,gap:J,loadingIcon:X,expandByDefault:$,classNames:D,icons:G,closeButtonAriaLabel:T="Close toast",pauseWhenPageIsHidden:L}=t,[ne,se]=ue.useState(null),[ye,Se]=ue.useState(null),[Z,be]=ue.useState(!1),[Pe,Ae]=ue.useState(!1),[Ve,Xe]=ue.useState(!1),[gt,an]=ue.useState(!1),[$r,gr]=ue.useState(!1),[vr,ga]=ue.useState(0),[Ii,Fr]=ue.useState(0),vn=ue.useRef(b.duration||q||vy),va=ue.useRef(null),Yn=ue.useRef(null),ul=N===0,dl=N+1<=E,Ft=b.type,Qn=b.dismissible!==!1,ya=b.className||"",fl=b.descriptionClassName||"",Zn=ue.useMemo(()=>C.findIndex(Oe=>Oe.toastId===b.id)||0,[C,b.id]),Ns=ue.useMemo(()=>{var Oe;return(Oe=b.closeButton)!=null?Oe:V},[b.closeButton,V]),hl=ue.useMemo(()=>b.duration||q||vy,[b.duration,q]),wa=ue.useRef(0),yr=ue.useRef(0),pl=ue.useRef(0),Jn=ue.useRef(null),[Di,Mi]=H.split("-"),xa=ue.useMemo(()=>C.reduce((Oe,Ye,et)=>et>=Zn?Oe:Oe+Ye.height,0),[C,Zn]),ba=hN(),Ur=b.invert||S,Xn=Ft==="loading";yr.current=ue.useMemo(()=>Zn*J+xa,[Zn,xa]),ue.useEffect(()=>{vn.current=hl},[hl]),ue.useEffect(()=>{be(!0)},[]),ue.useEffect(()=>{let Oe=Yn.current;if(Oe){let Ye=Oe.getBoundingClientRect().height;return Fr(Ye),_(et=>[{toastId:b.id,height:Ye,position:b.position},...et]),()=>_(et=>et.filter(Ut=>Ut.toastId!==b.id))}},[_,b.id]),ue.useLayoutEffect(()=>{if(!Z)return;let Oe=Yn.current,Ye=Oe.style.height;Oe.style.height="auto";let et=Oe.getBoundingClientRect().height;Oe.style.height=Ye,Fr(et),_(Ut=>Ut.find(qt=>qt.toastId===b.id)?Ut.map(qt=>qt.toastId===b.id?{...qt,height:et}:qt):[{toastId:b.id,height:et,position:b.position},...Ut])},[Z,b.title,b.description,_,b.id]);let Tn=ue.useCallback(()=>{Ae(!0),ga(yr.current),_(Oe=>Oe.filter(Ye=>Ye.toastId!==b.id)),setTimeout(()=>{M(b)},CN)},[b,M,_,yr]);ue.useEffect(()=>{if(b.promise&&Ft==="loading"||b.duration===1/0||b.type==="loading")return;let Oe;return P||w||L&&ba?(()=>{if(pl.current<wa.current){let Ye=new Date().getTime()-wa.current;vn.current=vn.current-Ye}pl.current=new Date().getTime()})():vn.current!==1/0&&(wa.current=new Date().getTime(),Oe=setTimeout(()=>{var Ye;(Ye=b.onAutoClose)==null||Ye.call(b,b),Tn()},vn.current)),()=>clearTimeout(Oe)},[P,w,b,Ft,L,ba,Tn]),ue.useEffect(()=>{b.delete&&Tn()},[Tn,b.delete]);function ml(){var Oe,Ye,et;return G!=null&&G.loading?ue.createElement("div",{className:$n(D?.loader,(Oe=b?.classNames)==null?void 0:Oe.loader,"sonner-loader"),"data-visible":Ft==="loading"},G.loading):X?ue.createElement("div",{className:$n(D?.loader,(Ye=b?.classNames)==null?void 0:Ye.loader,"sonner-loader"),"data-visible":Ft==="loading"},X):ue.createElement(oN,{className:$n(D?.loader,(et=b?.classNames)==null?void 0:et.loader),visible:Ft==="loading"})}return ue.createElement("li",{tabIndex:0,ref:Yn,className:$n(Q,ya,D?.toast,(e=b?.classNames)==null?void 0:e.toast,D?.default,D?.[Ft],(n=b?.classNames)==null?void 0:n[Ft]),"data-sonner-toast":"","data-rich-colors":(r=b.richColors)!=null?r:z,"data-styled":!(b.jsx||b.unstyled||k),"data-mounted":Z,"data-promise":!!b.promise,"data-swiped":$r,"data-removed":Pe,"data-visible":dl,"data-y-position":Di,"data-x-position":Mi,"data-index":N,"data-front":ul,"data-swiping":Ve,"data-dismissible":Qn,"data-type":Ft,"data-invert":Ur,"data-swipe-out":gt,"data-swipe-direction":ye,"data-expanded":!!(P||$&&Z),style:{"--index":N,"--toasts-before":N,"--z-index":R.length-N,"--offset":`${Pe?vr:yr.current}px`,"--initial-height":$?"auto":`${Ii}px`,...F,...b.style},onDragEnd:()=>{Xe(!1),se(null),Jn.current=null},onPointerDown:Oe=>{Xn||!Qn||(va.current=new Date,ga(yr.current),Oe.target.setPointerCapture(Oe.pointerId),Oe.target.tagName!=="BUTTON"&&(Xe(!0),Jn.current={x:Oe.clientX,y:Oe.clientY}))},onPointerUp:()=>{var Oe,Ye,et,Ut;if(gt||!Qn)return;Jn.current=null;let qt=Number(((Oe=Yn.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Kt=Number(((Ye=Yn.current)==null?void 0:Ye.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Rn=new Date().getTime()-((et=va.current)==null?void 0:et.getTime()),Nt=ne==="x"?qt:Kt,er=Math.abs(Nt)/Rn;if(Math.abs(Nt)>=EN||er>.11){ga(yr.current),(Ut=b.onDismiss)==null||Ut.call(b,b),Se(ne==="x"?qt>0?"right":"left":Kt>0?"down":"up"),Tn(),an(!0),gr(!1);return}Xe(!1),se(null)},onPointerMove:Oe=>{var Ye,et,Ut,qt;if(!Jn.current||!Qn||((Ye=window.getSelection())==null?void 0:Ye.toString().length)>0)return;let Kt=Oe.clientY-Jn.current.y,Rn=Oe.clientX-Jn.current.x,Nt=(et=t.swipeDirections)!=null?et:NN(H);!ne&&(Math.abs(Rn)>1||Math.abs(Kt)>1)&&se(Math.abs(Rn)>Math.abs(Kt)?"x":"y");let er={x:0,y:0};ne==="y"?(Nt.includes("top")||Nt.includes("bottom"))&&(Nt.includes("top")&&Kt<0||Nt.includes("bottom")&&Kt>0)&&(er.y=Kt):ne==="x"&&(Nt.includes("left")||Nt.includes("right"))&&(Nt.includes("left")&&Rn<0||Nt.includes("right")&&Rn>0)&&(er.x=Rn),(Math.abs(er.x)>0||Math.abs(er.y)>0)&&gr(!0),(Ut=Yn.current)==null||Ut.style.setProperty("--swipe-amount-x",`${er.x}px`),(qt=Yn.current)==null||qt.style.setProperty("--swipe-amount-y",`${er.y}px`)}},Ns&&!b.jsx?ue.createElement("button",{"aria-label":T,"data-disabled":Xn,"data-close-button":!0,onClick:Xn||!Qn?()=>{}:()=>{var Oe;Tn(),(Oe=b.onDismiss)==null||Oe.call(b,b)},className:$n(D?.closeButton,(i=b?.classNames)==null?void 0:i.closeButton)},(o=G?.close)!=null?o:fN):null,b.jsx||m.isValidElement(b.title)?b.jsx?b.jsx:typeof b.title=="function"?b.title():b.title:ue.createElement(ue.Fragment,null,Ft||b.icon||b.promise?ue.createElement("div",{"data-icon":"",className:$n(D?.icon,(u=b?.classNames)==null?void 0:u.icon)},b.promise||b.type==="loading"&&!b.icon?b.icon||ml():null,b.type!=="loading"?b.icon||G?.[Ft]||aN(Ft):null):null,ue.createElement("div",{"data-content":"",className:$n(D?.content,(d=b?.classNames)==null?void 0:d.content)},ue.createElement("div",{"data-title":"",className:$n(D?.title,(f=b?.classNames)==null?void 0:f.title)},typeof b.title=="function"?b.title():b.title),b.description?ue.createElement("div",{"data-description":"",className:$n(K,fl,D?.description,(p=b?.classNames)==null?void 0:p.description)},typeof b.description=="function"?b.description():b.description):null),m.isValidElement(b.cancel)?b.cancel:b.cancel&&Ec(b.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||Y,onClick:Oe=>{var Ye,et;Ec(b.cancel)&&Qn&&((et=(Ye=b.cancel).onClick)==null||et.call(Ye,Oe),Tn())},className:$n(D?.cancelButton,(g=b?.classNames)==null?void 0:g.cancelButton)},b.cancel.label):null,m.isValidElement(b.action)?b.action:b.action&&Ec(b.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||te,onClick:Oe=>{var Ye,et;Ec(b.action)&&((et=(Ye=b.action).onClick)==null||et.call(Ye,Oe),!Oe.defaultPrevented&&Tn())},className:$n(D?.actionButton,(y=b?.classNames)==null?void 0:y.actionButton)},b.action.label):null))};function yy(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function RN(t,e){let n={};return[t,e].forEach((r,i)=>{let o=i===1,u=o?"--mobile-offset":"--offset",d=o?SN:_N;function f(p){["top","right","bottom","left"].forEach(g=>{n[`${u}-${g}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?f(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?n[`${u}-${p}`]=d:n[`${u}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):f(d)}),n}var PN=m.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:u,className:d,offset:f,mobileOffset:p,theme:g="light",richColors:y,duration:S,style:b,visibleToasts:k=bN,toastOptions:w,dir:_=yy(),gap:E=jN,loadingIcon:C,icons:N,containerAriaLabel:R="Notifications",pauseWhenPageIsHidden:P}=t,[M,z]=ue.useState([]),V=ue.useMemo(()=>Array.from(new Set([r].concat(M.filter(L=>L.position).map(L=>L.position)))),[M,r]),[F,Y]=ue.useState([]),[te,Q]=ue.useState(!1),[K,q]=ue.useState(!1),[H,J]=ue.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=ue.useRef(null),$=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=ue.useRef(null),G=ue.useRef(!1),T=ue.useCallback(L=>{z(ne=>{var se;return(se=ne.find(ye=>ye.id===L.id))!=null&&se.delete||tn.dismiss(L.id),ne.filter(({id:ye})=>ye!==L.id)})},[]);return ue.useEffect(()=>tn.subscribe(L=>{if(L.dismiss){z(ne=>ne.map(se=>se.id===L.id?{...se,delete:!0}:se));return}setTimeout(()=>{ex.flushSync(()=>{z(ne=>{let se=ne.findIndex(ye=>ye.id===L.id);return se!==-1?[...ne.slice(0,se),{...ne[se],...L},...ne.slice(se+1)]:[L,...ne]})})})}),[]),ue.useEffect(()=>{if(g!=="system"){J(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let L=window.matchMedia("(prefers-color-scheme: dark)");try{L.addEventListener("change",({matches:ne})=>{J(ne?"dark":"light")})}catch{L.addListener(({matches:se})=>{try{J(se?"dark":"light")}catch(ye){console.error(ye)}})}},[g]),ue.useEffect(()=>{M.length<=1&&Q(!1)},[M]),ue.useEffect(()=>{let L=ne=>{var se,ye;i.every(Se=>ne[Se]||ne.code===Se)&&(Q(!0),(se=X.current)==null||se.focus()),ne.code==="Escape"&&(document.activeElement===X.current||(ye=X.current)!=null&&ye.contains(document.activeElement))&&Q(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[i]),ue.useEffect(()=>{if(X.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,G.current=!1)}},[X.current]),ue.createElement("section",{ref:e,"aria-label":`${R} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((L,ne)=>{var se;let[ye,Se]=L.split("-");return M.length?ue.createElement("ol",{key:L,dir:_==="auto"?yy():_,tabIndex:-1,ref:X,className:d,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":ye,"data-lifted":te&&M.length>1&&!o,"data-x-position":Se,style:{"--front-toast-height":`${((se=F[0])==null?void 0:se.height)||0}px`,"--width":`${kN}px`,"--gap":`${E}px`,...b,...RN(f,p)},onBlur:Z=>{G.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(G.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||G.current||(G.current=!0,D.current=Z.relatedTarget)},onMouseEnter:()=>Q(!0),onMouseMove:()=>Q(!0),onMouseLeave:()=>{K||Q(!1)},onDragEnd:()=>Q(!1),onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},M.filter(Z=>!Z.position&&ne===0||Z.position===L).map((Z,be)=>{var Pe,Ae;return ue.createElement(TN,{key:Z.id,icons:N,index:be,toast:Z,defaultRichColors:y,duration:(Pe=w?.duration)!=null?Pe:S,className:w?.className,descriptionClassName:w?.descriptionClassName,invert:n,visibleToasts:k,closeButton:(Ae=w?.closeButton)!=null?Ae:u,interacting:K,position:L,style:w?.style,unstyled:w?.unstyled,classNames:w?.classNames,cancelButtonStyle:w?.cancelButtonStyle,actionButtonStyle:w?.actionButtonStyle,removeToast:T,toasts:M.filter(Ve=>Ve.position==Z.position),heights:F.filter(Ve=>Ve.position==Z.position),setHeights:Y,expandByDefault:o,gap:E,loadingIcon:C,expanded:te,pauseWhenPageIsHidden:P,swipeDirections:t.swipeDirections})})):null}))});const ON=({...t})=>{const{theme:e="system"}=sN();return l.jsx(PN,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var AN=vu[" useId ".trim().toString()]||(()=>{}),IN=0;function lr(t){const[e,n]=m.useState(AN());return Ct(()=>{n(r=>r??String(IN++))},[t]),e?`radix-${e}`:""}const DN=["top","right","bottom","left"],ys=Math.min,fn=Math.max,Gc=Math.round,Cc=Math.floor,cr=t=>({x:t,y:t}),MN={left:"right",right:"left",bottom:"top",top:"bottom"},LN={start:"end",end:"start"};function yh(t,e,n){return fn(t,ys(e,n))}function Pr(t,e){return typeof t=="function"?t(e):t}function Or(t){return t.split("-")[0]}function Ei(t){return t.split("-")[1]}function mp(t){return t==="x"?"y":"x"}function gp(t){return t==="y"?"height":"width"}const $N=new Set(["top","bottom"]);function or(t){return $N.has(Or(t))?"y":"x"}function vp(t){return mp(or(t))}function FN(t,e,n){n===void 0&&(n=!1);const r=Ei(t),i=vp(t),o=gp(i);let u=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(u=Yc(u)),[u,Yc(u)]}function UN(t){const e=Yc(t);return[wh(t),e,wh(e)]}function wh(t){return t.replace(/start|end/g,e=>LN[e])}const wy=["left","right"],xy=["right","left"],zN=["top","bottom"],BN=["bottom","top"];function WN(t,e,n){switch(t){case"top":case"bottom":return n?e?xy:wy:e?wy:xy;case"left":case"right":return e?zN:BN;default:return[]}}function VN(t,e,n,r){const i=Ei(t);let o=WN(Or(t),n==="start",r);return i&&(o=o.map(u=>u+"-"+i),e&&(o=o.concat(o.map(wh)))),o}function Yc(t){return t.replace(/left|right|bottom|top/g,e=>MN[e])}function HN(t){return{top:0,right:0,bottom:0,left:0,...t}}function Kx(t){return typeof t!="number"?HN(t):{top:t,right:t,bottom:t,left:t}}function Qc(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function by(t,e,n){let{reference:r,floating:i}=t;const o=or(e),u=vp(e),d=gp(u),f=Or(e),p=o==="y",g=r.x+r.width/2-i.width/2,y=r.y+r.height/2-i.height/2,S=r[d]/2-i[d]/2;let b;switch(f){case"top":b={x:g,y:r.y-i.height};break;case"bottom":b={x:g,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y};break;case"left":b={x:r.x-i.width,y};break;default:b={x:r.x,y:r.y}}switch(Ei(e)){case"start":b[u]-=S*(n&&p?-1:1);break;case"end":b[u]+=S*(n&&p?-1:1);break}return b}async function qN(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:u,elements:d,strategy:f}=t,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:S=!1,padding:b=0}=Pr(e,t),k=Kx(b),_=d[S?y==="floating"?"reference":"floating":y],E=Qc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:p,rootBoundary:g,strategy:f})),C=y==="floating"?{x:r,y:i,width:u.floating.width,height:u.floating.height}:u.reference,N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),R=await(o.isElement==null?void 0:o.isElement(N))?await(o.getScale==null?void 0:o.getScale(N))||{x:1,y:1}:{x:1,y:1},P=Qc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:C,offsetParent:N,strategy:f}):C);return{top:(E.top-P.top+k.top)/R.y,bottom:(P.bottom-E.bottom+k.bottom)/R.y,left:(E.left-P.left+k.left)/R.x,right:(P.right-E.right+k.right)/R.x}}const KN=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:u}=n,d=o.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y}=by(p,r,f),S=r,b={},k=0;for(let _=0;_<d.length;_++){var w;const{name:E,fn:C}=d[_],{x:N,y:R,data:P,reset:M}=await C({x:g,y,initialPlacement:r,placement:S,strategy:i,middlewareData:b,rects:p,platform:{...u,detectOverflow:(w=u.detectOverflow)!=null?w:qN},elements:{reference:t,floating:e}});g=N??g,y=R??y,b={...b,[E]:{...b[E],...P}},M&&k<=50&&(k++,typeof M=="object"&&(M.placement&&(S=M.placement),M.rects&&(p=M.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:i}):M.rects),{x:g,y}=by(p,S,f)),_=-1)}return{x:g,y,placement:S,strategy:i,middlewareData:b}},GN=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:u,elements:d,middlewareData:f}=e,{element:p,padding:g=0}=Pr(t,e)||{};if(p==null)return{};const y=Kx(g),S={x:n,y:r},b=vp(i),k=gp(b),w=await u.getDimensions(p),_=b==="y",E=_?"top":"left",C=_?"bottom":"right",N=_?"clientHeight":"clientWidth",R=o.reference[k]+o.reference[b]-S[b]-o.floating[k],P=S[b]-o.reference[b],M=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let z=M?M[N]:0;(!z||!await(u.isElement==null?void 0:u.isElement(M)))&&(z=d.floating[N]||o.floating[k]);const V=R/2-P/2,F=z/2-w[k]/2-1,Y=ys(y[E],F),te=ys(y[C],F),Q=Y,K=z-w[k]-te,q=z/2-w[k]/2+V,H=yh(Q,q,K),J=!f.arrow&&Ei(i)!=null&&q!==H&&o.reference[k]/2-(q<Q?Y:te)-w[k]/2<0,X=J?q<Q?q-Q:q-K:0;return{[b]:S[b]+X,data:{[b]:H,centerOffset:q-H-X,...J&&{alignmentOffset:X}},reset:J}}}),YN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:u,initialPlacement:d,platform:f,elements:p}=e,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:S,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:w=!0,..._}=Pr(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const E=Or(i),C=or(d),N=Or(d)===d,R=await(f.isRTL==null?void 0:f.isRTL(p.floating)),P=S||(N||!w?[Yc(d)]:UN(d)),M=k!=="none";!S&&M&&P.push(...VN(d,w,k,R));const z=[d,...P],V=await f.detectOverflow(e,_),F=[];let Y=((r=o.flip)==null?void 0:r.overflows)||[];if(g&&F.push(V[E]),y){const q=FN(i,u,R);F.push(V[q[0]],V[q[1]])}if(Y=[...Y,{placement:i,overflows:F}],!F.every(q=>q<=0)){var te,Q;const q=(((te=o.flip)==null?void 0:te.index)||0)+1,H=z[q];if(H&&(!(y==="alignment"?C!==or(H):!1)||Y.every($=>or($.placement)===C?$.overflows[0]>0:!0)))return{data:{index:q,overflows:Y},reset:{placement:H}};let J=(Q=Y.filter(X=>X.overflows[0]<=0).sort((X,$)=>X.overflows[1]-$.overflows[1])[0])==null?void 0:Q.placement;if(!J)switch(b){case"bestFit":{var K;const X=(K=Y.filter($=>{if(M){const D=or($.placement);return D===C||D==="y"}return!0}).map($=>[$.placement,$.overflows.filter(D=>D>0).reduce((D,G)=>D+G,0)]).sort(($,D)=>$[1]-D[1])[0])==null?void 0:K[0];X&&(J=X);break}case"initialPlacement":J=d;break}if(i!==J)return{reset:{placement:J}}}return{}}}};function _y(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Sy(t){return DN.some(e=>t[e]>=0)}const QN=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n,platform:r}=e,{strategy:i="referenceHidden",...o}=Pr(t,e);switch(i){case"referenceHidden":{const u=await r.detectOverflow(e,{...o,elementContext:"reference"}),d=_y(u,n.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:Sy(d)}}}case"escaped":{const u=await r.detectOverflow(e,{...o,altBoundary:!0}),d=_y(u,n.floating);return{data:{escapedOffsets:d,escaped:Sy(d)}}}default:return{}}}}},Gx=new Set(["left","top"]);async function ZN(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),u=Or(n),d=Ei(n),f=or(n)==="y",p=Gx.has(u)?-1:1,g=o&&f?-1:1,y=Pr(e,t);let{mainAxis:S,crossAxis:b,alignmentAxis:k}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return d&&typeof k=="number"&&(b=d==="end"?k*-1:k),f?{x:b*g,y:S*p}:{x:S*p,y:b*g}}const JN=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:u,middlewareData:d}=e,f=await ZN(e,t);return u===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:o+f.y,data:{...f,placement:u}}}}},XN=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i,platform:o}=e,{mainAxis:u=!0,crossAxis:d=!1,limiter:f={fn:E=>{let{x:C,y:N}=E;return{x:C,y:N}}},...p}=Pr(t,e),g={x:n,y:r},y=await o.detectOverflow(e,p),S=or(Or(i)),b=mp(S);let k=g[b],w=g[S];if(u){const E=b==="y"?"top":"left",C=b==="y"?"bottom":"right",N=k+y[E],R=k-y[C];k=yh(N,k,R)}if(d){const E=S==="y"?"top":"left",C=S==="y"?"bottom":"right",N=w+y[E],R=w-y[C];w=yh(N,w,R)}const _=f.fn({...e,[b]:k,[S]:w});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[b]:u,[S]:d}}}}}},eT=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:u}=e,{offset:d=0,mainAxis:f=!0,crossAxis:p=!0}=Pr(t,e),g={x:n,y:r},y=or(i),S=mp(y);let b=g[S],k=g[y];const w=Pr(d,e),_=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(f){const N=S==="y"?"height":"width",R=o.reference[S]-o.floating[N]+_.mainAxis,P=o.reference[S]+o.reference[N]-_.mainAxis;b<R?b=R:b>P&&(b=P)}if(p){var E,C;const N=S==="y"?"width":"height",R=Gx.has(Or(i)),P=o.reference[y]-o.floating[N]+(R&&((E=u.offset)==null?void 0:E[y])||0)+(R?0:_.crossAxis),M=o.reference[y]+o.reference[N]+(R?0:((C=u.offset)==null?void 0:C[y])||0)-(R?_.crossAxis:0);k<P?k=P:k>M&&(k=M)}return{[S]:b,[y]:k}}}},tT=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:u,elements:d}=e,{apply:f=()=>{},...p}=Pr(t,e),g=await u.detectOverflow(e,p),y=Or(i),S=Ei(i),b=or(i)==="y",{width:k,height:w}=o.floating;let _,E;y==="top"||y==="bottom"?(_=y,E=S===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(E=y,_=S==="end"?"top":"bottom");const C=w-g.top-g.bottom,N=k-g.left-g.right,R=ys(w-g[_],C),P=ys(k-g[E],N),M=!e.middlewareData.shift;let z=R,V=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(V=N),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(z=C),M&&!S){const Y=fn(g.left,0),te=fn(g.right,0),Q=fn(g.top,0),K=fn(g.bottom,0);b?V=k-2*(Y!==0||te!==0?Y+te:fn(g.left,g.right)):z=w-2*(Q!==0||K!==0?Q+K:fn(g.top,g.bottom))}await f({...e,availableWidth:V,availableHeight:z});const F=await u.getDimensions(d.floating);return k!==F.width||w!==F.height?{reset:{rects:!0}}:{}}}};function _u(){return typeof window<"u"}function Ci(t){return Yx(t)?(t.nodeName||"").toLowerCase():"#document"}function pn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function pr(t){var e;return(e=(Yx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Yx(t){return _u()?t instanceof Node||t instanceof pn(t).Node:!1}function qn(t){return _u()?t instanceof Element||t instanceof pn(t).Element:!1}function hr(t){return _u()?t instanceof HTMLElement||t instanceof pn(t).HTMLElement:!1}function ky(t){return!_u()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof pn(t).ShadowRoot}const nT=new Set(["inline","contents"]);function el(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Kn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!nT.has(i)}const rT=new Set(["table","td","th"]);function sT(t){return rT.has(Ci(t))}const aT=[":popover-open",":modal"];function Su(t){return aT.some(e=>{try{return t.matches(e)}catch{return!1}})}const iT=["transform","translate","scale","rotate","perspective"],oT=["transform","translate","scale","rotate","perspective","filter"],lT=["paint","layout","strict","content"];function yp(t){const e=wp(),n=qn(t)?Kn(t):t;return iT.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||oT.some(r=>(n.willChange||"").includes(r))||lT.some(r=>(n.contain||"").includes(r))}function cT(t){let e=ws(t);for(;hr(e)&&!fi(e);){if(yp(e))return e;if(Su(e))return null;e=ws(e)}return null}function wp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uT=new Set(["html","body","#document"]);function fi(t){return uT.has(Ci(t))}function Kn(t){return pn(t).getComputedStyle(t)}function ku(t){return qn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ws(t){if(Ci(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ky(t)&&t.host||pr(t);return ky(e)?e.host:e}function Qx(t){const e=ws(t);return fi(e)?t.ownerDocument?t.ownerDocument.body:t.body:hr(e)&&el(e)?e:Qx(e)}function Ao(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Qx(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),u=pn(i);if(o){const d=xh(u);return e.concat(u,u.visualViewport||[],el(i)?i:[],d&&n?Ao(d):[])}return e.concat(i,Ao(i,[],n))}function xh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Zx(t){const e=Kn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=hr(t),o=i?t.offsetWidth:n,u=i?t.offsetHeight:r,d=Gc(n)!==o||Gc(r)!==u;return d&&(n=o,r=u),{width:n,height:r,$:d}}function xp(t){return qn(t)?t:t.contextElement}function oi(t){const e=xp(t);if(!hr(e))return cr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=Zx(e);let u=(o?Gc(n.width):n.width)/r,d=(o?Gc(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const dT=cr(0);function Jx(t){const e=pn(t);return!wp()||!e.visualViewport?dT:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fT(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==pn(t)?!1:e}function ta(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=xp(t);let u=cr(1);e&&(r?qn(r)&&(u=oi(r)):u=oi(t));const d=fT(o,n,r)?Jx(o):cr(0);let f=(i.left+d.x)/u.x,p=(i.top+d.y)/u.y,g=i.width/u.x,y=i.height/u.y;if(o){const S=pn(o),b=r&&qn(r)?pn(r):r;let k=S,w=xh(k);for(;w&&r&&b!==k;){const _=oi(w),E=w.getBoundingClientRect(),C=Kn(w),N=E.left+(w.clientLeft+parseFloat(C.paddingLeft))*_.x,R=E.top+(w.clientTop+parseFloat(C.paddingTop))*_.y;f*=_.x,p*=_.y,g*=_.x,y*=_.y,f+=N,p+=R,k=pn(w),w=xh(k)}}return Qc({width:g,height:y,x:f,y:p})}function ju(t,e){const n=ku(t).scrollLeft;return e?e.left+n:ta(pr(t)).left+n}function Xx(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-ju(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function hT(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",u=pr(r),d=e?Su(e.floating):!1;if(r===u||d&&o)return n;let f={scrollLeft:0,scrollTop:0},p=cr(1);const g=cr(0),y=hr(r);if((y||!y&&!o)&&((Ci(r)!=="body"||el(u))&&(f=ku(r)),hr(r))){const b=ta(r);p=oi(r),g.x=b.x+r.clientLeft,g.y=b.y+r.clientTop}const S=u&&!y&&!o?Xx(u,f):cr(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-f.scrollLeft*p.x+g.x+S.x,y:n.y*p.y-f.scrollTop*p.y+g.y+S.y}}function pT(t){return Array.from(t.getClientRects())}function mT(t){const e=pr(t),n=ku(t),r=t.ownerDocument.body,i=fn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=fn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-n.scrollLeft+ju(t);const d=-n.scrollTop;return Kn(r).direction==="rtl"&&(u+=fn(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:u,y:d}}const jy=25;function gT(t,e){const n=pn(t),r=pr(t),i=n.visualViewport;let o=r.clientWidth,u=r.clientHeight,d=0,f=0;if(i){o=i.width,u=i.height;const g=wp();(!g||g&&e==="fixed")&&(d=i.offsetLeft,f=i.offsetTop)}const p=ju(r);if(p<=0){const g=r.ownerDocument,y=g.body,S=getComputedStyle(y),b=g.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,k=Math.abs(r.clientWidth-y.clientWidth-b);k<=jy&&(o-=k)}else p<=jy&&(o+=p);return{width:o,height:u,x:d,y:f}}const vT=new Set(["absolute","fixed"]);function yT(t,e){const n=ta(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=hr(t)?oi(t):cr(1),u=t.clientWidth*o.x,d=t.clientHeight*o.y,f=i*o.x,p=r*o.y;return{width:u,height:d,x:f,y:p}}function Ey(t,e,n){let r;if(e==="viewport")r=gT(t,n);else if(e==="document")r=mT(pr(t));else if(qn(e))r=yT(e,n);else{const i=Jx(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Qc(r)}function e0(t,e){const n=ws(t);return n===e||!qn(n)||fi(n)?!1:Kn(n).position==="fixed"||e0(n,e)}function wT(t,e){const n=e.get(t);if(n)return n;let r=Ao(t,[],!1).filter(d=>qn(d)&&Ci(d)!=="body"),i=null;const o=Kn(t).position==="fixed";let u=o?ws(t):t;for(;qn(u)&&!fi(u);){const d=Kn(u),f=yp(u);!f&&d.position==="fixed"&&(i=null),(o?!f&&!i:!f&&d.position==="static"&&!!i&&vT.has(i.position)||el(u)&&!f&&e0(t,u))?r=r.filter(g=>g!==u):i=d,u=ws(u)}return e.set(t,r),r}function xT(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const u=[...n==="clippingAncestors"?Su(e)?[]:wT(e,this._c):[].concat(n),r],d=u[0],f=u.reduce((p,g)=>{const y=Ey(e,g,i);return p.top=fn(y.top,p.top),p.right=ys(y.right,p.right),p.bottom=ys(y.bottom,p.bottom),p.left=fn(y.left,p.left),p},Ey(e,d,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function bT(t){const{width:e,height:n}=Zx(t);return{width:e,height:n}}function _T(t,e,n){const r=hr(e),i=pr(e),o=n==="fixed",u=ta(t,!0,o,e);let d={scrollLeft:0,scrollTop:0};const f=cr(0);function p(){f.x=ju(i)}if(r||!r&&!o)if((Ci(e)!=="body"||el(i))&&(d=ku(e)),r){const b=ta(e,!0,o,e);f.x=b.x+e.clientLeft,f.y=b.y+e.clientTop}else i&&p();o&&!r&&i&&p();const g=i&&!r&&!o?Xx(i,d):cr(0),y=u.left+d.scrollLeft-f.x-g.x,S=u.top+d.scrollTop-f.y-g.y;return{x:y,y:S,width:u.width,height:u.height}}function Wf(t){return Kn(t).position==="static"}function Cy(t,e){if(!hr(t)||Kn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return pr(t)===n&&(n=n.ownerDocument.body),n}function t0(t,e){const n=pn(t);if(Su(t))return n;if(!hr(t)){let i=ws(t);for(;i&&!fi(i);){if(qn(i)&&!Wf(i))return i;i=ws(i)}return n}let r=Cy(t,e);for(;r&&sT(r)&&Wf(r);)r=Cy(r,e);return r&&fi(r)&&Wf(r)&&!yp(r)?n:r||cT(t)||n}const ST=async function(t){const e=this.getOffsetParent||t0,n=this.getDimensions,r=await n(t.floating);return{reference:_T(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kT(t){return Kn(t).direction==="rtl"}const jT={convertOffsetParentRelativeRectToViewportRelativeRect:hT,getDocumentElement:pr,getClippingRect:xT,getOffsetParent:t0,getElementRects:ST,getClientRects:pT,getDimensions:bT,getScale:oi,isElement:qn,isRTL:kT};function n0(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ET(t,e){let n=null,r;const i=pr(t);function o(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function u(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),o();const p=t.getBoundingClientRect(),{left:g,top:y,width:S,height:b}=p;if(d||e(),!S||!b)return;const k=Cc(y),w=Cc(i.clientWidth-(g+S)),_=Cc(i.clientHeight-(y+b)),E=Cc(g),N={rootMargin:-k+"px "+-w+"px "+-_+"px "+-E+"px",threshold:fn(0,ys(1,f))||1};let R=!0;function P(M){const z=M[0].intersectionRatio;if(z!==f){if(!R)return u();z?u(!1,z):r=setTimeout(()=>{u(!1,1e-7)},1e3)}z===1&&!n0(p,t.getBoundingClientRect())&&u(),R=!1}try{n=new IntersectionObserver(P,{...N,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,N)}n.observe(t)}return u(!0),o}function CT(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,p=xp(t),g=i||o?[...p?Ao(p):[],...Ao(e)]:[];g.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),o&&E.addEventListener("resize",n)});const y=p&&d?ET(p,n):null;let S=-1,b=null;u&&(b=new ResizeObserver(E=>{let[C]=E;C&&C.target===p&&b&&(b.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var N;(N=b)==null||N.observe(e)})),n()}),p&&!f&&b.observe(p),b.observe(e));let k,w=f?ta(t):null;f&&_();function _(){const E=ta(t);w&&!n0(w,E)&&n(),w=E,k=requestAnimationFrame(_)}return n(),()=>{var E;g.forEach(C=>{i&&C.removeEventListener("scroll",n),o&&C.removeEventListener("resize",n)}),y?.(),(E=b)==null||E.disconnect(),b=null,f&&cancelAnimationFrame(k)}}const NT=JN,TT=XN,RT=YN,PT=tT,OT=QN,Ny=GN,AT=eT,IT=(t,e,n)=>{const r=new Map,i={platform:jT,...n},o={...i.platform,_c:r};return KN(t,e,{...i,platform:o})};var DT=typeof document<"u",MT=function(){},Wc=DT?m.useLayoutEffect:MT;function Zc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Zc(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Zc(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function r0(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Ty(t,e){const n=r0(t);return Math.round(e*n)/n}function Vf(t){const e=m.useRef(t);return Wc(()=>{e.current=t}),e}function LT(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:u}={},transform:d=!0,whileElementsMounted:f,open:p}=t,[g,y]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[S,b]=m.useState(r);Zc(S,r)||b(r);const[k,w]=m.useState(null),[_,E]=m.useState(null),C=m.useCallback($=>{$!==M.current&&(M.current=$,w($))},[]),N=m.useCallback($=>{$!==z.current&&(z.current=$,E($))},[]),R=o||k,P=u||_,M=m.useRef(null),z=m.useRef(null),V=m.useRef(g),F=f!=null,Y=Vf(f),te=Vf(i),Q=Vf(p),K=m.useCallback(()=>{if(!M.current||!z.current)return;const $={placement:e,strategy:n,middleware:S};te.current&&($.platform=te.current),IT(M.current,z.current,$).then(D=>{const G={...D,isPositioned:Q.current!==!1};q.current&&!Zc(V.current,G)&&(V.current=G,Si.flushSync(()=>{y(G)}))})},[S,e,n,te,Q]);Wc(()=>{p===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,y($=>({...$,isPositioned:!1})))},[p]);const q=m.useRef(!1);Wc(()=>(q.current=!0,()=>{q.current=!1}),[]),Wc(()=>{if(R&&(M.current=R),P&&(z.current=P),R&&P){if(Y.current)return Y.current(R,P,K);K()}},[R,P,K,Y,F]);const H=m.useMemo(()=>({reference:M,floating:z,setReference:C,setFloating:N}),[C,N]),J=m.useMemo(()=>({reference:R,floating:P}),[R,P]),X=m.useMemo(()=>{const $={position:n,left:0,top:0};if(!J.floating)return $;const D=Ty(J.floating,g.x),G=Ty(J.floating,g.y);return d?{...$,transform:"translate("+D+"px, "+G+"px)",...r0(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:G}},[n,d,J.floating,g.x,g.y]);return m.useMemo(()=>({...g,update:K,refs:H,elements:J,floatingStyles:X}),[g,K,H,J,X])}const $T=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Ny({element:r.current,padding:i}).fn(n):{}:r?Ny({element:r,padding:i}).fn(n):{}}}},FT=(t,e)=>({...NT(t),options:[t,e]}),UT=(t,e)=>({...TT(t),options:[t,e]}),zT=(t,e)=>({...AT(t),options:[t,e]}),BT=(t,e)=>({...RT(t),options:[t,e]}),WT=(t,e)=>({...PT(t),options:[t,e]}),VT=(t,e)=>({...OT(t),options:[t,e]}),HT=(t,e)=>({...$T(t),options:[t,e]});var qT="Arrow",s0=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return l.jsx(ke.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});s0.displayName=qT;var KT=s0;function bp(t){const[e,n]=m.useState(void 0);return Ct(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let u,d;if("borderBoxSize"in o){const f=o.borderBoxSize,p=Array.isArray(f)?f[0]:f;u=p.inlineSize,d=p.blockSize}else u=t.offsetWidth,d=t.offsetHeight;n({width:u,height:d})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var _p="Popper",[a0,Ni]=sn(_p),[GT,i0]=a0(_p),o0=t=>{const{__scopePopper:e,children:n}=t,[r,i]=m.useState(null);return l.jsx(GT,{scope:e,anchor:r,onAnchorChange:i,children:n})};o0.displayName=_p;var l0="PopperAnchor",c0=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=i0(l0,n),u=m.useRef(null),d=Le(e,u),f=m.useRef(null);return m.useEffect(()=>{const p=f.current;f.current=r?.current||u.current,p!==f.current&&o.onAnchorChange(f.current)}),r?null:l.jsx(ke.div,{...i,ref:d})});c0.displayName=l0;var Sp="PopperContent",[YT,QT]=a0(Sp),u0=m.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:y="partial",hideWhenDetached:S=!1,updatePositionStrategy:b="optimized",onPlaced:k,...w}=t,_=i0(Sp,n),[E,C]=m.useState(null),N=Le(e,Z=>C(Z)),[R,P]=m.useState(null),M=bp(R),z=M?.width??0,V=M?.height??0,F=r+(o!=="center"?"-"+o:""),Y=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},te=Array.isArray(p)?p:[p],Q=te.length>0,K={padding:Y,boundary:te.filter(JT),altBoundary:Q},{refs:q,floatingStyles:H,placement:J,isPositioned:X,middlewareData:$}=LT({strategy:"fixed",placement:F,whileElementsMounted:(...Z)=>CT(...Z,{animationFrame:b==="always"}),elements:{reference:_.anchor},middleware:[FT({mainAxis:i+V,alignmentAxis:u}),f&&UT({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?zT():void 0,...K}),f&&BT({...K}),WT({...K,apply:({elements:Z,rects:be,availableWidth:Pe,availableHeight:Ae})=>{const{width:Ve,height:Xe}=be.reference,gt=Z.floating.style;gt.setProperty("--radix-popper-available-width",`${Pe}px`),gt.setProperty("--radix-popper-available-height",`${Ae}px`),gt.setProperty("--radix-popper-anchor-width",`${Ve}px`),gt.setProperty("--radix-popper-anchor-height",`${Xe}px`)}}),R&&HT({element:R,padding:d}),XT({arrowWidth:z,arrowHeight:V}),S&&VT({strategy:"referenceHidden",...K})]}),[D,G]=h0(J),T=ht(k);Ct(()=>{X&&T?.()},[X,T]);const L=$.arrow?.x,ne=$.arrow?.y,se=$.arrow?.centerOffset!==0,[ye,Se]=m.useState();return Ct(()=>{E&&Se(window.getComputedStyle(E).zIndex)},[E]),l.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:X?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(YT,{scope:n,placedSide:D,onArrowChange:P,arrowX:L,arrowY:ne,shouldHideArrow:se,children:l.jsx(ke.div,{"data-side":D,"data-align":G,...w,ref:N,style:{...w.style,animation:X?void 0:"none"}})})})});u0.displayName=Sp;var d0="PopperArrow",ZT={top:"bottom",right:"left",bottom:"top",left:"right"},f0=m.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=QT(d0,r),u=ZT[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(KT,{...i,ref:n,style:{...i.style,display:"block"}})})});f0.displayName=d0;function JT(t){return t!==null}var XT=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,u=i.arrow?.centerOffset!==0,d=u?0:t.arrowWidth,f=u?0:t.arrowHeight,[p,g]=h0(n),y={start:"0%",center:"50%",end:"100%"}[g],S=(i.arrow?.x??0)+d/2,b=(i.arrow?.y??0)+f/2;let k="",w="";return p==="bottom"?(k=u?y:`${S}px`,w=`${-f}px`):p==="top"?(k=u?y:`${S}px`,w=`${r.floating.height+f}px`):p==="right"?(k=`${-f}px`,w=u?y:`${b}px`):p==="left"&&(k=`${r.floating.width+f}px`,w=u?y:`${b}px`),{data:{x:k,y:w}}}});function h0(t){const[e,n="center"]=t.split("-");return[e,n]}var p0=o0,kp=c0,jp=u0,Ep=f0,eR=Symbol("radix.slottable");function tR(t){const e=({children:n})=>l.jsx(l.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=eR,e}var[Eu]=sn("Tooltip",[Ni]),Cp=Ni(),m0="TooltipProvider",nR=700,Ry="tooltip.open",[rR,g0]=Eu(m0),v0=t=>{const{__scopeTooltip:e,delayDuration:n=nR,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=t,u=m.useRef(!0),d=m.useRef(!1),f=m.useRef(0);return m.useEffect(()=>{const p=f.current;return()=>window.clearTimeout(p)},[]),l.jsx(rR,{scope:e,isOpenDelayedRef:u,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(f.current),u.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>u.current=!0,r)},[r]),isPointerInTransitRef:d,onPointerInTransitChange:m.useCallback(p=>{d.current=p},[]),disableHoverableContent:i,children:o})};v0.displayName=m0;var y0="Tooltip",[w3,Cu]=Eu(y0),bh="TooltipTrigger",sR=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Cu(bh,n),o=g0(bh,n),u=Cp(n),d=m.useRef(null),f=Le(e,d,i.onTriggerChange),p=m.useRef(!1),g=m.useRef(!1),y=m.useCallback(()=>p.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),l.jsx(kp,{asChild:!0,...u,children:l.jsx(ke.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:f,onPointerMove:ce(t.onPointerMove,S=>{S.pointerType!=="touch"&&!g.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:ce(t.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:ce(t.onPointerDown,()=>{i.open&&i.onClose(),p.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:ce(t.onFocus,()=>{p.current||i.onOpen()}),onBlur:ce(t.onBlur,i.onClose),onClick:ce(t.onClick,i.onClose)})})});sR.displayName=bh;var aR="TooltipPortal",[x3,iR]=Eu(aR,{forceMount:void 0}),hi="TooltipContent",w0=m.forwardRef((t,e)=>{const n=iR(hi,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,u=Cu(hi,t.__scopeTooltip);return l.jsx($t,{present:r||u.open,children:u.disableHoverableContent?l.jsx(x0,{side:i,...o,ref:e}):l.jsx(oR,{side:i,...o,ref:e})})}),oR=m.forwardRef((t,e)=>{const n=Cu(hi,t.__scopeTooltip),r=g0(hi,t.__scopeTooltip),i=m.useRef(null),o=Le(e,i),[u,d]=m.useState(null),{trigger:f,onClose:p}=n,g=i.current,{onPointerInTransitChange:y}=r,S=m.useCallback(()=>{d(null),y(!1)},[y]),b=m.useCallback((k,w)=>{const _=k.currentTarget,E={x:k.clientX,y:k.clientY},C=fR(E,_.getBoundingClientRect()),N=hR(E,C),R=pR(w.getBoundingClientRect()),P=gR([...N,...R]);d(P),y(!0)},[y]);return m.useEffect(()=>()=>S(),[S]),m.useEffect(()=>{if(f&&g){const k=_=>b(_,g),w=_=>b(_,f);return f.addEventListener("pointerleave",k),g.addEventListener("pointerleave",w),()=>{f.removeEventListener("pointerleave",k),g.removeEventListener("pointerleave",w)}}},[f,g,b,S]),m.useEffect(()=>{if(u){const k=w=>{const _=w.target,E={x:w.clientX,y:w.clientY},C=f?.contains(_)||g?.contains(_),N=!mR(E,u);C?S():N&&(S(),p())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[f,g,u,p,S]),l.jsx(x0,{...t,ref:o})}),[lR,cR]=Eu(y0,{isInside:!1}),uR=tR("TooltipContent"),x0=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:u,...d}=t,f=Cu(hi,n),p=Cp(n),{onClose:g}=f;return m.useEffect(()=>(document.addEventListener(Ry,g),()=>document.removeEventListener(Ry,g)),[g]),m.useEffect(()=>{if(f.trigger){const y=S=>{S.target?.contains(f.trigger)&&g()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[f.trigger,g]),l.jsx(ki,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:y=>y.preventDefault(),onDismiss:g,children:l.jsxs(jp,{"data-state":f.stateAttribute,...p,...d,ref:e,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(uR,{children:r}),l.jsx(lR,{scope:n,isInside:!0,children:l.jsx(PE,{id:f.contentId,role:"tooltip",children:i||r})})]})})});w0.displayName=hi;var b0="TooltipArrow",dR=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Cp(n);return cR(b0,n).isInside?null:l.jsx(Ep,{...i,...r,ref:e})});dR.displayName=b0;function fR(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function hR(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function pR(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function mR(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,u=e.length-1;o<e.length;u=o++){const d=e[o],f=e[u],p=d.x,g=d.y,y=f.x,S=f.y;g>r!=S>r&&n<(y-p)*(r-g)/(S-g)+p&&(i=!i)}return i}function gR(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),vR(e)}function vR(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],u=e[e.length-2];if((o.x-u.x)*(i.y-u.y)>=(o.y-u.y)*(i.x-u.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],u=n[n.length-2];if((o.x-u.x)*(i.y-u.y)>=(o.y-u.y)*(i.x-u.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var yR=v0,_0=w0;const wR=yR,xR=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(_0,{ref:r,sideOffset:e,className:he("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));xR.displayName=_0.displayName;var Nu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bR={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},_R=class{#e=bR;#n=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},_h=new _R;function SR(t){setTimeout(t,0)}var Tu=typeof window>"u"||"Deno"in globalThis;function zn(){}function kR(t,e){return typeof t=="function"?t(e):t}function jR(t){return typeof t=="number"&&t>=0&&t!==1/0}function ER(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Sh(t,e){return typeof t=="function"?t(e):t}function CR(t,e){return typeof t=="function"?t(e):t}function Py(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:u,stale:d}=t;if(u){if(r){if(e.queryHash!==Np(u,e.options))return!1}else if(!Do(e.queryKey,u))return!1}if(n!=="all"){const f=e.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||i&&i!==e.state.fetchStatus||o&&!o(e))}function Oy(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Io(e.options.mutationKey)!==Io(o))return!1}else if(!Do(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Np(t,e){return(e?.queryKeyHashFn||Io)(t)}function Io(t){return JSON.stringify(t,(e,n)=>kh(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Do(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Do(t[n],e[n])):!1}var NR=Object.prototype.hasOwnProperty;function S0(t,e,n=0){if(t===e)return t;if(n>500)return e;const r=Ay(t)&&Ay(e);if(!r&&!(kh(t)&&kh(e)))return e;const o=(r?t:Object.keys(t)).length,u=r?e:Object.keys(e),d=u.length,f=r?new Array(d):{};let p=0;for(let g=0;g<d;g++){const y=r?g:u[g],S=t[y],b=e[y];if(S===b){f[y]=S,(r?g<o:NR.call(t,y))&&p++;continue}if(S===null||b===null||typeof S!="object"||typeof b!="object"){f[y]=b;continue}const k=S0(S,b,n+1);f[y]=k,k===S&&p++}return o===d&&p===o?t:f}function Ay(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function kh(t){if(!Iy(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Iy(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Iy(t){return Object.prototype.toString.call(t)==="[object Object]"}function TR(t){return new Promise(e=>{_h.setTimeout(e,t)})}function RR(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?S0(t,e):e}function PR(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function OR(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Tp=Symbol();function k0(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Tp?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function AR(t,e,n){let r=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??=e(),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),t}var IR=class extends Nu{#e;#n;#t;constructor(){super(),this.#t=t=>{if(!Tu&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#n||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(t){this.#t=t,this.#n?.(),this.#n=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},j0=new IR;function DR(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var MR=SR;function LR(){let t=[],e=0,n=d=>{d()},r=d=>{d()},i=MR;const o=d=>{e?t.push(d):i(()=>{n(d)})},u=()=>{const d=t;t=[],d.length&&i(()=>{r(()=>{d.forEach(f=>{n(f)})})})};return{batch:d=>{let f;e++;try{f=d()}finally{e--,e||u()}return f},batchCalls:d=>(...f)=>{o(()=>{d(...f)})},schedule:o,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{i=d}}}var Wt=LR(),$R=class extends Nu{#e=!0;#n;#t;constructor(){super(),this.#t=t=>{if(!Tu&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#n||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(t){this.#t=t,this.#n?.(),this.#n=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Jc=new $R;function FR(t){return Math.min(1e3*2**t,3e4)}function E0(t){return(t??"online")==="online"?Jc.isOnline():!0}var jh=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function C0(t){let e=!1,n=0,r;const i=DR(),o=()=>i.status!=="pending",u=w=>{if(!o()){const _=new jh(w);S(_),t.onCancel?.(_)}},d=()=>{e=!0},f=()=>{e=!1},p=()=>j0.isFocused()&&(t.networkMode==="always"||Jc.isOnline())&&t.canRun(),g=()=>E0(t.networkMode)&&t.canRun(),y=w=>{o()||(r?.(),i.resolve(w))},S=w=>{o()||(r?.(),i.reject(w))},b=()=>new Promise(w=>{r=_=>{(o()||p())&&w(_)},t.onPause?.()}).then(()=>{r=void 0,o()||t.onContinue?.()}),k=()=>{if(o())return;let w;const _=n===0?t.initialPromise:void 0;try{w=_??t.fn()}catch(E){w=Promise.reject(E)}Promise.resolve(w).then(y).catch(E=>{if(o())return;const C=t.retry??(Tu?0:3),N=t.retryDelay??FR,R=typeof N=="function"?N(n,E):N,P=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,E);if(e||!P){S(E);return}n++,t.onFail?.(n,E),TR(R).then(()=>p()?void 0:b()).then(()=>{e?S(E):k()})})};return{promise:i,status:()=>i.status,cancel:u,continue:()=>(r?.(),i),cancelRetry:d,continueRetry:f,canStart:g,start:()=>(g()?k():b().then(k),i)}}var N0=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jR(this.gcTime)&&(this.#e=_h.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Tu?1/0:300*1e3))}clearGcTimeout(){this.#e&&(_h.clearTimeout(this.#e),this.#e=void 0)}},UR=class extends N0{#e;#n;#t;#s;#r;#i;#o;constructor(t){super(),this.#o=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#t=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=My(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=My(this.options);e.data!==void 0&&(this.setState(Dy(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#t.remove(this)}setData(t,e){const n=RR(this.state.data,t,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#a({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(zn).catch(zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>CR(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Tp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Sh(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!ER(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#t.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,r=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const d=k0(this.options,e),p=(()=>{const g={client:this.#s,queryKey:this.queryKey,meta:this.meta};return r(g),g})();return this.#o=!1,this.options.persister?this.options.persister(d,p,this):d(p)},u=(()=>{const d={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:i};return r(d),d})();this.options.behavior?.onFetch(u,this),this.#n=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#a({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=C0({initialPromise:e?.initialPromise,fn:u.fetchFn,onCancel:d=>{d instanceof jh&&d.revert&&this.setState({...this.#n,fetchStatus:"idle"}),n.abort()},onFail:(d,f)=>{this.#a({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#t.config.onSuccess?.(d,this),this.#t.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof jh){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#a({type:"error",error:d}),this.#t.config.onError?.(d,this),this.#t.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#a(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...zR(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...Dy(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#n=t.manual?r:void 0,r;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Wt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#t.notify({query:this,type:"updated",action:t})})}};function zR(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:E0(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Dy(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function My(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function Ly(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},f=0;const p=async()=>{let g=!1;const y=k=>{AR(k,()=>e.signal,()=>g=!0)},S=k0(e.options,e.fetchOptions),b=async(k,w,_)=>{if(g)return Promise.reject();if(w==null&&k.pages.length)return Promise.resolve(k);const C=(()=>{const M={client:e.client,queryKey:e.queryKey,pageParam:w,direction:_?"backward":"forward",meta:e.options.meta};return y(M),M})(),N=await S(C),{maxPages:R}=e.options,P=_?OR:PR;return{pages:P(k.pages,N,R),pageParams:P(k.pageParams,w,R)}};if(i&&o.length){const k=i==="backward",w=k?BR:$y,_={pages:o,pageParams:u},E=w(r,_);d=await b(_,E,k)}else{const k=t??o.length;do{const w=f===0?u[0]??r.initialPageParam:$y(r,d);if(f>0&&w==null)break;d=await b(d,w),f++}while(f<k)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=p}}}function $y(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function BR(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var WR=class extends N0{#e;#n;#t;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#n=[],this.state=t.state||VR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#n.includes(t)||(this.#n.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#n=this.#n.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#n.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=C0({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,u)=>{this.#r({type:"failed",failureCount:o,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const r=this.state.status==="pending",i=!this.#s.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:i}),this.#t.config.onMutate&&await this.#t.config.onMutate(t,this,n);const u=await this.options.onMutate?.(t,n);u!==this.state.context&&this.#r({type:"pending",context:u,variables:t,isPaused:i})}const o=await this.#s.start();return await this.#t.config.onSuccess?.(o,t,this.state.context,this,n),await this.options.onSuccess?.(o,t,this.state.context,n),await this.#t.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,t,this.state.context,n),this.#r({type:"success",data:o}),o}catch(o){try{await this.#t.config.onError?.(o,t,this.state.context,this,n)}catch(u){Promise.reject(u)}try{await this.options.onError?.(o,t,this.state.context,n)}catch(u){Promise.reject(u)}try{await this.#t.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n)}catch(u){Promise.reject(u)}try{await this.options.onSettled?.(void 0,o,t,this.state.context,n)}catch(u){Promise.reject(u)}throw this.#r({type:"error",error:o}),o}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Wt.batch(()=>{this.#n.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function VR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var HR=class extends Nu{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#n=new Map,this.#t=0}#e;#n;#t;build(t,e,n){const r=new WR({client:t,mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=Nc(t);if(typeof e=="string"){const n=this.#n.get(e);n?n.push(t):this.#n.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Nc(t);if(typeof e=="string"){const n=this.#n.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#n.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Nc(t);if(typeof e=="string"){const r=this.#n.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Nc(t);return typeof e=="string"?this.#n.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Wt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#n.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Oy(e,n))}findAll(t={}){return this.getAll().filter(e=>Oy(t,e))}notify(t){Wt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Wt.batch(()=>Promise.all(t.map(e=>e.continue().catch(zn))))}};function Nc(t){return t.options.scope?.id}var qR=class extends Nu{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??Np(r,e);let o=this.get(i);return o||(o=new UR({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Wt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Py(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>Py(t,n)):e}notify(t){Wt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Wt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Wt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},KR=class{#e;#n;#t;#s;#r;#i;#o;#a;constructor(t={}){this.#e=t.queryCache||new qR,this.#n=t.mutationCache||new HR,this.#t=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=j0.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Jc.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#n.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Sh(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,u=kR(e,o);if(u!==void 0)return this.#e.build(this,r).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return Wt.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Wt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Wt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Wt.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(zn).catch(zn)}invalidateQueries(t,e={}){return Wt.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Wt.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(zn)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(zn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Sh(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(zn).catch(zn)}fetchInfiniteQuery(t){return t.behavior=Ly(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(zn).catch(zn)}ensureInfiniteQueryData(t){return t.behavior=Ly(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Jc.isOnline()?this.#n.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#n}getDefaultOptions(){return this.#t}setDefaultOptions(t){this.#t=t}setQueryDefaults(t,e){this.#s.set(Io(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{Do(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Io(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Do(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#t.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Np(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Tp&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#t.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#n.clear()}},GR=m.createContext(void 0),YR=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(GR.Provider,{value:t,children:e}));function Mo(){return Mo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mo.apply(this,arguments)}var hs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hs||(hs={}));const Fy="popstate";function QR(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:u,hash:d}=r.location;return Eh("",{pathname:o,search:u,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xc(i)}return JR(e,n,null,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZR(){return Math.random().toString(36).substr(2,8)}function Uy(t,e){return{usr:t.state,key:t.key,idx:e}}function Eh(t,e,n,r){return n===void 0&&(n=null),Mo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ti(e):e,{state:n,key:e&&e.key||r||ZR()})}function Xc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ti(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function JR(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,d=hs.Pop,f=null,p=g();p==null&&(p=0,u.replaceState(Mo({},u.state,{idx:p}),""));function g(){return(u.state||{idx:null}).idx}function y(){d=hs.Pop;let _=g(),E=_==null?null:_-p;p=_,f&&f({action:d,location:w.location,delta:E})}function S(_,E){d=hs.Push;let C=Eh(w.location,_,E);p=g()+1;let N=Uy(C,p),R=w.createHref(C);try{u.pushState(N,"",R)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(R)}o&&f&&f({action:d,location:w.location,delta:1})}function b(_,E){d=hs.Replace;let C=Eh(w.location,_,E);p=g();let N=Uy(C,p),R=w.createHref(C);u.replaceState(N,"",R),o&&f&&f({action:d,location:w.location,delta:0})}function k(_){let E=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof _=="string"?_:Xc(_);return C=C.replace(/ $/,"%20"),mt(E,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,E)}let w={get action(){return d},get location(){return t(i,u)},listen(_){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Fy,y),f=_,()=>{i.removeEventListener(Fy,y),f=null}},createHref(_){return e(i,_)},createURL:k,encodeLocation(_){let E=k(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:S,replace:b,go(_){return u.go(_)}};return w}var zy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(zy||(zy={}));function XR(t,e,n){return n===void 0&&(n="/"),eP(t,e,n)}function eP(t,e,n,r){let i=typeof e=="string"?Ti(e):e,o=Pp(i.pathname||"/",n);if(o==null)return null;let u=T0(t);tP(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=hP(o);d=uP(u[f],p)}return d}function T0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,u,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(mt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=ms([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(mt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),T0(o.children,e,g,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:lP(p,o.index),routesMeta:g})};return t.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))i(o,u);else for(let f of R0(o.path))i(o,u,f)}),e}function R0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=R0(r.join("/")),d=[];return d.push(...u.map(f=>f===""?o:[o,f].join("/"))),i&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function tP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nP=/^:[\w-]+$/,rP=3,sP=2,aP=1,iP=10,oP=-2,By=t=>t==="*";function lP(t,e){let n=t.split("/"),r=n.length;return n.some(By)&&(r+=oP),e&&(r+=sP),n.filter(i=>!By(i)).reduce((i,o)=>i+(nP.test(o)?rP:o===""?aP:iP),r)}function cP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function uP(t,e,n){let{routesMeta:r}=t,i={},o="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",y=dP({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),S=f.route;if(!y)return null;Object.assign(i,y.params),u.push({params:i,pathname:ms([o,y.pathname]),pathnameBase:yP(ms([o,y.pathnameBase])),route:S}),y.pathnameBase!=="/"&&(o=ms([o,y.pathnameBase]))}return u}function dP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((p,g,y)=>{let{paramName:S,isOptional:b}=g;if(S==="*"){let w=d[y]||"";u=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const k=d[y];return b&&!k?p[S]=void 0:p[S]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:t}}function fP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Rp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Pp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const pP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mP=t=>pP.test(t);function gP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ti(t):t,o;if(n)if(mP(n))o=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Rp(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+n))}n.startsWith("/")?o=Wy(n.substring(1),"/"):o=Wy(n,e)}else o=e;return{pathname:o,search:wP(r),hash:xP(i)}}function Wy(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Op(t,e){let n=vP(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ap(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ti(t):(i=Mo({},t),mt(!i.pathname||!i.pathname.includes("?"),Hf("?","pathname","search",i)),mt(!i.pathname||!i.pathname.includes("#"),Hf("#","pathname","hash",i)),mt(!i.search||!i.search.includes("#"),Hf("#","search","hash",i)));let o=t===""||i.pathname==="",u=o?"/":i.pathname,d;if(u==null)d=n;else{let y=e.length-1;if(!r&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),y-=1;i.pathname=S.join("/")}d=y>=0?e[y]:"/"}let f=gP(i,d),p=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}const ms=t=>t.join("/").replace(/\/\/+/g,"/"),yP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const P0=["post","put","patch","delete"];new Set(P0);const _P=["get",...P0];new Set(_P);function Lo(){return Lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lo.apply(this,arguments)}const Ip=m.createContext(null),SP=m.createContext(null),Ss=m.createContext(null),Ru=m.createContext(null),ks=m.createContext({outlet:null,matches:[],isDataRoute:!1}),O0=m.createContext(null);function kP(t,e){let{relative:n}=e===void 0?{}:e;Ri()||mt(!1);let{basename:r,navigator:i}=m.useContext(Ss),{hash:o,pathname:u,search:d}=I0(t,{relative:n}),f=u;return r!=="/"&&(f=u==="/"?r:ms([r,u])),i.createHref({pathname:f,search:d,hash:o})}function Ri(){return m.useContext(Ru)!=null}function Dr(){return Ri()||mt(!1),m.useContext(Ru).location}function A0(t){m.useContext(Ss).static||m.useLayoutEffect(t)}function ha(){let{isDataRoute:t}=m.useContext(ks);return t?LP():jP()}function jP(){Ri()||mt(!1);let t=m.useContext(Ip),{basename:e,future:n,navigator:r}=m.useContext(Ss),{matches:i}=m.useContext(ks),{pathname:o}=Dr(),u=JSON.stringify(Op(i,n.v7_relativeSplatPath)),d=m.useRef(!1);return A0(()=>{d.current=!0}),m.useCallback(function(p,g){if(g===void 0&&(g={}),!d.current)return;if(typeof p=="number"){r.go(p);return}let y=Ap(p,JSON.parse(u),o,g.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ms([e,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[e,r,u,o,t])}function I0(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(Ss),{matches:i}=m.useContext(ks),{pathname:o}=Dr(),u=JSON.stringify(Op(i,r.v7_relativeSplatPath));return m.useMemo(()=>Ap(t,JSON.parse(u),o,n==="path"),[t,u,o,n])}function EP(t,e){return CP(t,e)}function CP(t,e,n,r){Ri()||mt(!1);let{navigator:i}=m.useContext(Ss),{matches:o}=m.useContext(ks),u=o[o.length-1],d=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let p=Dr(),g;if(e){var y;let _=typeof e=="string"?Ti(e):e;f==="/"||(y=_.pathname)!=null&&y.startsWith(f)||mt(!1),g=_}else g=p;let S=g.pathname||"/",b=S;if(f!=="/"){let _=f.replace(/^\//,"").split("/");b="/"+S.replace(/^\//,"").split("/").slice(_.length).join("/")}let k=XR(t,{pathname:b}),w=OP(k&&k.map(_=>Object.assign({},_,{params:Object.assign({},d,_.params),pathname:ms([f,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?f:ms([f,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&w?m.createElement(Ru.Provider,{value:{location:Lo({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:hs.Pop}},w):w}function NP(){let t=MP(),e=bP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:i},n):null,null)}const TP=m.createElement(NP,null);class RP extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(ks.Provider,{value:this.props.routeContext},m.createElement(O0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PP(t){let{routeContext:e,match:n,children:r}=t,i=m.useContext(Ip);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(ks.Provider,{value:e},r)}function OP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,d=(i=n)==null?void 0:i.errors;if(d!=null){let g=u.findIndex(y=>y.route.id&&d?.[y.route.id]!==void 0);g>=0||mt(!1),u=u.slice(0,Math.min(u.length,g+1))}let f=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<u.length;g++){let y=u[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:S,errors:b}=n,k=y.route.loader&&S[y.route.id]===void 0&&(!b||b[y.route.id]===void 0);if(y.route.lazy||k){f=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,y,S)=>{let b,k=!1,w=null,_=null;n&&(b=d&&y.route.id?d[y.route.id]:void 0,w=y.route.errorElement||TP,f&&(p<0&&S===0?($P("route-fallback"),k=!0,_=null):p===S&&(k=!0,_=y.route.hydrateFallbackElement||null)));let E=e.concat(u.slice(0,S+1)),C=()=>{let N;return b?N=w:k?N=_:y.route.Component?N=m.createElement(y.route.Component,null):y.route.element?N=y.route.element:N=g,m.createElement(PP,{match:y,routeContext:{outlet:g,matches:E,isDataRoute:n!=null},children:N})};return n&&(y.route.ErrorBoundary||y.route.errorElement||S===0)?m.createElement(RP,{location:n.location,revalidation:n.revalidation,component:w,error:b,children:C(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):C()},null)}var D0=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(D0||{}),M0=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(M0||{});function AP(t){let e=m.useContext(Ip);return e||mt(!1),e}function IP(t){let e=m.useContext(SP);return e||mt(!1),e}function DP(t){let e=m.useContext(ks);return e||mt(!1),e}function L0(t){let e=DP(),n=e.matches[e.matches.length-1];return n.route.id||mt(!1),n.route.id}function MP(){var t;let e=m.useContext(O0),n=IP(),r=L0();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function LP(){let{router:t}=AP(D0.UseNavigateStable),e=L0(M0.UseNavigateStable),n=m.useRef(!1);return A0(()=>{n.current=!0}),m.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Lo({fromRouteId:e},o)))},[t,e])}const Vy={};function $P(t,e,n){Vy[t]||(Vy[t]=!0)}function FP(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Ch(t){let{to:e,replace:n,state:r,relative:i}=t;Ri()||mt(!1);let{future:o,static:u}=m.useContext(Ss),{matches:d}=m.useContext(ks),{pathname:f}=Dr(),p=ha(),g=Ap(e,Op(d,o.v7_relativeSplatPath),f,i==="path"),y=JSON.stringify(g);return m.useEffect(()=>p(JSON.parse(y),{replace:n,state:r,relative:i}),[p,y,i,n,r]),null}function Et(t){mt(!1)}function UP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=hs.Pop,navigator:o,static:u=!1,future:d}=t;Ri()&&mt(!1);let f=e.replace(/^\/*/,"/"),p=m.useMemo(()=>({basename:f,navigator:o,static:u,future:Lo({v7_relativeSplatPath:!1},d)}),[f,d,o,u]);typeof r=="string"&&(r=Ti(r));let{pathname:g="/",search:y="",hash:S="",state:b=null,key:k="default"}=r,w=m.useMemo(()=>{let _=Pp(g,f);return _==null?null:{location:{pathname:_,search:y,hash:S,state:b,key:k},navigationType:i}},[f,g,y,S,b,k,i]);return w==null?null:m.createElement(Ss.Provider,{value:p},m.createElement(Ru.Provider,{children:n,value:w}))}function zP(t){let{children:e,location:n}=t;return EP(Nh(e),n)}new Promise(()=>{});function Nh(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,i)=>{if(!m.isValidElement(r))return;let o=[...e,i];if(r.type===m.Fragment){n.push.apply(n,Nh(r.props.children,o));return}r.type!==Et&&mt(!1),!r.props.index||!r.props.children||mt(!1);let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Nh(r.props.children,o)),n.push(u)}),n}function Th(){return Th=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Th.apply(this,arguments)}function BP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function WP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VP(t,e){return t.button===0&&(!e||e==="_self")&&!WP(t)}function Rh(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function HP(t,e){let n=Rh(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(o=>{n.append(i,o)})}),n}const qP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KP="6";try{window.__reactRouterVersion=KP}catch{}const GP="startTransition",Hy=vu[GP];function YP(t){let{basename:e,children:n,future:r,window:i}=t,o=m.useRef();o.current==null&&(o.current=QR({window:i,v5Compat:!0}));let u=o.current,[d,f]=m.useState({action:u.action,location:u.location}),{v7_startTransition:p}=r||{},g=m.useCallback(y=>{p&&Hy?Hy(()=>f(y)):f(y)},[f,p]);return m.useLayoutEffect(()=>u.listen(g),[u,g]),m.useEffect(()=>FP(r),[r]),m.createElement(UP,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:u,future:r})}const QP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ur=m.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:u,state:d,target:f,to:p,preventScrollReset:g,viewTransition:y}=e,S=BP(e,qP),{basename:b}=m.useContext(Ss),k,w=!1;if(typeof p=="string"&&ZP.test(p)&&(k=p,QP))try{let N=new URL(window.location.href),R=p.startsWith("//")?new URL(N.protocol+p):new URL(p),P=Pp(R.pathname,b);R.origin===N.origin&&P!=null?p=P+R.search+R.hash:w=!0}catch{}let _=kP(p,{relative:i}),E=JP(p,{replace:u,state:d,target:f,preventScrollReset:g,relative:i,viewTransition:y});function C(N){r&&r(N),N.defaultPrevented||E(N)}return m.createElement("a",Th({},S,{href:k||_,onClick:w||o?r:C,ref:n,target:f}))});var qy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(qy||(qy={}));var Ky;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ky||(Ky={}));function JP(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:u,viewTransition:d}=e===void 0?{}:e,f=ha(),p=Dr(),g=I0(t,{relative:u});return m.useCallback(y=>{if(VP(y,n)){y.preventDefault();let S=r!==void 0?r:Xc(p)===Xc(g);f(t,{replace:S,state:i,preventScrollReset:o,relative:u,viewTransition:d})}},[p,f,g,r,i,n,t,o,u,d])}function $0(t){let e=m.useRef(Rh(t)),n=m.useRef(!1),r=Dr(),i=m.useMemo(()=>HP(r.search,n.current?null:e.current),[r.search]),o=ha(),u=m.useCallback((d,f)=>{const p=Rh(typeof d=="function"?d(i):d);n.current=!0,o("?"+p,f)},[o,i]);return[i,u]}var ir=function(){return ir=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ir.apply(this,arguments)};function Pi(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function XP(t,e,n,r){function i(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function d(g){try{p(r.next(g))}catch(y){u(y)}}function f(g){try{p(r.throw(g))}catch(y){u(y)}}function p(g){g.done?o(g.value):i(g.value).then(d,f)}p((r=r.apply(t,e||[])).next())})}function e2(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}const t2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Dp extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class n2 extends Dp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Gy extends Dp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Yy extends Dp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ph;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ph||(Ph={}));class r2{constructor(e,{headers:n={},customFetch:r,region:i=Ph.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=t2(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return XP(this,arguments,void 0,function*(n,r={}){var i;let o,u;try{const{headers:d,method:f,body:p,signal:g,timeout:y}=r;let S={},{region:b}=r;b||(b=this.region);const k=new URL(`${this.url}/${n}`);b&&b!=="any"&&(S["x-region"]=b,k.searchParams.set("forceFunctionRegion",b));let w;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",w=p):typeof p=="string"?(S["Content-Type"]="text/plain",w=p):typeof FormData<"u"&&p instanceof FormData?w=p:(S["Content-Type"]="application/json",w=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?w=JSON.stringify(p):w=p;let _=g;y&&(u=new AbortController,o=setTimeout(()=>u.abort(),y),g?(_=u.signal,g.addEventListener("abort",()=>u.abort())):_=u.signal);const E=yield this.fetch(k.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),d),body:w,signal:_}).catch(P=>{throw new n2(P)}),C=E.headers.get("x-relay-error");if(C&&C==="true")throw new Gy(E);if(!E.ok)throw new Yy(E);let N=((i=E.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),R;return N==="application/json"?R=yield E.json():N==="application/octet-stream"||N==="application/pdf"?R=yield E.blob():N==="text/event-stream"?R=E:N==="multipart/form-data"?R=yield E.formData():R=yield E.text(),{data:R,error:null,response:E}}catch(d){return{data:null,error:d,response:d instanceof Yy||d instanceof Gy?d.context:void 0}}finally{o&&clearTimeout(o)}})}}var s2=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},a2=class{constructor(t){var e,n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=t.urlLengthLimit)!==null&&r!==void 0?r:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let u=null,d=null,f=null,p=o.status,g=o.statusText;if(o.ok){var y,S;if(n.method!=="HEAD"){var b;const E=await o.text();E===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((b=n.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?d=E:d=JSON.parse(E))}const w=(y=n.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),_=(S=o.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");w&&_&&_.length>1&&(f=parseInt(_[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,p=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var k;const w=await o.text();try{u=JSON.parse(w),Array.isArray(u)&&o.status===404&&(d=[],u=null,p=200,g="OK")}catch{o.status===404&&w===""?(p=204,g="No Content"):u={message:w}}if(u&&n.isMaybeSingle&&(!(u==null||(k=u.details)===null||k===void 0)&&k.includes("0 rows"))&&(u=null,p=200,g="OK"),u&&n.shouldThrowOnError)throw new s2(u)}return{error:u,data:d,count:f,status:p,statusText:g}});return this.shouldThrowOnError||(i=i.catch(o=>{var u;let d="",f="",p="";const g=o?.cause;if(g){var y,S,b,k;const E=(y=g?.message)!==null&&y!==void 0?y:"",C=(S=g?.code)!==null&&S!==void 0?S:"";d=`${(b=o?.name)!==null&&b!==void 0?b:"FetchError"}: ${o?.message}`,d+=`

Caused by: ${(k=g?.name)!==null&&k!==void 0?k:"Error"}: ${E}`,C&&(d+=` (${C})`),g?.stack&&(d+=`
${g.stack}`)}else{var w;d=(w=o?.stack)!==null&&w!==void 0?w:""}const _=this.url.toString().length;return o?.name==="AbortError"||o?.code==="ABORT_ERR"?(p="",f="Request was aborted (timeout or manual cancellation)",_>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${_} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(g?.name==="HeadersOverflowError"||g?.code==="UND_ERR_HEADERS_OVERFLOW")&&(p="",f="HTTP headers exceeded server limits (typically 16KB)",_>this.urlLengthLimit&&(f+=`. Your request URL is ${_} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(u=o?.name)!==null&&u!==void 0?u:"FetchError"}: ${o?.message}`,details:d,hint:f,code:p},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},i2=class extends a2{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",u=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var u;const d=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${f}"; options=${d};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Qy=new RegExp("[,()]");var ei=class extends i2{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Qy.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Qy.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},o2=class{constructor(t,{headers:e={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let o=!1;const u=(t??"*").split("").map(p=>/\s/.test(p)&&!o?"":(p==='"'&&(o=!o),p)).join(""),{url:d,headers:f}=this.cloneRequestState();return d.searchParams.set("select",u),r&&f.append("Prefer",`count=${r}`),new ei({method:i,url:d,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST",{url:o,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),n||u.append("Prefer","missing=default"),Array.isArray(t)){const d=t.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(d.length>0){const f=[...new Set(d)].map(p=>`"${p}"`);o.searchParams.set("columns",f.join(","))}}return new ei({method:i,url:o,headers:u,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const u="POST",{url:d,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&d.searchParams.set("on_conflict",e),r&&f.append("Prefer",`count=${r}`),i||f.append("Prefer","missing=default"),Array.isArray(t)){const p=t.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(p.length>0){const g=[...new Set(p)].map(y=>`"${y}"`);d.searchParams.set("columns",g.join(","))}}return new ei({method:u,url:d,headers:f,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var n;const r="PATCH",{url:i,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new ei({method:r,url:i,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new ei({method:n,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function $o(t){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(t)}function l2(t,e){if($o(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($o(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c2(t){var e=l2(t,"string");return $o(e)=="symbol"?e:e+""}function u2(t,e,n){return(e=c2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zy(Object(n),!0).forEach(function(r){u2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var d2=class F0{constructor(e,{headers:n={},schema:r,fetch:i,timeout:o,urlLengthLimit:u=8e3}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=u;const d=i??globalThis.fetch;o!==void 0&&o>0?this.fetch=(f,p)=>{const g=new AbortController,y=setTimeout(()=>g.abort(),o),S=p?.signal;if(S){if(S.aborted)return clearTimeout(y),d(f,p);const b=()=>{clearTimeout(y),g.abort()};return S.addEventListener("abort",b,{once:!0}),d(f,Tc(Tc({},p),{},{signal:g.signal})).finally(()=>{clearTimeout(y),S.removeEventListener("abort",b)})}return d(f,Tc(Tc({},p),{},{signal:g.signal})).finally(()=>clearTimeout(y))}:this.fetch=d}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new o2(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new F0(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){var u;let d;const f=new URL(`${this.url}/rpc/${e}`);let p;const g=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(g)),y=r&&Object.values(n).some(g);y?(d="POST",p=n):r||i?(d=r?"HEAD":"GET",Object.entries(n).filter(([b,k])=>k!==void 0).map(([b,k])=>[b,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([b,k])=>{f.searchParams.append(b,k)})):(d="POST",p=n);const S=new Headers(this.headers);return y?S.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&S.set("Prefer",`count=${o}`),new ei({method:d,url:f,headers:S,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}};class f2{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const h2="2.94.1",p2=`realtime-js/${h2}`,m2="1.0.0",U0="2.0.0",Jy=U0,Oh=1e4,g2=1e3,v2=100;var us;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(us||(us={}));var _t;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_t||(_t={}));var Wn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Wn||(Wn={}));var Ah;(function(t){t.websocket="websocket"})(Ah||(Ah={}));var qs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(qs||(qs={}));class y2{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},u=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,r){var i,o;const u=e.topic,d=(i=e.ref)!==null&&i!==void 0?i:"",f=(o=e.join_ref)!==null&&o!==void 0?o:"",p=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(g).length===0?"":JSON.stringify(g);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+u.length+p.length+y.length,b=new ArrayBuffer(this.HEADER_LENGTH+S);let k=new DataView(b),w=0;k.setUint8(w++,this.KINDS.userBroadcastPush),k.setUint8(w++,f.length),k.setUint8(w++,d.length),k.setUint8(w++,u.length),k.setUint8(w++,p.length),k.setUint8(w++,y.length),k.setUint8(w++,n),Array.from(f,E=>k.setUint8(w++,E.charCodeAt(0))),Array.from(d,E=>k.setUint8(w++,E.charCodeAt(0))),Array.from(u,E=>k.setUint8(w++,E.charCodeAt(0))),Array.from(p,E=>k.setUint8(w++,E.charCodeAt(0))),Array.from(y,E=>k.setUint8(w++,E.charCodeAt(0)));var _=new Uint8Array(b.byteLength+r.byteLength);return _.set(new Uint8Array(b),0),_.set(new Uint8Array(r),b.byteLength),_.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,u,d,f]=r;return n({join_ref:i,ref:o,topic:u,event:d,payload:f})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,i)}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),u=n.getUint8(3),d=n.getUint8(4);let f=this.HEADER_LENGTH+4;const p=r.decode(e.slice(f,f+i));f=f+i;const g=r.decode(e.slice(f,f+o));f=f+o;const y=r.decode(e.slice(f,f+u));f=f+u;const S=e.slice(f,e.byteLength),b=d===this.JSON_ENCODING?JSON.parse(r.decode(S)):S,k={type:this.BROADCAST_EVENT,event:g,payload:b};return u>0&&(k.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class z0{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(nt||(nt={}));const Xy=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,u)=>(o[u]=w2(u,t,e,i),o),{}):{}},w2=(t,e,n,r)=>{const i=e.find(d=>d.name===t),o=i?.type,u=n[t];return o&&!r.includes(o)?B0(o,u):Ih(u)},B0=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return S2(e,n)}switch(t){case nt.bool:return x2(e);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return b2(e);case nt.json:case nt.jsonb:return _2(e);case nt.timestamp:return k2(e);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return Ih(e);default:return Ih(e)}},Ih=t=>t,x2=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},b2=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},_2=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},S2=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const u=t.slice(1,n);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(d=>B0(e,d))}return t},k2=t=>typeof t=="string"?t.replace(" ","T"):t,W0=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class qf{constructor(e,n,r={},i=Oh){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ew;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ew||(ew={}));class Ro{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ro.syncState(this.state,i,o,u),this.pendingDiffs.forEach(f=>{this.state=Ro.syncDiff(this.state,f,o,u)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ro.syncDiff(this.state,i,o,u),d())}),this.onJoin((i,o,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:u})}),this.onLeave((i,o,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),u=this.transformState(n),d={},f={};return this.map(o,(p,g)=>{u[p]||(f[p]=g)}),this.map(u,(p,g)=>{const y=o[p];if(y){const S=g.map(_=>_.presence_ref),b=y.map(_=>_.presence_ref),k=g.filter(_=>b.indexOf(_.presence_ref)<0),w=y.filter(_=>S.indexOf(_.presence_ref)<0);k.length>0&&(d[p]=k),w.length>0&&(f[p]=w)}else d[p]=g}),this.syncDiff(o,{joins:d,leaves:f},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(d,f)=>{var p;const g=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(f),g.length>0){const y=e[d].map(b=>b.presence_ref),S=g.filter(b=>y.indexOf(b.presence_ref)<0);e[d].unshift(...S)}r(d,g,f)}),this.map(u,(d,f)=>{let p=e[d];if(!p)return;const g=f.map(y=>y.presence_ref);p=p.filter(y=>g.indexOf(y.presence_ref)<0),e[d]=p,i(d,p,f),p.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tw;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(tw||(tw={}));var Po;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Po||(Po={}));var Nr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Nr||(Nr={}));class si{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=_t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new qf(this,Wn.join,this.params,this.timeout),this.rejoinTimer=new z0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_t.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wn.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Ro(this),this.broadcastEndpointURL=W0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==_t.closed){const{config:{broadcast:u,presence:d,private:f}}=this.params,p=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[Po.PRESENCE]&&this.bindings[Po.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,y={},S={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(Nr.CHANNEL_ERROR,b)),this._onClose(()=>e?.(Nr.CLOSED)),this.updateJoinPayload(Object.assign({config:S},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e?.(Nr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(k=w?.length)!==null&&k!==void 0?k:0,E=[];for(let C=0;C<_;C++){const N=w[C],{filter:{event:R,schema:P,table:M,filter:z}}=N,V=b&&b[C];if(V&&V.event===R&&si.isFilterValueEqual(V.schema,P)&&si.isFilterValueEqual(V.table,M)&&si.isFilterValueEqual(V.filter,z))E.push(Object.assign(Object.assign({},N),{id:V.id}));else{this.unsubscribe(),this.state=_t.errored,e?.(Nr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(Nr.SUBSCRIBED);return}}).receive("error",b=>{this.state=_t.errored,e?.(Nr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(Nr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===_t.joined&&e===Po.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const p=await d.json();f=p.error||p.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:u}=e,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=p.body)===null||i===void 0?void 0:i.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,d,f;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),p.receive("ok",()=>o("ok")),p.receive("error",()=>o("error")),p.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_t.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new qf(this,Wn.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_t.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),u}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new qf(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>v2){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const u=e.toLocaleLowerCase(),{close:d,error:f,leave:p,join:g}=Wn;if(r&&[d,f,p,g].indexOf(u)>=0&&r!==this._joinRef())return;let S=this._onMessage(u,n,r);if(n&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var k,w,_;return((k=b.filter)===null||k===void 0?void 0:k.event)==="*"||((_=(w=b.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===u}).map(b=>b.callback(S,r)):(o=this.bindings[u])===null||o===void 0||o.filter(b=>{var k,w,_,E,C,N;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const R=b.id,P=(k=b.filter)===null||k===void 0?void 0:k.event;return R&&((w=n.ids)===null||w===void 0?void 0:w.includes(R))&&(P==="*"||P?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const R=(C=(E=b?.filter)===null||E===void 0?void 0:E.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return R==="*"||R===((N=n?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof S=="object"&&"ids"in S){const k=S.data,{schema:w,table:_,commit_timestamp:E,type:C,errors:N}=k;S=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:E,eventType:C,new:{},old:{},errors:N}),this._getPayloadRecords(k))}b.callback(S,r)})}_isClosed(){return this.state===_t.closed}_isJoined(){return this.state===_t.joined}_isJoining(){return this.state===_t.joining}_isLeaving(){return this.state===_t.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&si.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Wn.close,{},e)}_onError(e){this._on(Wn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_t.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Xy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Xy(e.columns,e.old_record)),n}}const Kf=()=>{},Rc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},j2=[1e3,2e3,5e3,1e4],E2=1e4,C2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class N2{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Oh,this.transport=null,this.heartbeatIntervalMs=Rc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Kf,this.ref=0,this.reconnectTimer=null,this.vsn=Jy,this.logger=Kf,this.conn=null,this.sendBuffer=[],this.serializer=new y2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Ah.websocket}`,this.httpEndpoint=W0(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=f2.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case us.connecting:return qs.Connecting;case us.open:return qs.Open;case us.closing:return qs.Closing;default:return qs.Closed}}isConnected(){return this.connectionState()===qs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new si(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,u=()=>{this.encode(e,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(g2,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Rc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",p)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:o,ref:u}=n,d=u?`(${u})`:"",f=o.status||"";this.log("receive",`${f} ${r} ${i} ${d}`.trim(),o),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(i,o,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===us.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===us.open||this.conn.readyState===us.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Wn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([C2],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:p2};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Wn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new z0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,u,d,f,p,g,y,S,b;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Oh,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Rc.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:Kf,this.vsn=(f=e?.vsn)!==null&&f!==void 0?f:Jy,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(k=>j2[k-1]||E2),this.vsn){case m2:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((k,w)=>w(JSON.stringify(k))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:((k,w)=>w(JSON.parse(k)));break;case U0:this.encode=(S=e?.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(b=e?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Fo=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function T2(t,e,n){const r=new URL(e,t);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function R2(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function P2(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:u}){const d=T2(t.baseUrl,r,i),f=await R2(t.auth),p=await e(d,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...f,...u},body:o?JSON.stringify(o):void 0}),g=await p.text(),y=(p.headers.get("content-type")||"").includes("application/json"),S=y&&g?JSON.parse(g):g;if(!p.ok){const b=y?S:void 0,k=b?.error;throw new Fo(k?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:k?.type,icebergCode:k?.code,details:b})}return{status:p.status,headers:p.headers,data:S}}}}function Pc(t){return t.join("")}var O2=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Pc(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Pc(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pc(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Pc(t.namespace)}`}),!0}catch(e){if(e instanceof Fo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Fo&&n.status===409)return;throw n}}};function Va(t){return t.join("")}var A2=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Va(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Va(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Va(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Va(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Va(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Va(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Fo&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Fo&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},I2=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=P2({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new O2(this.client,e),this.tableOps=new A2(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Pu=class extends Error{constructor(t,e="storage",n,r){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Ou(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Oc=class extends Pu{constructor(t,e,n,r="storage"){super(t,r,e,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},V0=class extends Pu{constructor(t,e,n="storage"){super(t,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const D2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),M2=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Dh=t=>{if(Array.isArray(t))return t.map(n=>Dh(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Dh(r)}),e},L2=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Uo(t){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uo(t)}function $2(t,e){if(Uo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F2(t){var e=$2(t,"string");return Uo(e)=="symbol"?e:e+""}function U2(t,e,n){return(e=F2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nw(Object(n),!0).forEach(function(r){U2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const rw=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},z2=async(t,e,n,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const i=t,o=i.status||500;if(typeof i.json=="function")i.json().then(u=>{const d=u?.statusCode||u?.code||o+"";e(new Oc(rw(u),o,d,r))}).catch(()=>{if(r==="vectors"){const u=o+"";e(new Oc(i.statusText||`HTTP ${o} error`,o,u,r))}else{const u=o+"";e(new Oc(i.statusText||`HTTP ${o} error`,o,u,r))}});else{const u=o+"";e(new Oc(i.statusText||`HTTP ${o} error`,o,u,r))}}else e(new V0(rw(t),t,r))},B2=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!r?Te(Te({},i),n):(M2(r)?(i.headers=Te({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Te(Te({},i),n))};async function bo(t,e,n,r,i,o,u){return new Promise((d,f)=>{t(n,B2(e,r,i,o)).then(p=>{if(!p.ok)throw p;if(r?.noResolveJson)return p;if(u==="vectors"){const g=p.headers.get("content-type");if(p.headers.get("content-length")==="0"||p.status===204)return{};if(!g||!g.includes("application/json"))return{}}return p.json()}).then(p=>d(p)).catch(p=>z2(p,f,r,u))})}function H0(t="storage"){return{get:async(e,n,r,i)=>bo(e,"GET",n,r,i,void 0,t),post:async(e,n,r,i,o)=>bo(e,"POST",n,i,o,r,t),put:async(e,n,r,i,o)=>bo(e,"PUT",n,i,o,r,t),head:async(e,n,r,i)=>bo(e,"HEAD",n,Te(Te({},r),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,n,r,i,o)=>bo(e,"DELETE",n,i,o,r,t)}}const W2=H0("storage"),{get:zo,post:Bn,put:Mh,head:V2,remove:Mp}=W2,hn=H0("vectors");var Oi=class{constructor(t,e={},n,r="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=D2(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ou(n))return{data:null,error:n};throw n}}},H2=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ou(e))return{data:null,error:e};throw e}}};let q0;q0=Symbol.toStringTag;var q2=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[q0]="BlobDownloadBuilder",this.promise=null}asStream(){return new H2(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ou(e))return{data:null,error:e};throw e}}};const K2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var G2=class extends Oi{constructor(t,e={},n,r){super(t,e,r,"storage"),this.bucketId=n}async uploadOrUpdate(t,e,n,r){var i=this;return i.handleOperation(async()=>{let o;const u=Te(Te({},sw),r);let d=Te(Te({},i.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),f&&o.append("metadata",i.encodeMetadata(f)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",u.cacheControl),f&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(f))):(o=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,f&&(d["x-metadata"]=i.toBase64(i.encodeMetadata(f))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!u.duplex&&(u.duplex="half")),r?.headers&&(d=Te(Te({},d),r.headers));const p=i._removeEmptyFolders(e),g=i._getFinalPath(p),y=await(t=="PUT"?Mh:Bn)(i.fetch,`${i.url}/object/${g}`,o,Te({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{path:p,id:y.Id,fullPath:y.Key}})}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const o=i._removeEmptyFolders(t),u=i._getFinalPath(o),d=new URL(i.url+`/object/upload/sign/${u}`);return d.searchParams.set("token",e),i.handleOperation(async()=>{let f;const p=Te({upsert:sw.upsert},r),g=Te(Te({},i.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",p.cacheControl)):(f=n,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType),{path:o,fullPath:(await Mh(i.fetch,d.toString(),f,{headers:g})).Key}})}async createSignedUploadUrl(t,e){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(t);const i=Te({},n.headers);e?.upsert&&(i["x-upsert"]="true");const o=await Bn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),u=new URL(n.url+o.url),d=u.searchParams.get("token");if(!d)throw new Pu("No token returned by API");return{signedUrl:u.toString(),path:t,token:d}})}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;return r.handleOperation(async()=>await Bn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers}))}async copy(t,e,n){var r=this;return r.handleOperation(async()=>({path:(await Bn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(t,e,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(t),o=await Bn(r.fetch,`${r.url}/object/sign/${i}`,Te({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:r.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${o.signedURL}${u}`)}})}async createSignedUrls(t,e,n){var r=this;return r.handleOperation(async()=>{const i=await Bn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(u=>Te(Te({},u),{},{signedUrl:u.signedURL?encodeURI(`${r.url}${u.signedURL}${o}`):null}))})}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(e?.transform||{}),i=r?`?${r}`:"",o=this._getFinalPath(t),u=()=>zo(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new q2(u,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);return e.handleOperation(async()=>Dh(await zo(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await V2(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ou(r)&&r instanceof V0){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const o=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&r.push(u);let d=r.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await Mp(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,n){var r=this;return r.handleOperation(async()=>{const i=Te(Te(Te({},K2),e),{},{prefix:t||""});return await Bn(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(t,e){var n=this;return n.handleOperation(async()=>{const r=Te({},t);return await Bn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Y2="2.94.1",tl={"X-Client-Info":`storage-js/${Y2}`};var Q2=class extends Oi{constructor(t,e={},n,r){const i=new URL(t);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const o=i.href.replace(/\/$/,""),u=Te(Te({},tl),e);super(o,u,n,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(t);return await zo(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await zo(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var n=this;return n.handleOperation(async()=>await Bn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(t,e){var n=this;return n.handleOperation(async()=>await Mh(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Bn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Mp(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Z2=class extends Oi{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=Te(Te({},tl),e);super(r,i,n,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Bn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await zo(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Mp(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!L2(t))throw new Pu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new I2({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const u=i[o];return typeof u!="function"?u:async(...d)=>{try{return{data:await u.apply(i,d),error:null}}catch(f){if(r)throw f;return{data:null,error:f}}}}})}},J2=class extends Oi{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=Te(Te({},tl),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await hn.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var n=this;return n.handleOperation(async()=>await hn.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await hn.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var n=this;return n.handleOperation(async()=>await hn.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{})}},X2=class extends Oi{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=Te(Te({},tl),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await hn.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await hn.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await hn.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await hn.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await hn.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},eO=class extends Oi{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=Te(Te({},tl),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await hn.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await hn.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await hn.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await hn.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},tO=class extends eO{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new nO(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},nO=class extends J2{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new rO(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},rO=class extends X2{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},sO=class extends Q2{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new G2(this.url,this.headers,t,this.fetch)}get vectors(){return new tO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Z2(this.url+"/iceberg",this.headers,this.fetch)}};const K0="2.94.1",ti=30*1e3,Lh=3,Gf=Lh*ti,aO="http://localhost:9999",iO="supabase.auth.token",oO={"X-Client-Info":`gotrue-js/${K0}`},$h="X-Supabase-Api-Version",G0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cO=600*1e3;class Bo extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function _e(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class uO extends Bo{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function dO(t){return _e(t)&&t.name==="AuthApiError"}class Ks extends Bo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Mr extends Bo{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class dn extends Mr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Yf(t){return _e(t)&&t.name==="AuthSessionMissingError"}class Ha extends Mr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ac extends Mr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ic extends Mr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fO(t){return _e(t)&&t.name==="AuthImplicitGrantRedirectError"}class aw extends Mr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hO extends Mr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Fh extends Mr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Qf(t){return _e(t)&&t.name==="AuthRetryableFetchError"}class iw extends Mr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Uh extends Mr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const eu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ow=` 	
\r=`.split(""),pO=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ow.length;e+=1)t[ow[e].charCodeAt(0)]=-2;for(let e=0;e<eu.length;e+=1)t[eu[e].charCodeAt(0)]=e;return t})();function lw(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(eu[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(eu[r]),e.queuedBits-=6}}function Y0(t,e,n){const r=pO[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function cw(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=u=>{vO(u,r,n)};for(let u=0;u<t.length;u+=1)Y0(t.charCodeAt(u),i,o);return e.join("")}function mO(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function gO(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}mO(r,e)}}function vO(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function li(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Y0(t.charCodeAt(i),n,r);return new Uint8Array(e)}function yO(t){const e=[];return gO(t,n=>e.push(n)),new Uint8Array(e)}function Ys(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>lw(i,n,r)),lw(null,n,r),e.join("")}function wO(t){return Math.round(Date.now()/1e3)+t}function xO(){return Symbol("auth-callback")}const Ot=()=>typeof window<"u"&&typeof document<"u",Bs={tested:!1,writable:!1},Q0=()=>{if(!Ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bs.tested)return Bs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Bs.tested=!0,Bs.writable=!0}catch{Bs.tested=!0,Bs.writable=!1}return Bs.writable};function bO(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Z0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_O=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ni=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ws=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Pt=async(t,e)=>{await t.removeItem(e)};class Au{constructor(){this.promise=new Au.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Au.promiseConstructor=Promise;function Dc(t){const e=t.split(".");if(e.length!==3)throw new Uh("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!lO.test(e[r]))throw new Uh("JWT not in base64url format");return{header:JSON.parse(cw(e[0])),payload:JSON.parse(cw(e[1])),signature:li(e[2]),raw:{header:e[0],payload:e[1]}}}async function SO(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function kO(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await t(o);if(!e(o,null,u)){r(u);return}}catch(u){if(!e(o,u)){i(u);return}}})()})}function jO(t){return("0"+t.toString(16)).substr(-2)}function EO(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,jO).join("")}async function CO(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function NO(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await CO(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qa(t,e,n=!1){const r=EO();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ni(t,`${e}-code-verifier`,i);const o=await NO(r);return[o,r===o?"plain":"s256"]}const TO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function RO(t){const e=t.headers.get($h);if(!e||!e.match(TO))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function PO(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function OO(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const AO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ka(t){if(!AO.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zf(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function IO(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function uw(t){return JSON.parse(JSON.stringify(t))}const Vs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),DO=[502,503,504];async function dw(t){var e;if(!_O(t))throw new Fh(Vs(t),0);if(DO.includes(t.status))throw new Fh(Vs(t),t.status);let n;try{n=await t.json()}catch(o){throw new Ks(Vs(o),o)}let r;const i=RO(t);if(i&&i.getTime()>=G0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new iw(Vs(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new dn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new iw(Vs(n),t.status,n.weak_password.reasons);throw new uO(Vs(n),t.status||500,r)}const MO=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ne(t,e,n,r){var i;const o=Object.assign({},r?.headers);o[$h]||(o[$h]=G0["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const u=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(u.redirect_to=r.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await LO(t,e,n+d,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(f):{data:Object.assign({},f),error:null}}async function LO(t,e,n,r,i,o){const u=MO(e,r,i,o);let d;try{d=await t(n,Object.assign({},u))}catch(f){throw console.error(f),new Fh(Vs(f),0)}if(d.ok||await dw(d),r?.noResolveJson)return d;try{return await d.json()}catch(f){await dw(f)}}function Fn(t){var e;let n=null;UO(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=wO(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function fw(t){const e=Fn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function fs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function $O(t){return{data:t,error:null}}function FO(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,u=Pi(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},f=Object.assign({},u);return{data:{properties:d,user:f},error:null}}function hw(t){return t}function UO(t){return t.access_token&&t.refresh_token&&t.expires_in}const Jf=["global","local","others"];class zO{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Z0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Jf[0]){if(Jf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jf.join(", ")}`);try{return await Ne(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fs})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Pi(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:FO,redirectTo:n?.redirectTo})}catch(n){if(_e(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:fs})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,u,d,f;try{const p={nextPage:null,lastPage:0,total:0},g=await Ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:hw});if(g.error)throw g.error;const y=await g.json(),S=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(k=>{const w=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(k.split(";")[1].split("=")[1]);p[`${_}Page`]=w}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(_e(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Ka(e);try{return await Ne(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:fs})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ka(e);try{return await Ne(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:fs})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Ka(e);try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:fs})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ka(e.userId);try{const{data:n,error:r}=await Ne(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ka(e.userId),Ka(e.id);try{return{data:await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,u,d,f;try{const p={nextPage:null,lastPage:0,total:0},g=await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:hw});if(g.error)throw g.error;const y=await g.json(),S=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(k=>{const w=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(k.split(";")[1].split("=")[1]);p[`${_}Page`]=w}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(_e(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}}function pw(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Ga={debug:!!(globalThis&&Q0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class J0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class BO extends J0{}async function WO(t,e,n){Ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ga.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new BO(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ga.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function VO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function X0(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function HO(t){return parseInt(t,16)}function qO(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function KO(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:u,notBefore:d,requestId:f,resources:p,scheme:g,uri:y,version:S}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=X0(t.address),k=g?`${g}://${r}`:r,w=t.statement?`${t.statement}
`:"",_=`${k} wants you to sign in with your Ethereum account:
${b}

${w}`;let E=`URI: ${y}
Version: ${S}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${o.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),d&&(E+=`
Not Before: ${d.toISOString()}`),f&&(E+=`
Request ID: ${f}`),p){let C=`
Resources:`;for(const N of p){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);C+=`
- ${N}`}E+=C}return`${_}
${E}`}class yt extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class tu extends yt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function GO({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new yt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new yt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new yt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new yt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new yt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new yt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new yt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new yt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(eb(u)){if(o.rp.id!==u)return new yt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new yt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new yt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new yt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new yt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function YO({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new yt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new yt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(eb(r)){if(n.rpId!==r)return new yt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new yt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new yt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new yt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class QO{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const ZO=new QO;function JO(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Pi(t,["challenge","user","excludeCredentials"]),o=li(e).buffer,u=Object.assign(Object.assign({},n),{id:li(n.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:o,user:u});if(r&&r.length>0){d.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const p=r[f];d.excludeCredentials[f]=Object.assign(Object.assign({},p),{id:li(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function XO(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Pi(t,["challenge","allowCredentials"]),i=li(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];o.allowCredentials[u]=Object.assign(Object.assign({},d),{id:li(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function eA(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ys(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ys(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function tA(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ys(new Uint8Array(i.authenticatorData)),clientDataJSON:Ys(new Uint8Array(i.clientDataJSON)),signature:Ys(new Uint8Array(i.signature)),userHandle:i.userHandle?Ys(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function eb(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function mw(){var t,e;return!!(Ot()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function nA(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new tu("Browser returned unexpected credential type",e)}:{data:null,error:new tu("Empty credential response",e)}}catch(e){return{data:null,error:GO({error:e,options:t})}}}async function rA(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new tu("Browser returned unexpected credential type",e)}:{data:null,error:new tu("Empty credential response",e)}}catch(e){return{data:null,error:YO({error:e,options:t})}}}const sA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},aA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function nu(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const u=i[o];if(u!==void 0)if(Array.isArray(u))r[o]=u;else if(n(u))r[o]=u;else if(e(u)){const d=r[o];e(d)?r[o]=nu(d,u):r[o]=nu(u)}else r[o]=u}return r}function iA(t,e){return nu(sA,t,e||{})}function oA(t,e){return nu(aA,t,e||{})}class lA{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){var u;try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!d)return{data:null,error:f};const p=i??ZO.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:g}=d.webauthn.credential_options.publicKey;if(!g.name){const y=r;if(y)g.name=`${g.id}:${y}`;else{const b=(await this.client.getUser()).data.user,k=((u=b?.user_metadata)===null||u===void 0?void 0:u.name)||b?.email||b?.id||"User";g.name=`${g.id}:${k}`}}g.displayName||(g.displayName=g.name)}switch(d.webauthn.type){case"create":{const g=iA(d.webauthn.credential_options.publicKey,o?.create),{data:y,error:S}=await nA({publicKey:g,signal:p});return y?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:S}}case"request":{const g=oA(d.webauthn.credential_options.publicKey,o?.request),{data:y,error:S}=await rA(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:g,signal:p}));return y?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:S}}}}catch(d){return _e(d)?{data:null,error:d}:{data:null,error:new Ks("Unexpected error in challenge",d)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Bo("rpId is required for WebAuthn authentication")};try{if(!mw())return{data:null,error:new Ks("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!u)return{data:null,error:d};const{webauthn:f}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(u){return _e(u)?{data:null,error:u}:{data:null,error:new Ks("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Bo("rpId is required for WebAuthn registration")};try{if(!mw())return{data:null,error:new Ks("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(g=>{var y;return(y=g.data)===null||y===void 0?void 0:y.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===e&&S.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:d};const{data:f,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:p}}catch(u){return _e(u)?{data:null,error:u}:{data:null,error:new Ks("Unexpected error in register",u)}}}}VO();const cA={url:aO,storageKey:iO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function gw(t,e,n){return await n()}const Ya={};class Wo{get jwks(){var e,n;return(n=(e=Ya[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ya[this.storageKey]=Object.assign(Object.assign({},Ya[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ya[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ya[this.storageKey]=Object.assign(Object.assign({},Ya[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},cA),e);if(this.storageKey=o.storageKey,this.instanceID=(n=Wo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Wo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Ot()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new zO({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Z0(o.fetch),this.lock=o.lock||gw,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&Ot()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=WO:this.lock=gw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new lA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Q0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pw(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=pw(this.memoryStorage)),Ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u);try{await this._notifyAllSubscribers(u.data.event,u.data.session,!1)}catch(d){this._debug("#broadcastChannel","error",d)}})}this.initialize().catch(u=>{this._debug("#initialize()","error",u)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${K0}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Ot()&&(n=bO(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Ot()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),fO(o)){const f=(e=o.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:u,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return _e(n)?this._returnResult({error:n}):this._returnResult({error:new Ks("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Fn}),{data:u,error:d}=o;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(o){if(_e(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:g,password:y,options:S}=e;let b=null,k=null;this.flowType==="pkce"&&([b,k]=await qa(this.storage,this.storageKey)),o=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:g,password:y,data:(n=S?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:b,code_challenge_method:k},xform:Fn})}else if("phone"in e){const{phone:g,password:y,options:S}=e;o=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(r=S?.data)!==null&&r!==void 0?r:{},channel:(i=S?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:Fn})}else throw new Ac("You must provide either an email or phone number and a password");const{data:u,error:d}=o;if(d||!u)return await Pt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(o){if(await Pt(this.storage,`${this.storageKey}-code-verifier`),_e(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:u,options:d}=e;n=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:fw})}else if("phone"in e){const{phone:o,password:u,options:d}=e;n=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:fw})}else throw new Ac("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new Ha;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(_e(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,u,d,f,p,g,y,S;let b,k;if("message"in e)b=e.message,k=e.signature;else{const{chain:w,wallet:_,statement:E,options:C}=e;let N;if(Ot())if(typeof _=="object")N=_;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")N=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=_}const R=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href),P=await N.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=X0(P[0]);let z=(r=C?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!z){const F=await N.request({method:"eth_chainId"});z=HO(F)}const V={domain:R.host,address:M,statement:E,uri:R.href,version:"1",chainId:z,nonce:(i=C?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(u=(o=C?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=C?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=C?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(p=C?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(g=C?.signInWithEthereum)===null||g===void 0?void 0:g.resources};b=KO(V),k=await N.request({method:"personal_sign",params:[qO(b),M]})}try{const{data:w,error:_}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:k},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Fn});if(_)throw _;if(!w||!w.session||!w.user){const E=new Ha;return this._returnResult({data:{user:null,session:null},error:E})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(_e(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var n,r,i,o,u,d,f,p,g,y,S,b;let k,w;if("message"in e)k=e.message,w=e.signature;else{const{chain:_,wallet:E,statement:C,options:N}=e;let R;if(Ot())if(typeof E=="object")R=E;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))R=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=E}const P=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in R&&R.signIn){const M=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),C?{statement:C}:null));let z;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")z=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)z=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)k=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),w=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${P.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(r=N?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=N?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((u=N?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((d=N?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((f=N?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((p=N?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((y=(g=N?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||y===void 0)&&y.length?["Resources",...N.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const M=await R.signMessage(new TextEncoder().encode(k),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=M}}try{const{data:_,error:E}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Ys(w)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Fn});if(E)throw E;if(!_||!_.session||!_.user){const C=new Ha;return this._returnResult({data:{user:null,session:null},error:C})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:E})}catch(_){if(_e(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const n=await Ws(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new hO;const{data:o,error:u}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Fn});if(await Pt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!o||!o.session||!o.user){const d=new Ha;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:u})}catch(o){if(await Pt(this.storage,`${this.storageKey}-code-verifier`),_e(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:u}=e,d=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Fn}),{data:f,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f||!f.session||!f.user){const g=new Ha;return this._returnResult({data:{user:null,session:null},error:g})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:p})}catch(n){if(_e(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,u;try{if("email"in e){const{email:d,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await qa(this.storage,this.storageKey));const{error:y}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(r=f?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:d,options:f}=e,{data:p,error:g}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=f?.data)!==null&&i!==void 0?i:{},create_user:(o=f?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:g})}throw new Ac("You must provide either an email or phone number.")}catch(d){if(await Pt(this.storage,`${this.storageKey}-code-verifier`),_e(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:d}=await Ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Fn});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,p=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(i){if(_e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,u;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await qa(this.storage,this.storageKey));const p=await Ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:$O});return!((o=p.data)===null||o===void 0)&&o.url&&Ot()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(await Pt(this.storage,`${this.storageKey}-code-verifier`),_e(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new dn;const{error:i}=await Ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(_e(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:u}=await Ne(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:u,error:d}=await Ne(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Ac("You must provide either an email or phone number and a type")}catch(n){if(_e(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ws(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Gf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const u=await Ws(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Zf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=IO(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:fs}):await this._useSession(async n=>{var r,i,o;const{data:u,error:d}=n;if(d)throw d;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dn}:await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:fs})})}catch(n){if(_e(n))return Yf(n)&&(await this._removeSession(),await Pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new dn;const u=i.session;let d=null,f=null;this.flowType==="pkce"&&e.email!=null&&([d,f]=await qa(this.storage,this.storageKey));const{data:p,error:g}=await Ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:f}),jwt:u.access_token,xform:fs});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(r){if(await Pt(this.storage,`${this.storageKey}-code-verifier`),_e(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new dn;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:u}=Dc(e.access_token);if(u.exp&&(r=u.exp,i=r<=n),i){const{data:d,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:f}=await this._getUser(e.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});o={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(_e(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:u,error:d}=n;if(d)throw d;e=(r=u.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new dn;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(_e(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Ot())throw new Ic("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ic(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new aw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ic("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new aw("No code detected.");const{data:C,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:u,expires_in:d,expires_at:f,token_type:p}=e;if(!o||!d||!u||!p)throw new Ic("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(d);let S=g+y;f&&(S=parseInt(f));const b=S-g;b*1e3<=ti&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const k=S-y;g-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,S,g):g-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,S,g);const{data:w,error:_}=await this._getUser(o);if(_)throw _;const E={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:y,expires_at:S,refresh_token:u,token_type:p,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:e.type},error:null})}catch(r){if(_e(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ws(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o&&!Yf(o))return this._returnResult({error:o});const u=(r=i.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(dO(d)&&(d.status===404||d.status===401||d.status===403)||Yf(d)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await Pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=xO(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:u}=n;if(u)throw u;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await qa(this.storage,this.storageKey,!0));try{return await Ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await Pt(this.storage,`${this.storageKey}-code-verifier`),_e(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var u,d,f,p,g;const{data:y,error:S}=o;if(S)throw S;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ne(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return Ot()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(_e(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:u,provider:d,token:f,access_token:p,nonce:g}=e,y=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:d,id_token:f,access_token:p,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Fn}),{data:S,error:b}=y;return b?this._returnResult({data:{user:null,session:null},error:b}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new Ha}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:b}))}catch(i){if(await Pt(this.storage,`${this.storageKey}-code-verifier`),_e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:u}=n;if(u)throw u;return await Ne(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await kO(async i=>(i>0&&await SO(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Fn})),(i,o)=>{const u=200*Math.pow(2,i);return o&&Qf(o)&&Date.now()+u-r<ti})}catch(r){if(this._debug(n,"error",r),_e(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ot()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ws(this.storage,this.storageKey);if(i&&this.userStorage){let u=await Ws(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:i.user},await ni(this.userStorage,this.storageKey+"-user",u)),i.user=(e=u?.user)!==null&&e!==void 0?e:Zf()}else if(i&&!i.user&&!i.user){const u=await Ws(this.storage,this.storageKey+"-user");u&&u?.user?(i.user=u.user,await Pt(this.storage,this.storageKey+"-user"),await ni(this.storage,this.storageKey,i)):i.user=Zf()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Gf;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Gf}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),Qf(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(i.access_token);!d&&u?.user?(i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new dn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Au;const{data:o,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!o.session)throw new dn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={data:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(i,"error",o),_e(o)){const u={data:null,error:o};return Qf(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(f){o.push(f)}});if(await Promise.all(u),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Pt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ni(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=uw(i);await ni(this.storage,this.storageKey,o)}else{const i=uw(n);await ni(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Pt(this.storage,this.storageKey),await Pt(this.storage,this.storageKey+"-code-verifier"),await Pt(this.storage,this.storageKey+"-user"),this.userStorage&&await Pt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ot()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ti);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/ti);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ti}ms, refresh threshold is ${Lh} ticks`),i<=Lh&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof J0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ot()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,u]=await qa(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(d.toString())}if(r?.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await Ne(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:p}=await Ne(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&f.type==="totp"&&(!((i=f?.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?eA(e.webauthn.credential_response):tA(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:f}=await Ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const u=await Ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:JO(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:XO(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,r,i,o;if(e)try{const{payload:b}=Dc(e);let k=null;b.aal&&(k=b.aal);let w=k;const{data:{user:_},error:E}=await this.getUser(e);if(E)return this._returnResult({data:null,error:E});((r=(n=_?.factors)===null||n===void 0?void 0:n.filter(R=>R.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(w="aal2");const N=b.amr||[];return{data:{currentLevel:k,nextLevel:w,currentAuthenticationMethods:N},error:null}}catch(b){if(_e(b))return this._returnResult({data:null,error:b});throw b}const{data:{session:u},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Dc(u.access_token);let p=null;f.aal&&(p=f.aal);let g=p;((o=(i=u.user.factors)===null||i===void 0?void 0:i.filter(b=>b.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const S=f.amr||[];return{data:{currentLevel:p,nextLevel:g,currentAuthenticationMethods:S},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new dn})})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new dn});const u=await Ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&Ot()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new dn});const u=await Ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&Ot()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await Ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new dn})})}catch(e){if(_e(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new dn})})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(d=>d.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(d=>d.kid===e),r&&this.jwks_cached_at+cO>i)return r;const{data:o,error:u}=await Ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(d=>d.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:b,error:k}=await this.getSession();if(k||!b.session)return this._returnResult({data:null,error:k});r=b.session.access_token}const{header:i,payload:o,signature:u,raw:{header:d,payload:f}}=Dc(r);n?.allowExpired||PO(o.exp);const p=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:o,header:i,signature:u},error:null}}const g=OO(i.alg),y=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,y,u,yO(`${d}.${f}`)))throw new Uh("Invalid JWT signature");return{data:{claims:o,header:i,signature:u},error:null}}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}}Wo.nextInstanceID={};const uA=Wo,dA="2.94.1";let ko="";typeof Deno<"u"?ko="deno":typeof document<"u"?ko="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ko="react-native":ko="node";const fA={"X-Client-Info":`supabase-js-${ko}/${dA}`},hA={headers:fA},pA={schema:"public"},mA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gA={};function Vo(t){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vo(t)}function vA(t,e){if(Vo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yA(t){var e=vA(t,"string");return Vo(e)=="symbol"?e:e+""}function wA(t,e,n){return(e=yA(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vw(Object(n),!0).forEach(function(r){wA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const xA=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),bA=()=>Headers,_A=(t,e,n)=>{const r=xA(n),i=bA();return async(o,u)=>{var d;const f=(d=await e())!==null&&d!==void 0?d:t;let p=new i(u?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),r(o,ut(ut({},u),{},{headers:p}))}};function SA(t){return t.endsWith("/")?t:t+"/"}function kA(t,e){var n,r;const{db:i,auth:o,realtime:u,global:d}=t,{db:f,auth:p,realtime:g,global:y}=e,S={db:ut(ut({},f),i),auth:ut(ut({},p),o),realtime:ut(ut({},g),u),storage:{},global:ut(ut(ut({},y),d),{},{headers:ut(ut({},(n=y?.headers)!==null&&n!==void 0?n:{}),(r=d?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?S.accessToken=t.accessToken:delete S.accessToken,S}function jA(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(SA(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var EA=class extends uA{constructor(t){super(t)}},CA=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const o=jA(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:pA,realtime:gA,auth:ut(ut({},mA),{},{storageKey:u}),global:hA},f=kA(n??{},d);if(this.storageKey=(r=f.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=f.auth)!==null&&p!==void 0?p:{},this.headers,f.global.fetch)}this.fetch=_A(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(ut({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new d2(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new sO(this.storageUrl.href,this.headers,this.fetch,n?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new r2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:u,lock:d,debug:f,throwOnError:p},g,y){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new EA({url:this.authUrl.href,headers:ut(ut({},S),g),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:u,lock:d,debug:f,throwOnError:p,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new N2(this.realtimeUrl.href,ut(ut({},t),{},{params:ut(ut({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const NA=(t,e,n)=>new CA(t,e,n);function TA(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}TA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const RA="https://ybkagwovgbwdpocqqzmr.supabase.co",PA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlia2Fnd292Z2J3ZHBvY3Fxem1yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAxNDYxMzUsImV4cCI6MjA4NTcyMjEzNX0.R1r8NDL6N61eejM719k5Bbs7oJjhdyVFyCch2tjtP_k",oe=NA(RA,PA,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),tb=m.createContext(void 0);function OA({children:t}){const[e,n]=m.useState(null),[r,i]=m.useState(null),[o,u]=m.useState(null),[d,f]=m.useState(!0),p=async S=>{try{const{data:b,error:k}=await oe.from("user_roles").select("role").eq("user_id",S).single();return k?(console.error("Error fetching role:",k),null):b?.role}catch(b){return console.error("Error in fetchUserRole:",b),null}};m.useEffect(()=>{const{data:{subscription:S}}=oe.auth.onAuthStateChange((b,k)=>{i(k),n(k?.user??null),k?.user?setTimeout(async()=>{const w=await p(k.user.id);u(w),f(!1)},0):(u(null),f(!1))});return oe.auth.getSession().then(({data:{session:b}})=>{i(b),n(b?.user??null),b?.user?p(b.user.id).then(k=>{u(k),f(!1)}):f(!1)}),()=>S.unsubscribe()},[]);const g=async(S,b)=>{const{error:k}=await oe.auth.signInWithPassword({email:S,password:b});return{error:k}},y=async()=>{await oe.auth.signOut(),n(null),i(null),u(null)};return l.jsx(tb.Provider,{value:{user:e,session:r,role:o,loading:d,signIn:g,signOut:y},children:t})}function At(){const t=m.useContext(tb);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const Mc={theme:"light",layout_density:"comfortable",notifications_enabled:!0,sound_enabled:!0},nb=m.createContext(void 0);function AA({children:t}){const{user:e}=At(),[n,r]=m.useState(Mc),[i,o]=m.useState(!0);m.useEffect(()=>{const d=window.document.documentElement;d.classList.remove("light","dark"),d.classList.add(n.theme)},[n.theme]),m.useEffect(()=>{(async()=>{if(!e){const f=localStorage.getItem("zainn-settings");if(f)try{const p=JSON.parse(f);r({...Mc,...p})}catch{r(Mc)}o(!1);return}try{const{data:f,error:p}=await oe.from("user_settings").select("*").eq("user_id",e.id).single();p?p.code==="PGRST116"?await oe.from("user_settings").insert({user_id:e.id,...Mc}):console.error("Error fetching settings:",p):f&&r({theme:f.theme,layout_density:f.layout_density,notifications_enabled:f.notifications_enabled,sound_enabled:f.sound_enabled})}catch(f){console.error("Error in fetchSettings:",f)}finally{o(!1)}})()},[e]);const u=m.useCallback(async d=>{const f={...n,...d};if(r(f),localStorage.setItem("zainn-settings",JSON.stringify(f)),e)try{await oe.from("user_settings").update({theme:f.theme,layout_density:f.layout_density,notifications_enabled:f.notifications_enabled,sound_enabled:f.sound_enabled}).eq("user_id",e.id)}catch(p){console.error("Error updating settings:",p)}},[n,e]);return l.jsx(nb.Provider,{value:{settings:n,updateSettings:u,loading:i},children:t})}function rb(){const t=m.useContext(nb);if(t===void 0)throw new Error("useSettings must be used within a SettingsProvider");return t}function sb({message:t="Loading..."}){return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:l.jsxs("div",{className:"flex flex-col items-center gap-4 animate-fade-in",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"h-16 w-16 rounded-full border-4 border-muted"}),l.jsx("div",{className:"absolute inset-0 h-16 w-16 animate-spin rounded-full border-4 border-primary border-t-transparent"})]}),l.jsx("p",{className:"text-muted-foreground font-medium",children:t})]})})}const Ho="/assets/zainn-logo-CfudUVTZ.png";function IA(){const{user:t,role:e,loading:n}=At(),r=ha(),[i,o]=m.useState(0);return m.useEffect(()=>{const u=setTimeout(()=>o(1),100),d=setTimeout(()=>o(2),800),f=setTimeout(()=>o(3),1800);return()=>{clearTimeout(u),clearTimeout(d),clearTimeout(f)}},[]),m.useEffect(()=>{if(n)return;const u=setTimeout(()=>{t?e==="admin"?r("/admin",{replace:!0}):r("/employee",{replace:!0}):r("/auth",{replace:!0})},2500);return()=>clearTimeout(u)},[t,e,n,r]),l.jsx("div",{className:"flex min-h-screen items-center justify-center gradient-hero overflow-hidden",children:l.jsxs("div",{className:`text-center transition-all duration-700 ease-out ${i===0?"opacity-0 scale-90":i===1?"opacity-100 scale-95":i===2?"opacity-100 scale-100":"opacity-0 scale-105"}`,children:[l.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[l.jsx("div",{className:`absolute h-40 w-40 rounded-3xl border-2 border-white/10 transition-all duration-1000 ${i>=1?"opacity-100 scale-100":"opacity-0 scale-75"}`,style:{animationDelay:"0.2s"}}),l.jsx("div",{className:`absolute h-36 w-36 rounded-3xl border border-white/20 transition-all duration-700 ${i>=1?"opacity-100 scale-100":"opacity-0 scale-75"}`}),l.jsx("div",{className:`absolute h-32 w-32 rounded-2xl bg-primary/30 blur-xl transition-opacity duration-500 ${i>=1?"animate-pulse-soft":"opacity-0"}`}),l.jsx("div",{className:`relative h-28 w-28 rounded-2xl bg-white/10 backdrop-blur-md flex items-center justify-center shadow-2xl overflow-hidden transition-all duration-500 ${i>=2?"shadow-glow":""}`,children:l.jsx("img",{src:Ho,alt:"Zainn Logo",className:"h-24 w-24 object-contain"})})]}),l.jsx("h1",{className:`mt-8 text-4xl font-bold text-white tracking-tight transition-all duration-500 delay-300 ${i>=1?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:"Zainn"}),l.jsx("p",{className:`mt-2 text-lg text-white/70 transition-all duration-500 delay-500 ${i>=1?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:"Workforce Management"}),l.jsx("div",{className:`mt-8 flex justify-center transition-opacity duration-500 delay-700 ${i>=1?"opacity-100":"opacity-0"}`,children:l.jsxs("div",{className:"flex gap-1.5",children:[l.jsx("div",{className:"h-2 w-2 rounded-full bg-white/60 animate-bounce",style:{animationDelay:"0ms"}}),l.jsx("div",{className:"h-2 w-2 rounded-full bg-white/60 animate-bounce",style:{animationDelay:"150ms"}}),l.jsx("div",{className:"h-2 w-2 rounded-full bg-white/60 animate-bounce",style:{animationDelay:"300ms"}})]})})]})})}var DA=Symbol.for("react.lazy"),ru=vu[" use ".trim().toString()];function MA(t){return typeof t=="object"&&t!==null&&"then"in t}function ab(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===DA&&"_payload"in t&&MA(t._payload)}function Lp(t){const e=$A(t),n=m.forwardRef((r,i)=>{let{children:o,...u}=r;ab(o)&&typeof ru=="function"&&(o=ru(o._payload));const d=m.Children.toArray(o),f=d.find(UA);if(f){const p=f.props.children,g=d.map(y=>y===f?m.Children.count(p)>1?m.Children.only(null):m.isValidElement(p)?p.props.children:null:y);return l.jsx(e,{...u,ref:i,children:m.isValidElement(p)?m.cloneElement(p,void 0,g):null})}return l.jsx(e,{...u,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var LA=Lp("Slot");function $A(t){const e=m.forwardRef((n,r)=>{let{children:i,...o}=n;if(ab(i)&&typeof ru=="function"&&(i=ru(i._payload)),m.isValidElement(i)){const u=BA(i),d=zA(o,i.props);return i.type!==m.Fragment&&(d.ref=r?Ir(r,u):u),m.cloneElement(i,d)}return m.Children.count(i)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var FA=Symbol("radix.slottable");function UA(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===FA}function zA(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...d)=>{const f=o(...d);return i(...d),f}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function BA(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const $p=Xo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),De=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const u=r?LA:"button";return l.jsx(u,{className:he($p({variant:e,size:n,className:t})),ref:o,...i})});De.displayName="Button";const Je=m.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:he("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Je.displayName="Input";var WA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],VA=WA.reduce((t,e)=>{const n=Lp(`Primitive.${e}`),r=m.forwardRef((i,o)=>{const{asChild:u,...d}=i,f=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(f,{...d,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),HA="Label",ib=m.forwardRef((t,e)=>l.jsx(VA.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ib.displayName=HA;var ob=ib;const qA=Xo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fe=m.forwardRef(({className:t,...e},n)=>l.jsx(ob,{ref:n,className:he(qA(),t),...e}));Fe.displayName=ob.displayName;var Ge;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const o={};for(const u of i)o[u]=u;return o},t.getValidEnumValues=i=>{const o=t.objectKeys(i).filter(d=>typeof i[i[d]]!="number"),u={};for(const d of o)u[d]=i[d];return t.objectValues(u)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const u in i)Object.prototype.hasOwnProperty.call(i,u)&&o.push(u);return o},t.find=(i,o)=>{for(const u of i)if(o(u))return u},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(u=>typeof u=="string"?`'${u}'`:u).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(Ge||(Ge={}));var yw;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(yw||(yw={}));const ve=Ge.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ds=t=>{switch(typeof t){case"undefined":return ve.undefined;case"string":return ve.string;case"number":return Number.isNaN(t)?ve.nan:ve.number;case"boolean":return ve.boolean;case"function":return ve.function;case"bigint":return ve.bigint;case"symbol":return ve.symbol;case"object":return Array.isArray(t)?ve.array:t===null?ve.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ve.promise:typeof Map<"u"&&t instanceof Map?ve.map:typeof Set<"u"&&t instanceof Set?ve.set:typeof Date<"u"&&t instanceof Date?ve.date:ve.object;default:return ve.unknown}},le=Ge.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ar extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const u of o.issues)if(u.code==="invalid_union")u.unionErrors.map(i);else if(u.code==="invalid_return_type")i(u.returnTypeError);else if(u.code==="invalid_arguments")i(u.argumentsError);else if(u.path.length===0)r._errors.push(n(u));else{let d=r,f=0;for(;f<u.path.length;){const p=u.path[f];f===u.path.length-1?(d[p]=d[p]||{_errors:[]},d[p]._errors.push(n(u))):d[p]=d[p]||{_errors:[]},d=d[p],f++}}};return i(this),r}static assert(e){if(!(e instanceof Ar))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ge.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const o=i.path[0];n[o]=n[o]||[],n[o].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ar.create=t=>new Ar(t);const zh=(t,e)=>{let n;switch(t.code){case le.invalid_type:t.received===ve.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case le.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ge.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ge.joinValues(t.keys,", ")}`;break;case le.invalid_union:n="Invalid input";break;case le.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ge.joinValues(t.options)}`;break;case le.invalid_enum_value:n=`Invalid enum value. Expected ${Ge.joinValues(t.options)}, received '${t.received}'`;break;case le.invalid_arguments:n="Invalid function arguments";break;case le.invalid_return_type:n="Invalid function return type";break;case le.invalid_date:n="Invalid date";break;case le.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ge.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case le.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case le.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case le.custom:n="Invalid input";break;case le.invalid_intersection_types:n="Intersection results could not be merged";break;case le.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case le.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ge.assertNever(t)}return{message:n}};let KA=zh;function GA(){return KA}const YA=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,o=[...n,...i.path||[]],u={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let d="";const f=r.filter(p=>!!p).slice().reverse();for(const p of f)d=p(u,{data:e,defaultError:d}).message;return{...i,path:o,message:d}};function fe(t,e){const n=GA(),r=YA({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===zh?void 0:zh].filter(i=>!!i)});t.common.issues.push(r)}class gn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Ie;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const o=await i.key,u=await i.value;r.push({key:o,value:u})}return gn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:o,value:u}=i;if(o.status==="aborted"||u.status==="aborted")return Ie;o.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof u.value<"u"||i.alwaysSet)&&(r[o.value]=u.value)}return{status:e.value,value:r}}}const Ie=Object.freeze({status:"aborted"}),jo=t=>({status:"dirty",value:t}),Cn=t=>({status:"valid",value:t}),ww=t=>t.status==="aborted",xw=t=>t.status==="dirty",pi=t=>t.status==="valid",su=t=>typeof Promise<"u"&&t instanceof Promise;var xe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(xe||(xe={}));class xs{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const bw=(t,e)=>{if(pi(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ar(t.common.issues);return this._error=n,this._error}}};function Be(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(u,d)=>{const{message:f}=t;return u.code==="invalid_enum_value"?{message:f??d.defaultError}:typeof d.data>"u"?{message:f??r??d.defaultError}:u.code!=="invalid_type"?{message:d.defaultError}:{message:f??n??d.defaultError}},description:i}}class qe{get description(){return this._def.description}_getType(e){return ds(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ds(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new gn,ctx:{common:e.parent.common,data:e.data,parsedType:ds(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(su(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ds(e)},i=this._parseSync({data:e,path:r.path,parent:r});return bw(r,i)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ds(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return pi(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>pi(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ds(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await(su(i)?i:Promise.resolve(i));return bw(r,o)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const u=e(i),d=()=>o.addIssue({code:le.custom,...r(i)});return typeof Promise<"u"&&u instanceof Promise?u.then(f=>f?!0:(d(),!1)):u?!0:(d(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new gi({schema:this,typeName:Me.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return gs.create(this,this._def)}nullable(){return vi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dr.create(this)}promise(){return lu.create(this,this._def)}or(e){return iu.create([this,e],this._def)}and(e){return ou.create(this,e,this._def)}transform(e){return new gi({...Be(this._def),schema:this,typeName:Me.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Wh({...Be(this._def),innerType:this,defaultValue:n,typeName:Me.ZodDefault})}brand(){return new yI({typeName:Me.ZodBranded,type:this,...Be(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Vh({...Be(this._def),innerType:this,catchValue:n,typeName:Me.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Fp.create(this,e)}readonly(){return Hh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const QA=/^c[^\s-]{8,}$/i,ZA=/^[0-9a-z]+$/,JA=/^[0-9A-HJKMNP-TV-Z]{26}$/i,XA=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,eI=/^[a-z0-9_-]{21}$/i,tI=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,nI=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rI=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,sI="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Xf;const aI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,iI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,oI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,lI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cI=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,uI=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,lb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dI=new RegExp(`^${lb}$`);function cb(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function fI(t){return new RegExp(`^${cb(t)}$`)}function hI(t){let e=`${lb}T${cb(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function pI(t,e){return!!((e==="v4"||!e)&&aI.test(t)||(e==="v6"||!e)&&oI.test(t))}function mI(t,e){if(!tI.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function gI(t,e){return!!((e==="v4"||!e)&&iI.test(t)||(e==="v6"||!e)&&lI.test(t))}class ps extends qe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ve.string){const o=this._getOrReturnCtx(e);return fe(o,{code:le.invalid_type,expected:ve.string,received:o.parsedType}),Ie}const r=new gn;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),fe(i,{code:le.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),fe(i,{code:le.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const u=e.data.length>o.value,d=e.data.length<o.value;(u||d)&&(i=this._getOrReturnCtx(e,i),u?fe(i,{code:le.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):d&&fe(i,{code:le.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")rI.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"email",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")Xf||(Xf=new RegExp(sI,"u")),Xf.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"emoji",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")XA.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"uuid",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")eI.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"nanoid",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")QA.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"cuid",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")ZA.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"cuid2",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")JA.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"ulid",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),fe(i,{validation:"url",code:le.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"regex",code:le.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),fe(i,{code:le.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),fe(i,{code:le.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),fe(i,{code:le.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?hI(o).test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{code:le.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?dI.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{code:le.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?fI(o).test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{code:le.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?nI.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"duration",code:le.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?pI(e.data,o.version)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"ip",code:le.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?mI(e.data,o.alg)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"jwt",code:le.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?gI(e.data,o.version)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"cidr",code:le.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?cI.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"base64",code:le.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?uI.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"base64url",code:le.invalid_string,message:o.message}),r.dirty()):Ge.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:le.invalid_string,...xe.errToObj(r)})}_addCheck(e){return new ps({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...xe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...xe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...xe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...xe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...xe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...xe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...xe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...xe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...xe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...xe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...xe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...xe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...xe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...xe.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...xe.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...xe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...xe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...xe.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...xe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...xe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...xe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...xe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...xe.errToObj(n)})}nonempty(e){return this.min(1,xe.errToObj(e))}trim(){return new ps({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ps({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ps({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ps.create=t=>new ps({checks:[],typeName:Me.ZodString,coerce:t?.coerce??!1,...Be(t)});function vI(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,o=Number.parseInt(t.toFixed(i).replace(".","")),u=Number.parseInt(e.toFixed(i).replace(".",""));return o%u/10**i}class qo extends qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ve.number){const o=this._getOrReturnCtx(e);return fe(o,{code:le.invalid_type,expected:ve.number,received:o.parsedType}),Ie}let r;const i=new gn;for(const o of this._def.checks)o.kind==="int"?Ge.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{code:le.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:le.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:le.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?vI(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),fe(r,{code:le.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{code:le.not_finite,message:o.message}),i.dirty()):Ge.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,xe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,xe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,xe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,xe.toString(n))}setLimit(e,n,r,i){return new qo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:xe.toString(i)}]})}_addCheck(e){return new qo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:xe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:xe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ge.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}qo.create=t=>new qo({checks:[],typeName:Me.ZodNumber,coerce:t?.coerce||!1,...Be(t)});class Ko extends qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ve.bigint)return this._getInvalidInput(e);let r;const i=new gn;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:le.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:le.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:le.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):Ge.assertNever(o);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return fe(n,{code:le.invalid_type,expected:ve.bigint,received:n.parsedType}),Ie}gte(e,n){return this.setLimit("min",e,!0,xe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,xe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,xe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,xe.toString(n))}setLimit(e,n,r,i){return new Ko({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:xe.toString(i)}]})}_addCheck(e){return new Ko({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ko.create=t=>new Ko({checks:[],typeName:Me.ZodBigInt,coerce:t?.coerce??!1,...Be(t)});class _w extends qe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ve.boolean){const r=this._getOrReturnCtx(e);return fe(r,{code:le.invalid_type,expected:ve.boolean,received:r.parsedType}),Ie}return Cn(e.data)}}_w.create=t=>new _w({typeName:Me.ZodBoolean,coerce:t?.coerce||!1,...Be(t)});class au extends qe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ve.date){const o=this._getOrReturnCtx(e);return fe(o,{code:le.invalid_type,expected:ve.date,received:o.parsedType}),Ie}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return fe(o,{code:le.invalid_date}),Ie}const r=new gn;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),fe(i,{code:le.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),fe(i,{code:le.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Ge.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new au({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:xe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:xe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}au.create=t=>new au({checks:[],coerce:t?.coerce||!1,typeName:Me.ZodDate,...Be(t)});class Sw extends qe{_parse(e){if(this._getType(e)!==ve.symbol){const r=this._getOrReturnCtx(e);return fe(r,{code:le.invalid_type,expected:ve.symbol,received:r.parsedType}),Ie}return Cn(e.data)}}Sw.create=t=>new Sw({typeName:Me.ZodSymbol,...Be(t)});class kw extends qe{_parse(e){if(this._getType(e)!==ve.undefined){const r=this._getOrReturnCtx(e);return fe(r,{code:le.invalid_type,expected:ve.undefined,received:r.parsedType}),Ie}return Cn(e.data)}}kw.create=t=>new kw({typeName:Me.ZodUndefined,...Be(t)});class jw extends qe{_parse(e){if(this._getType(e)!==ve.null){const r=this._getOrReturnCtx(e);return fe(r,{code:le.invalid_type,expected:ve.null,received:r.parsedType}),Ie}return Cn(e.data)}}jw.create=t=>new jw({typeName:Me.ZodNull,...Be(t)});class Ew extends qe{constructor(){super(...arguments),this._any=!0}_parse(e){return Cn(e.data)}}Ew.create=t=>new Ew({typeName:Me.ZodAny,...Be(t)});class Cw extends qe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Cn(e.data)}}Cw.create=t=>new Cw({typeName:Me.ZodUnknown,...Be(t)});class bs extends qe{_parse(e){const n=this._getOrReturnCtx(e);return fe(n,{code:le.invalid_type,expected:ve.never,received:n.parsedType}),Ie}}bs.create=t=>new bs({typeName:Me.ZodNever,...Be(t)});class Nw extends qe{_parse(e){if(this._getType(e)!==ve.undefined){const r=this._getOrReturnCtx(e);return fe(r,{code:le.invalid_type,expected:ve.void,received:r.parsedType}),Ie}return Cn(e.data)}}Nw.create=t=>new Nw({typeName:Me.ZodVoid,...Be(t)});class dr extends qe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ve.array)return fe(n,{code:le.invalid_type,expected:ve.array,received:n.parsedType}),Ie;if(i.exactLength!==null){const u=n.data.length>i.exactLength.value,d=n.data.length<i.exactLength.value;(u||d)&&(fe(n,{code:u?le.too_big:le.too_small,minimum:d?i.exactLength.value:void 0,maximum:u?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(fe(n,{code:le.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(fe(n,{code:le.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((u,d)=>i.type._parseAsync(new xs(n,u,n.path,d)))).then(u=>gn.mergeArray(r,u));const o=[...n.data].map((u,d)=>i.type._parseSync(new xs(n,u,n.path,d)));return gn.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new dr({...this._def,minLength:{value:e,message:xe.toString(n)}})}max(e,n){return new dr({...this._def,maxLength:{value:e,message:xe.toString(n)}})}length(e,n){return new dr({...this._def,exactLength:{value:e,message:xe.toString(n)}})}nonempty(e){return this.min(1,e)}}dr.create=(t,e)=>new dr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Me.ZodArray,...Be(e)});function ri(t){if(t instanceof wt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=gs.create(ri(r))}return new wt({...t._def,shape:()=>e})}else return t instanceof dr?new dr({...t._def,type:ri(t.element)}):t instanceof gs?gs.create(ri(t.unwrap())):t instanceof vi?vi.create(ri(t.unwrap())):t instanceof na?na.create(t.items.map(e=>ri(e))):t}class wt extends qe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ge.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ve.object){const p=this._getOrReturnCtx(e);return fe(p,{code:le.invalid_type,expected:ve.object,received:p.parsedType}),Ie}const{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:u}=this._getCached(),d=[];if(!(this._def.catchall instanceof bs&&this._def.unknownKeys==="strip"))for(const p in i.data)u.includes(p)||d.push(p);const f=[];for(const p of u){const g=o[p],y=i.data[p];f.push({key:{status:"valid",value:p},value:g._parse(new xs(i,y,i.path,p)),alwaysSet:p in i.data})}if(this._def.catchall instanceof bs){const p=this._def.unknownKeys;if(p==="passthrough")for(const g of d)f.push({key:{status:"valid",value:g},value:{status:"valid",value:i.data[g]}});else if(p==="strict")d.length>0&&(fe(i,{code:le.unrecognized_keys,keys:d}),r.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const g of d){const y=i.data[g];f.push({key:{status:"valid",value:g},value:p._parse(new xs(i,y,i.path,g)),alwaysSet:g in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const p=[];for(const g of f){const y=await g.key,S=await g.value;p.push({key:y,value:S,alwaysSet:g.alwaysSet})}return p}).then(p=>gn.mergeObjectSync(r,p)):gn.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(e){return xe.errToObj,new wt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const i=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:xe.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new wt({...this._def,unknownKeys:"strip"})}passthrough(){return new wt({...this._def,unknownKeys:"passthrough"})}extend(e){return new wt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new wt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Me.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new wt({...this._def,catchall:e})}pick(e){const n={};for(const r of Ge.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new wt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Ge.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new wt({...this._def,shape:()=>n})}deepPartial(){return ri(this)}partial(e){const n={};for(const r of Ge.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new wt({...this._def,shape:()=>n})}required(e){const n={};for(const r of Ge.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof gs;)o=o._def.innerType;n[r]=o}return new wt({...this._def,shape:()=>n})}keyof(){return ub(Ge.objectKeys(this.shape))}}wt.create=(t,e)=>new wt({shape:()=>t,unknownKeys:"strip",catchall:bs.create(),typeName:Me.ZodObject,...Be(e)});wt.strictCreate=(t,e)=>new wt({shape:()=>t,unknownKeys:"strict",catchall:bs.create(),typeName:Me.ZodObject,...Be(e)});wt.lazycreate=(t,e)=>new wt({shape:t,unknownKeys:"strip",catchall:bs.create(),typeName:Me.ZodObject,...Be(e)});class iu extends qe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(o){for(const d of o)if(d.result.status==="valid")return d.result;for(const d of o)if(d.result.status==="dirty")return n.common.issues.push(...d.ctx.common.issues),d.result;const u=o.map(d=>new Ar(d.ctx.common.issues));return fe(n,{code:le.invalid_union,unionErrors:u}),Ie}if(n.common.async)return Promise.all(r.map(async o=>{const u={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:u}),ctx:u}})).then(i);{let o;const u=[];for(const f of r){const p={...n,common:{...n.common,issues:[]},parent:null},g=f._parseSync({data:n.data,path:n.path,parent:p});if(g.status==="valid")return g;g.status==="dirty"&&!o&&(o={result:g,ctx:p}),p.common.issues.length&&u.push(p.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const d=u.map(f=>new Ar(f));return fe(n,{code:le.invalid_union,unionErrors:d}),Ie}}get options(){return this._def.options}}iu.create=(t,e)=>new iu({options:t,typeName:Me.ZodUnion,...Be(e)});function Bh(t,e){const n=ds(t),r=ds(e);if(t===e)return{valid:!0,data:t};if(n===ve.object&&r===ve.object){const i=Ge.objectKeys(e),o=Ge.objectKeys(t).filter(d=>i.indexOf(d)!==-1),u={...t,...e};for(const d of o){const f=Bh(t[d],e[d]);if(!f.valid)return{valid:!1};u[d]=f.data}return{valid:!0,data:u}}else if(n===ve.array&&r===ve.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<t.length;o++){const u=t[o],d=e[o],f=Bh(u,d);if(!f.valid)return{valid:!1};i.push(f.data)}return{valid:!0,data:i}}else return n===ve.date&&r===ve.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ou extends qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(o,u)=>{if(ww(o)||ww(u))return Ie;const d=Bh(o.value,u.value);return d.valid?((xw(o)||xw(u))&&n.dirty(),{status:n.value,value:d.data}):(fe(r,{code:le.invalid_intersection_types}),Ie)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,u])=>i(o,u)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ou.create=(t,e,n)=>new ou({left:t,right:e,typeName:Me.ZodIntersection,...Be(n)});class na extends qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.array)return fe(r,{code:le.invalid_type,expected:ve.array,received:r.parsedType}),Ie;if(r.data.length<this._def.items.length)return fe(r,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ie;!this._def.rest&&r.data.length>this._def.items.length&&(fe(r,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((u,d)=>{const f=this._def.items[d]||this._def.rest;return f?f._parse(new xs(r,u,r.path,d)):null}).filter(u=>!!u);return r.common.async?Promise.all(o).then(u=>gn.mergeArray(n,u)):gn.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new na({...this._def,rest:e})}}na.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new na({items:t,typeName:Me.ZodTuple,rest:null,...Be(e)})};class Tw extends qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.map)return fe(r,{code:le.invalid_type,expected:ve.map,received:r.parsedType}),Ie;const i=this._def.keyType,o=this._def.valueType,u=[...r.data.entries()].map(([d,f],p)=>({key:i._parse(new xs(r,d,r.path,[p,"key"])),value:o._parse(new xs(r,f,r.path,[p,"value"]))}));if(r.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const f of u){const p=await f.key,g=await f.value;if(p.status==="aborted"||g.status==="aborted")return Ie;(p.status==="dirty"||g.status==="dirty")&&n.dirty(),d.set(p.value,g.value)}return{status:n.value,value:d}})}else{const d=new Map;for(const f of u){const p=f.key,g=f.value;if(p.status==="aborted"||g.status==="aborted")return Ie;(p.status==="dirty"||g.status==="dirty")&&n.dirty(),d.set(p.value,g.value)}return{status:n.value,value:d}}}}Tw.create=(t,e,n)=>new Tw({valueType:e,keyType:t,typeName:Me.ZodMap,...Be(n)});class Go extends qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.set)return fe(r,{code:le.invalid_type,expected:ve.set,received:r.parsedType}),Ie;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(fe(r,{code:le.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(fe(r,{code:le.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function u(f){const p=new Set;for(const g of f){if(g.status==="aborted")return Ie;g.status==="dirty"&&n.dirty(),p.add(g.value)}return{status:n.value,value:p}}const d=[...r.data.values()].map((f,p)=>o._parse(new xs(r,f,r.path,p)));return r.common.async?Promise.all(d).then(f=>u(f)):u(d)}min(e,n){return new Go({...this._def,minSize:{value:e,message:xe.toString(n)}})}max(e,n){return new Go({...this._def,maxSize:{value:e,message:xe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Go.create=(t,e)=>new Go({valueType:t,minSize:null,maxSize:null,typeName:Me.ZodSet,...Be(e)});class Rw extends qe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Rw.create=(t,e)=>new Rw({getter:t,typeName:Me.ZodLazy,...Be(e)});class Pw extends qe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return fe(n,{received:n.data,code:le.invalid_literal,expected:this._def.value}),Ie}return{status:"valid",value:e.data}}get value(){return this._def.value}}Pw.create=(t,e)=>new Pw({value:t,typeName:Me.ZodLiteral,...Be(e)});function ub(t,e){return new mi({values:t,typeName:Me.ZodEnum,...Be(e)})}class mi extends qe{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return fe(n,{expected:Ge.joinValues(r),received:n.parsedType,code:le.invalid_type}),Ie}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return fe(n,{received:n.data,code:le.invalid_enum_value,options:r}),Ie}return Cn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return mi.create(e,{...this._def,...n})}exclude(e,n=this._def){return mi.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}mi.create=ub;class Ow extends qe{_parse(e){const n=Ge.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ve.string&&r.parsedType!==ve.number){const i=Ge.objectValues(n);return fe(r,{expected:Ge.joinValues(i),received:r.parsedType,code:le.invalid_type}),Ie}if(this._cache||(this._cache=new Set(Ge.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Ge.objectValues(n);return fe(r,{received:r.data,code:le.invalid_enum_value,options:i}),Ie}return Cn(e.data)}get enum(){return this._def.values}}Ow.create=(t,e)=>new Ow({values:t,typeName:Me.ZodNativeEnum,...Be(e)});class lu extends qe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.promise&&n.common.async===!1)return fe(n,{code:le.invalid_type,expected:ve.promise,received:n.parsedType}),Ie;const r=n.parsedType===ve.promise?n.data:Promise.resolve(n.data);return Cn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}lu.create=(t,e)=>new lu({type:t,typeName:Me.ZodPromise,...Be(e)});class gi extends qe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Me.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:u=>{fe(r,u),u.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const u=i.transform(r.data,o);if(r.common.async)return Promise.resolve(u).then(async d=>{if(n.value==="aborted")return Ie;const f=await this._def.schema._parseAsync({data:d,path:r.path,parent:r});return f.status==="aborted"?Ie:f.status==="dirty"||n.value==="dirty"?jo(f.value):f});{if(n.value==="aborted")return Ie;const d=this._def.schema._parseSync({data:u,path:r.path,parent:r});return d.status==="aborted"?Ie:d.status==="dirty"||n.value==="dirty"?jo(d.value):d}}if(i.type==="refinement"){const u=d=>{const f=i.refinement(d,o);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(r.common.async===!1){const d=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return d.status==="aborted"?Ie:(d.status==="dirty"&&n.dirty(),u(d.value),{status:n.value,value:d.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(d=>d.status==="aborted"?Ie:(d.status==="dirty"&&n.dirty(),u(d.value).then(()=>({status:n.value,value:d.value}))))}if(i.type==="transform")if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!pi(u))return Ie;const d=i.transform(u.value,o);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:d}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>pi(u)?Promise.resolve(i.transform(u.value,o)).then(d=>({status:n.value,value:d})):Ie);Ge.assertNever(i)}}gi.create=(t,e,n)=>new gi({schema:t,typeName:Me.ZodEffects,effect:e,...Be(n)});gi.createWithPreprocess=(t,e,n)=>new gi({schema:e,effect:{type:"preprocess",transform:t},typeName:Me.ZodEffects,...Be(n)});class gs extends qe{_parse(e){return this._getType(e)===ve.undefined?Cn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gs.create=(t,e)=>new gs({innerType:t,typeName:Me.ZodOptional,...Be(e)});class vi extends qe{_parse(e){return this._getType(e)===ve.null?Cn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vi.create=(t,e)=>new vi({innerType:t,typeName:Me.ZodNullable,...Be(e)});class Wh extends qe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ve.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Wh.create=(t,e)=>new Wh({innerType:t,typeName:Me.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Be(e)});class Vh extends qe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return su(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Ar(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ar(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Vh.create=(t,e)=>new Vh({innerType:t,typeName:Me.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Be(e)});class Aw extends qe{_parse(e){if(this._getType(e)!==ve.nan){const r=this._getOrReturnCtx(e);return fe(r,{code:le.invalid_type,expected:ve.nan,received:r.parsedType}),Ie}return{status:"valid",value:e.data}}}Aw.create=t=>new Aw({typeName:Me.ZodNaN,...Be(t)});class yI extends qe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Fp extends qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Ie:o.status==="dirty"?(n.dirty(),jo(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ie:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Fp({in:e,out:n,typeName:Me.ZodPipeline})}}class Hh extends qe{_parse(e){const n=this._def.innerType._parse(e),r=i=>(pi(i)&&(i.value=Object.freeze(i.value)),i);return su(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Hh.create=(t,e)=>new Hh({innerType:t,typeName:Me.ZodReadonly,...Be(e)});var Me;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Me||(Me={}));const Gs=ps.create;bs.create;dr.create;const db=wt.create;iu.create;ou.create;na.create;mi.create;lu.create;gs.create;vi.create;const wI=db({email:Gs().email("Please enter a valid email address"),password:Gs().min(6,"Password must be at least 6 characters")});function xI(){const[t,e]=m.useState(""),[n,r]=m.useState(""),[i,o]=m.useState(!1),[u,d]=m.useState(!1),[f,p]=m.useState({}),{signIn:g}=At(),y=ha(),{toast:S}=rn(),b=async k=>{k.preventDefault(),p({});const w=wI.safeParse({email:t,password:n});if(!w.success){const _={};w.error.errors.forEach(E=>{E.path[0]==="email"&&(_.email=E.message),E.path[0]==="password"&&(_.password=E.message)}),p(_);return}d(!0);try{const{error:_}=await g(t,n);_?S({title:"Login failed",description:_.message==="Invalid login credentials"?"Invalid email or password. Please try again.":_.message,variant:"destructive"}):(S({title:"Welcome back!",description:"You have successfully logged in."}),y("/"))}catch{S({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{d(!1)}};return l.jsxs("div",{className:"flex min-h-screen",children:[l.jsx("div",{className:"hidden lg:flex lg:w-1/2 gradient-hero items-center justify-center p-12",children:l.jsxs("div",{className:"max-w-md text-center animate-fade-in",children:[l.jsx("div",{className:"inline-flex h-24 w-24 items-center justify-center rounded-2xl bg-white/10 backdrop-blur-sm mb-8 overflow-hidden shadow-2xl",children:l.jsx("img",{src:Ho,alt:"Zainn Logo",className:"h-20 w-20 object-contain"})}),l.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Welcome to Zainn"}),l.jsx("p",{className:"text-lg text-white/80",children:"Modern workforce management platform for teams who want to achieve more."})]})}),l.jsx("div",{className:"flex flex-1 items-center justify-center p-8",children:l.jsxs("div",{className:"w-full max-w-md space-y-8 animate-slide-up",children:[l.jsxs("div",{className:"lg:hidden text-center mb-8",children:[l.jsx("div",{className:"inline-flex h-20 w-20 items-center justify-center rounded-2xl gradient-hero mb-4 overflow-hidden shadow-lg",children:l.jsx("img",{src:Ho,alt:"Zainn Logo",className:"h-16 w-16 object-contain"})}),l.jsx("h1",{className:"text-2xl font-bold",children:"Zainn"})]}),l.jsxs("div",{className:"text-center lg:text-left",children:[l.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Sign in"}),l.jsx("p",{className:"mt-2 text-muted-foreground",children:"Enter your credentials to access your account"})]}),l.jsxs("form",{onSubmit:b,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"email",children:"Email"}),l.jsx(Je,{id:"email",type:"email",placeholder:"you@company.com",value:t,onChange:k=>e(k.target.value),className:f.email?"border-destructive":"",disabled:u}),f.email&&l.jsx("p",{className:"text-sm text-destructive",children:f.email})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"password",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Je,{id:"password",type:i?"text":"password",placeholder:"",value:n,onChange:k=>r(k.target.value),className:f.password?"border-destructive pr-10":"pr-10",disabled:u}),l.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:i?l.jsx(iC,{className:"h-4 w-4"}):l.jsx(lp,{className:"h-4 w-4"})})]}),f.password&&l.jsx("p",{className:"text-sm text-destructive",children:f.password})]}),l.jsx(De,{type:"submit",className:"w-full h-12 text-base font-semibold gradient-primary hover:opacity-90 transition-opacity",disabled:u,children:u?l.jsxs(l.Fragment,{children:[l.jsx(pt,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign in"})]}),l.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Contact your administrator if you need an account"})]})})]})}const bI=()=>{const t=Dr();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),l.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})};function mn({src:t,alt:e="Avatar",size:n="md",className:r,fallback:i}){const o={sm:"h-8 w-8 text-xs",md:"h-10 w-10 text-sm",lg:"h-14 w-14 text-lg",xl:"h-20 w-20 text-2xl"},u={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-7 w-7",xl:"h-10 w-10"},d=i?i.split(" ").map(f=>f[0]).join("").toUpperCase().slice(0,2):null;return l.jsx("div",{className:he("relative flex items-center justify-center rounded-full bg-muted overflow-hidden ring-2 ring-background",o[n],r),children:t?l.jsx("img",{src:t,alt:e,className:"h-full w-full object-cover",onError:f=>{f.currentTarget.style.display="none"}}):d?l.jsx("span",{className:"font-semibold text-muted-foreground",children:d}):l.jsx(hp,{className:he("text-muted-foreground",u[n])})})}const _I=[{icon:Px,label:"Dashboard",path:"/admin"},{icon:Mx,label:"Employees",path:"/admin/employees"},{icon:Rr,label:"Tasks",path:"/admin/tasks"},{icon:fr,label:"Attendance",path:"/admin/attendance"},{icon:nn,label:"Schedule",path:"/admin/attendance-schedule"},{icon:qc,label:"Leave Requests",path:"/admin/leave-requests"},{icon:Xs,label:"Notifications",path:"/admin/notifications"},{icon:Ix,label:"Settings",path:"/admin/settings"}];function SI(){const[t,e]=m.useState(!1),n=Dr(),{user:r,signOut:i}=At();return l.jsxs("aside",{className:he("flex h-screen flex-col bg-sidebar text-sidebar-foreground transition-all duration-300",t?"w-20":"w-64"),children:[l.jsxs("div",{className:"flex h-16 items-center justify-between px-4 border-b border-sidebar-border",children:[!t&&l.jsxs(ur,{to:"/admin",className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-8 w-8 rounded-lg overflow-hidden bg-white/10",children:l.jsx("img",{src:Ho,alt:"Zainn",className:"h-full w-full object-contain"})}),l.jsx("span",{className:"text-xl font-bold",children:"Zainn"})]}),t&&l.jsx("div",{className:"mx-auto h-8 w-8 rounded-lg overflow-hidden bg-white/10",children:l.jsx("img",{src:Ho,alt:"Zainn",className:"h-full w-full object-contain"})}),l.jsx(De,{variant:"ghost",size:"icon",onClick:()=>e(!t),className:"text-sidebar-foreground hover:bg-sidebar-accent",children:t?l.jsx(Nx,{className:"h-4 w-4"}):l.jsx(tC,{className:"h-4 w-4"})})]}),l.jsx("nav",{className:"flex-1 space-y-1 p-4",children:_I.map(o=>{const u=n.pathname===o.path;return l.jsxs(ur,{to:o.path,className:he("flex items-center gap-3 rounded-xl px-3 py-2.5 text-sm font-medium transition-all duration-200",u?"bg-sidebar-primary text-sidebar-primary-foreground shadow-glow":"text-sidebar-foreground/80 hover:bg-sidebar-accent hover:text-sidebar-foreground"),children:[l.jsx(o.icon,{className:he("h-5 w-5 shrink-0",t&&"mx-auto")}),!t&&l.jsx("span",{children:o.label})]},o.path)})}),l.jsxs("div",{className:"border-t border-sidebar-border p-4",children:[l.jsxs("div",{className:he("flex items-center gap-3",t&&"justify-center"),children:[l.jsx(mn,{size:"md",fallback:r?.email||"A"}),!t&&l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:"Admin"}),l.jsx("p",{className:"text-xs text-sidebar-foreground/60 truncate",children:r?.email})]})]}),l.jsxs(De,{variant:"ghost",onClick:i,className:he("mt-3 w-full justify-start text-sidebar-foreground/80 hover:bg-sidebar-accent hover:text-destructive",t&&"justify-center"),children:[l.jsx(dp,{className:"h-4 w-4"}),!t&&l.jsx("span",{className:"ml-2",children:"Logout"})]})]})]})}function js({children:t}){return l.jsxs("div",{className:"flex min-h-screen bg-background",children:[l.jsx(SI,{}),l.jsx("main",{className:"flex-1 overflow-auto",children:l.jsx("div",{className:"container py-6 px-4 md:px-8 max-w-7xl",children:t})})]})}function ai({title:t,value:e,subtitle:n,icon:r,trend:i,variant:o="default",className:u}){const d={default:"bg-card",primary:"bg-primary text-primary-foreground",accent:"bg-accent text-accent-foreground",success:"bg-success text-success-foreground",warning:"bg-warning text-warning-foreground"},f={default:"bg-primary/10 text-primary",primary:"bg-primary-foreground/20 text-primary-foreground",accent:"bg-accent-foreground/20 text-accent-foreground",success:"bg-success-foreground/20 text-success-foreground",warning:"bg-warning-foreground/20 text-warning-foreground"};return l.jsx("div",{className:he("rounded-2xl p-6 shadow-card transition-all duration-300 hover:shadow-lg animate-slide-up",d[o],u),children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:he("text-sm font-medium",o==="default"?"text-muted-foreground":"opacity-80"),children:t}),l.jsx("p",{className:"text-3xl font-bold tracking-tight",children:e}),n&&l.jsx("p",{className:he("text-sm",o==="default"?"text-muted-foreground":"opacity-70"),children:n}),i&&l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsxs("span",{className:i.isPositive?"text-success":"text-destructive",children:[i.isPositive?"":""," ",Math.abs(i.value),"%"]}),l.jsx("span",{className:"opacity-70",children:"vs last week"})]})]}),l.jsx("div",{className:he("rounded-xl p-3",f[o]),children:l.jsx(r,{className:"h-6 w-6"})})]})})}const kI=Xo("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium transition-colors",{variants:{variant:{default:"bg-primary/10 text-primary",secondary:"bg-secondary text-secondary-foreground",success:"bg-success/10 text-success",warning:"bg-warning/10 text-warning",destructive:"bg-destructive/10 text-destructive",info:"bg-info/10 text-info",outline:"border border-border text-foreground"}},defaultVariants:{variant:"default"}});function Up({className:t,variant:e,...n}){return l.jsx("div",{className:he(kI({variant:e}),t),...n})}function _s({status:t}){const n={pending:{variant:"warning",label:"Pending"},in_progress:{variant:"info",label:"In Progress"},completed:{variant:"success",label:"Completed"},cancelled:{variant:"destructive",label:"Cancelled"},present:{variant:"success",label:"Present"},late:{variant:"warning",label:"Late"},absent:{variant:"destructive",label:"Absent"},leave:{variant:"info",label:"On Leave"}}[t]||{variant:"default",label:t};return l.jsx(Up,{variant:n.variant,children:n.label})}function yi({priority:t}){const n={low:{variant:"success",label:"Low"},medium:{variant:"info",label:"Medium"},high:{variant:"warning",label:"High"},urgent:{variant:"destructive",label:"Urgent"}}[t]||{variant:"default",label:t};return l.jsx(Up,{variant:n.variant,children:n.label})}function jI({role:t}){const n={admin:{variant:"destructive",label:"Admin"},employee:{variant:"default",label:"Employee"}}[t]||{variant:"default",label:t};return l.jsx(Up,{variant:n.variant,children:n.label})}function Vt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ra(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const fb=6048e5,EI=864e5;let CI={};function Iu(){return CI}function wi(t,e){const n=Iu(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Vt(t),o=i.getDay(),u=(o<r?7:0)+o-r;return i.setDate(i.getDate()-u),i.setHours(0,0,0,0),i}function cu(t){return wi(t,{weekStartsOn:1})}function hb(t){const e=Vt(t),n=e.getFullYear(),r=ra(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=cu(r),o=ra(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const u=cu(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=u.getTime()?n:n-1}function qh(t){const e=Vt(t);return e.setHours(0,0,0,0),e}function Iw(t){const e=Vt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function NI(t,e){const n=qh(t),r=qh(e),i=+n-Iw(n),o=+r-Iw(r);return Math.round((i-o)/EI)}function TI(t){const e=hb(t),n=ra(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),cu(n)}function RI(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function PI(t){if(!RI(t)&&typeof t!="number")return!1;const e=Vt(t);return!isNaN(Number(e))}function OI(t){const e=Vt(t);return e.setHours(23,59,59,999),e}function AI(t){const e=Vt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function II(t){const e=Vt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function DI(t){const e=Vt(t),n=ra(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function MI(t,e){const n=e?.weekStartsOn,r=Vt(t),i=r.getDay(),o=(i<n?-7:0)+6-(i-n);return r.setDate(r.getDate()+o),r.setHours(23,59,59,999),r}const LI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$I=(t,e,n)=>{let r;const i=LI[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function eh(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const FI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},UI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},BI={date:eh({formats:FI,defaultWidth:"full"}),time:eh({formats:UI,defaultWidth:"full"}),dateTime:eh({formats:zI,defaultWidth:"full"})},WI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},VI=(t,e,n,r)=>WI[t];function _o(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,d=n?.width?String(n.width):u;i=t.formattingValues[d]||t.formattingValues[u]}else{const u=t.defaultWidth,d=n?.width?String(n.width):t.defaultWidth;i=t.values[d]||t.values[u]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const HI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qI={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},KI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},GI={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},YI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},QI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ZI=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},JI={ordinalNumber:ZI,era:_o({values:HI,defaultWidth:"wide"}),quarter:_o({values:qI,defaultWidth:"wide",argumentCallback:t=>t-1}),month:_o({values:KI,defaultWidth:"wide"}),day:_o({values:GI,defaultWidth:"wide"}),dayPeriod:_o({values:YI,defaultWidth:"wide",formattingValues:QI,defaultFormattingWidth:"wide"})};function So(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const u=o[0],d=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(d)?eD(d,y=>y.test(u)):XI(d,y=>y.test(u));let p;p=t.valueCallback?t.valueCallback(f):f,p=n.valueCallback?n.valueCallback(p):p;const g=e.slice(u.length);return{value:p,rest:g}}}function XI(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function eD(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function tD(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let u=t.valueCallback?t.valueCallback(o[0]):o[0];u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(i.length);return{value:u,rest:d}}}const nD=/^(\d+)(th|st|nd|rd)?/i,rD=/\d+/i,sD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},aD={any:[/^b/i,/^(a|c)/i]},iD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},oD={any:[/1/i,/2/i,/3/i,/4/i]},lD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},uD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pD={ordinalNumber:tD({matchPattern:nD,parsePattern:rD,valueCallback:t=>parseInt(t,10)}),era:So({matchPatterns:sD,defaultMatchWidth:"wide",parsePatterns:aD,defaultParseWidth:"any"}),quarter:So({matchPatterns:iD,defaultMatchWidth:"wide",parsePatterns:oD,defaultParseWidth:"any",valueCallback:t=>t+1}),month:So({matchPatterns:lD,defaultMatchWidth:"wide",parsePatterns:cD,defaultParseWidth:"any"}),day:So({matchPatterns:uD,defaultMatchWidth:"wide",parsePatterns:dD,defaultParseWidth:"any"}),dayPeriod:So({matchPatterns:fD,defaultMatchWidth:"any",parsePatterns:hD,defaultParseWidth:"any"})},mD={code:"en-US",formatDistance:$I,formatLong:BI,formatRelative:VI,localize:JI,match:pD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gD(t){const e=Vt(t);return NI(e,DI(e))+1}function vD(t){const e=Vt(t),n=+cu(e)-+TI(e);return Math.round(n/fb)+1}function pb(t,e){const n=Vt(t),r=n.getFullYear(),i=Iu(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,u=ra(t,0);u.setFullYear(r+1,0,o),u.setHours(0,0,0,0);const d=wi(u,e),f=ra(t,0);f.setFullYear(r,0,o),f.setHours(0,0,0,0);const p=wi(f,e);return n.getTime()>=d.getTime()?r+1:n.getTime()>=p.getTime()?r:r-1}function yD(t,e){const n=Iu(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=pb(t,e),o=ra(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),wi(o,e)}function wD(t,e){const n=Vt(t),r=+wi(n,e)-+yD(n,e);return Math.round(r/fb)+1}function Ze(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ls={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ze(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ze(n+1,2)},d(t,e){return Ze(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ze(t.getHours()%12||12,e.length)},H(t,e){return Ze(t.getHours(),e.length)},m(t,e){return Ze(t.getMinutes(),e.length)},s(t,e){return Ze(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ze(i,e.length)}},Qa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Dw={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ls.y(t,e)},Y:function(t,e,n,r){const i=pb(t,r),o=i>0?i:1-i;if(e==="YY"){const u=o%100;return Ze(u,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Ze(o,e.length)},R:function(t,e){const n=hb(t);return Ze(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ze(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ze(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ze(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ls.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ze(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=wD(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ze(i,e.length)},I:function(t,e,n){const r=vD(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ze(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ls.d(t,e)},D:function(t,e,n){const r=gD(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ze(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Ze(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Ze(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ze(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Qa.noon:r===0?i=Qa.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Qa.evening:r>=12?i=Qa.afternoon:r>=4?i=Qa.morning:i=Qa.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ls.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ls.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ze(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ze(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ls.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ls.s(t,e)},S:function(t,e){return ls.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Lw(r);case"XXXX":case"XX":return Hs(r);default:return Hs(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Lw(r);case"xxxx":case"xx":return Hs(r);default:return Hs(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Mw(r,":");default:return"GMT"+Hs(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Mw(r,":");default:return"GMT"+Hs(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Ze(r,e.length)},T:function(t,e,n){const r=t.getTime();return Ze(r,e.length)}};function Mw(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+Ze(o,2)}function Lw(t,e){return t%60===0?(t>0?"-":"+")+Ze(Math.abs(t)/60,2):Hs(t,e)}function Hs(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ze(Math.trunc(r/60),2),o=Ze(r%60,2);return n+i+e+o}const $w=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},mb=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},xD=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return $w(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",$w(r,e)).replace("{{time}}",mb(i,e))},bD={p:mb,P:xD},_D=/^D+$/,SD=/^Y+$/,kD=["D","DD","YY","YYYY"];function jD(t){return _D.test(t)}function ED(t){return SD.test(t)}function CD(t,e,n){const r=ND(t,e,n);if(console.warn(r),kD.includes(t))throw new RangeError(r)}function ND(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const TD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,RD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PD=/^'([^]*?)'?$/,OD=/''/g,AD=/[a-zA-Z]/;function Ue(t,e,n){const r=Iu(),i=r.locale??mD,o=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,u=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,d=Vt(t);if(!PI(d))throw new RangeError("Invalid time value");let f=e.match(RD).map(g=>{const y=g[0];if(y==="p"||y==="P"){const S=bD[y];return S(g,i.formatLong)}return g}).join("").match(TD).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:ID(g)};if(Dw[y])return{isToken:!0,value:g};if(y.match(AD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(f=i.localize.preprocessor(d,f));const p={firstWeekContainsDate:o,weekStartsOn:u,locale:i};return f.map(g=>{if(!g.isToken)return g.value;const y=g.value;(ED(y)||jD(y))&&CD(y,e,String(t));const S=Dw[y[0]];return S(d,y,i.localize,p)}).join("")}function ID(t){const e=t.match(PD);return e?e[1].replace(OD,"'"):t}function DD(){const[t,e]=m.useState({totalEmployees:0,activeTasks:0,completedTasks:0,pendingLeaveRequests:0,presentToday:0,lateToday:0,absentToday:0,onLeaveToday:0,attendanceRate:0}),[n,r]=m.useState([]),[i,o]=m.useState([]),[u,d]=m.useState([]),[f,p]=m.useState(!0);return m.useEffect(()=>{const g=async()=>{try{const S=new Date,b=qh(S).toISOString(),k=OI(S).toISOString(),w=wi(S,{weekStartsOn:1}).toISOString(),_=MI(S,{weekStartsOn:1}).toISOString(),{count:E}=await oe.from("profiles").select("*",{count:"exact",head:!0}).eq("is_active",!0),{count:C}=await oe.from("tasks").select("*",{count:"exact",head:!0}).in("status",["pending","in_progress"]),{count:N}=await oe.from("tasks").select("*",{count:"exact",head:!0}).eq("status","completed"),{count:R,data:P}=await oe.from("leave_requests").select("*, user_id").eq("status","pending");if(P){const $=await Promise.all(P.map(async D=>{const{data:G}=await oe.from("profiles").select("full_name, avatar_url").eq("id",D.user_id).single();return{...D,user:G||void 0}}));d($)}const{data:M}=await oe.from("attendance").select("status").gte("check_in",b).lte("check_in",k),z=M?.filter($=>$.status==="present").length||0,V=M?.filter($=>$.status==="late").length||0,F=M?.filter($=>$.status==="leave").length||0,Y=M?.length||0,te=Math.max(0,(E||0)-Y),{data:Q}=await oe.from("attendance").select("status").gte("check_in",w).lte("check_in",_),K=Q?.filter($=>$.status==="present"||$.status==="late").length||0,q=(E||0)*5,H=q>0?Math.round(K/q*100):0,{data:J}=await oe.from("tasks").select("id, title, status, priority, assigned_to").order("created_at",{ascending:!1}).limit(5);if(J){const $=await Promise.all(J.map(async D=>{if(D.assigned_to){const{data:G}=await oe.from("profiles").select("full_name, avatar_url").eq("id",D.assigned_to).single();return{...D,assignee:G||void 0}}return D}));r($)}const{data:X}=await oe.from("attendance").select("id, check_in, status, user_id").order("check_in",{ascending:!1}).limit(5);if(X){const $=await Promise.all(X.map(async D=>{const{data:G}=await oe.from("profiles").select("full_name, avatar_url").eq("id",D.user_id).single();return{...D,user:G||void 0}}));o($)}e({totalEmployees:E||0,activeTasks:C||0,completedTasks:N||0,pendingLeaveRequests:R||0,presentToday:z,lateToday:V,absentToday:te,onLeaveToday:F,attendanceRate:H})}catch(S){console.error("Error fetching dashboard data:",S)}finally{p(!1)}};g();const y=oe.channel("dashboard-realtime").on("postgres_changes",{event:"*",schema:"public",table:"attendance"},()=>{g()}).on("postgres_changes",{event:"*",schema:"public",table:"tasks"},()=>{g()}).on("postgres_changes",{event:"*",schema:"public",table:"leave_requests"},()=>{g()}).subscribe();return()=>{oe.removeChannel(y).catch(S=>console.log("Channel removal error:",S))}},[]),l.jsx(js,{children:l.jsxs("div",{className:"space-y-8 animate-fade-in",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Real-time overview of your team's performance"})]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[l.jsx(ai,{title:"Total Employees",value:t.totalEmployees,icon:Mx,variant:"primary"}),l.jsx(ai,{title:"Active Tasks",value:t.activeTasks,icon:Rr}),l.jsx(ai,{title:"Completed Tasks",value:t.completedTasks,icon:gC,variant:"default"}),l.jsx(ai,{title:"Attendance Rate",value:`${t.attendanceRate}%`,icon:nn,subtitle:"This week"})]}),l.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Today's Attendance"}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[l.jsxs("div",{className:"rounded-xl bg-success/10 p-4 text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-success",children:t.presentToday}),l.jsx("p",{className:"text-sm text-success font-medium mt-1",children:"Present"})]}),l.jsxs("div",{className:"rounded-xl bg-warning/10 p-4 text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-warning",children:t.lateToday}),l.jsx("p",{className:"text-sm text-warning font-medium mt-1",children:"Late"})]}),l.jsxs("div",{className:"rounded-xl bg-destructive/10 p-4 text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-destructive",children:t.absentToday}),l.jsx("p",{className:"text-sm text-destructive font-medium mt-1",children:"Absent"})]}),l.jsxs("div",{className:"rounded-xl bg-info/10 p-4 text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-info",children:t.onLeaveToday}),l.jsx("p",{className:"text-sm text-info font-medium mt-1",children:"On Leave"})]})]})]}),u.length>0&&l.jsxs("div",{className:"rounded-2xl bg-warning/10 border border-warning/20 p-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx(hh,{className:"h-5 w-5 text-warning"}),l.jsxs("h3",{className:"font-semibold text-warning",children:["Pending Leave Requests (",u.length,")"]})]}),l.jsx("div",{className:"space-y-2",children:u.slice(0,3).map(g=>l.jsxs("div",{className:"flex items-center justify-between bg-card rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{size:"sm",src:g.user?.avatar_url,fallback:g.user?.full_name||"U"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:g.user?.full_name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:g.start_date&&!isNaN(new Date(g.start_date).getTime())&&g.end_date&&!isNaN(new Date(g.end_date).getTime())?l.jsxs(l.Fragment,{children:[Ue(new Date(g.start_date),"MMM d")," - ",Ue(new Date(g.end_date),"MMM d")]}):"Invalid dates"})]})]}),l.jsx(ur,{to:"/admin/leave-requests",className:"text-sm text-primary font-medium hover:underline",children:"Review"})]},g.id))})]}),l.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[l.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Recent Tasks"}),l.jsx(ur,{to:"/admin/tasks",className:"text-sm text-primary font-medium hover:underline",children:"View All"})]}),l.jsx("div",{className:"space-y-4",children:n.length===0?l.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No tasks yet"}):n.map(g=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-muted/50 hover:bg-muted transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[g.assignee&&l.jsx(mn,{size:"sm",src:g.assignee.avatar_url,fallback:g.assignee.full_name}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:g.title}),l.jsx("p",{className:"text-xs text-muted-foreground",children:g.assignee?.full_name||"Unassigned"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yi,{priority:g.priority}),l.jsx(_s,{status:g.status})]})]},g.id))})]}),l.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Recent Attendance"}),l.jsx(ur,{to:"/admin/attendance",className:"text-sm text-primary font-medium hover:underline",children:"View All"})]}),l.jsx("div",{className:"space-y-4",children:i.length===0?l.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No attendance records"}):i.map(g=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-muted/50 hover:bg-muted transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{size:"sm",src:g.user?.avatar_url,fallback:g.user?.full_name||"U"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:g.user?.full_name||"Unknown"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:g.check_in&&!isNaN(new Date(g.check_in).getTime())?Ue(new Date(g.check_in),"MMM d, h:mm a"):"Invalid date"})]})]}),l.jsx(_s,{status:g.status})]},g.id))})]})]})]})})}var th="focusScope.autoFocusOnMount",nh="focusScope.autoFocusOnUnmount",Fw={bubbles:!1,cancelable:!0},MD="FocusScope",Du=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...u}=t,[d,f]=m.useState(null),p=ht(i),g=ht(o),y=m.useRef(null),S=Le(e,w=>f(w)),b=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let w=function(N){if(b.paused||!d)return;const R=N.target;d.contains(R)?y.current=R:cs(y.current,{select:!0})},_=function(N){if(b.paused||!d)return;const R=N.relatedTarget;R!==null&&(d.contains(R)||cs(y.current,{select:!0}))},E=function(N){if(document.activeElement===document.body)for(const P of N)P.removedNodes.length>0&&cs(d)};document.addEventListener("focusin",w),document.addEventListener("focusout",_);const C=new MutationObserver(E);return d&&C.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",_),C.disconnect()}}},[r,d,b.paused]),m.useEffect(()=>{if(d){zw.add(b);const w=document.activeElement;if(!d.contains(w)){const E=new CustomEvent(th,Fw);d.addEventListener(th,p),d.dispatchEvent(E),E.defaultPrevented||(LD(BD(gb(d)),{select:!0}),document.activeElement===w&&cs(d))}return()=>{d.removeEventListener(th,p),setTimeout(()=>{const E=new CustomEvent(nh,Fw);d.addEventListener(nh,g),d.dispatchEvent(E),E.defaultPrevented||cs(w??document.body,{select:!0}),d.removeEventListener(nh,g),zw.remove(b)},0)}}},[d,p,g,b]);const k=m.useCallback(w=>{if(!n&&!r||b.paused)return;const _=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,E=document.activeElement;if(_&&E){const C=w.currentTarget,[N,R]=$D(C);N&&R?!w.shiftKey&&E===R?(w.preventDefault(),n&&cs(N,{select:!0})):w.shiftKey&&E===N&&(w.preventDefault(),n&&cs(R,{select:!0})):E===C&&w.preventDefault()}},[n,r,b.paused]);return l.jsx(ke.div,{tabIndex:-1,...u,ref:S,onKeyDown:k})});Du.displayName=MD;function LD(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(cs(r,{select:e}),document.activeElement!==n)return}function $D(t){const e=gb(t),n=Uw(e,t),r=Uw(e.reverse(),t);return[n,r]}function gb(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Uw(t,e){for(const n of t)if(!FD(n,{upTo:e}))return n}function FD(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function UD(t){return t instanceof HTMLInputElement&&"select"in t}function cs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&UD(t)&&e&&t.select()}}var zw=zD();function zD(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=Bw(t,e),t.unshift(e)},remove(e){t=Bw(t,e),t[0]?.resume()}}}function Bw(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function BD(t){return t.filter(e=>e.tagName!=="A")}var rh=0;function zp(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ww()),document.body.insertAdjacentElement("beforeend",t[1]??Ww()),rh++,()=>{rh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),rh--}},[])}function Ww(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Vc="right-scroll-bar-position",Hc="width-before-scroll-bar",WD="with-scroll-bars-hidden",VD="--removed-body-scroll-bar-size";function sh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function HD(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var qD=typeof window<"u"?m.useLayoutEffect:m.useEffect,Vw=new WeakMap;function KD(t,e){var n=HD(null,function(r){return t.forEach(function(i){return sh(i,r)})});return qD(function(){var r=Vw.get(n);if(r){var i=new Set(r),o=new Set(t),u=n.current;i.forEach(function(d){o.has(d)||sh(d,null)}),o.forEach(function(d){i.has(d)||sh(d,u)})}Vw.set(n,t)},[t]),n}function GD(t){return t}function YD(t,e){e===void 0&&(e=GD);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var u=e(o,r);return n.push(u),function(){n=n.filter(function(d){return d!==u})}},assignSyncMedium:function(o){for(r=!0;n.length;){var u=n;n=[],u.forEach(o)}n={push:function(d){return o(d)},filter:function(){return n}}},assignMedium:function(o){r=!0;var u=[];if(n.length){var d=n;n=[],d.forEach(o),u=n}var f=function(){var g=u;u=[],g.forEach(o)},p=function(){return Promise.resolve().then(f)};p(),n={push:function(g){u.push(g),p()},filter:function(g){return u=u.filter(g),n}}}};return i}function QD(t){t===void 0&&(t={});var e=YD(null);return e.options=ir({async:!0,ssr:!1},t),e}var vb=function(t){var e=t.sideCar,n=Pi(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,ir({},n))};vb.isSideCarExport=!0;function ZD(t,e){return t.useMedium(e),vb}var yb=QD(),ah=function(){},Mu=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:ah,onWheelCapture:ah,onTouchMoveCapture:ah}),i=r[0],o=r[1],u=t.forwardProps,d=t.children,f=t.className,p=t.removeScrollBar,g=t.enabled,y=t.shards,S=t.sideCar,b=t.noRelative,k=t.noIsolation,w=t.inert,_=t.allowPinchZoom,E=t.as,C=E===void 0?"div":E,N=t.gapMode,R=Pi(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=S,M=KD([n,e]),z=ir(ir({},R),i);return m.createElement(m.Fragment,null,g&&m.createElement(P,{sideCar:yb,removeScrollBar:p,shards:y,noRelative:b,noIsolation:k,inert:w,setCallbacks:o,allowPinchZoom:!!_,lockRef:n,gapMode:N}),u?m.cloneElement(m.Children.only(d),ir(ir({},z),{ref:M})):m.createElement(C,ir({},z,{className:f,ref:M}),d))});Mu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mu.classNames={fullWidth:Hc,zeroRight:Vc};var JD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XD(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=JD();return e&&t.setAttribute("nonce",e),t}function eM(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function tM(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var nM=function(){var t=0,e=null;return{add:function(n){t==0&&(e=XD())&&(eM(e,n),tM(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},rM=function(){var t=nM();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},wb=function(){var t=rM(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},sM={left:0,top:0,right:0,gap:0},ih=function(t){return parseInt(t||"",10)||0},aM=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[ih(n),ih(r),ih(i)]},iM=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return sM;var e=aM(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},oM=wb(),ci="data-scroll-locked",lM=function(t,e,n,r){var i=t.left,o=t.top,u=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(WD,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(ci,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vc,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Hc,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Vc," .").concat(Vc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Hc," .").concat(Hc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ci,`] {
    `).concat(VD,": ").concat(d,`px;
  }
`)},Hw=function(){var t=parseInt(document.body.getAttribute(ci)||"0",10);return isFinite(t)?t:0},cM=function(){m.useEffect(function(){return document.body.setAttribute(ci,(Hw()+1).toString()),function(){var t=Hw()-1;t<=0?document.body.removeAttribute(ci):document.body.setAttribute(ci,t.toString())}},[])},uM=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;cM();var o=m.useMemo(function(){return iM(i)},[i]);return m.createElement(oM,{styles:lM(o,!e,i,n?"":"!important")})},Kh=!1;if(typeof window<"u")try{var Lc=Object.defineProperty({},"passive",{get:function(){return Kh=!0,!0}});window.addEventListener("test",Lc,Lc),window.removeEventListener("test",Lc,Lc)}catch{Kh=!1}var Za=Kh?{passive:!1}:!1,dM=function(t){return t.tagName==="TEXTAREA"},xb=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!dM(t)&&n[e]==="visible")},fM=function(t){return xb(t,"overflowY")},hM=function(t){return xb(t,"overflowX")},qw=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=bb(t,r);if(i){var o=_b(t,r),u=o[1],d=o[2];if(u>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},pM=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},mM=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},bb=function(t,e){return t==="v"?fM(e):hM(e)},_b=function(t,e){return t==="v"?pM(e):mM(e)},gM=function(t,e){return t==="h"&&e==="rtl"?-1:1},vM=function(t,e,n,r,i){var o=gM(t,window.getComputedStyle(e).direction),u=o*r,d=n.target,f=e.contains(d),p=!1,g=u>0,y=0,S=0;do{if(!d)break;var b=_b(t,d),k=b[0],w=b[1],_=b[2],E=w-_-o*k;(k||E)&&bb(t,d)&&(y+=E,S+=k);var C=d.parentNode;d=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!f&&d!==document.body||f&&(e.contains(d)||e===d));return(g&&Math.abs(y)<1||!g&&Math.abs(S)<1)&&(p=!0),p},$c=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Kw=function(t){return[t.deltaX,t.deltaY]},Gw=function(t){return t&&"current"in t?t.current:t},yM=function(t,e){return t[0]===e[0]&&t[1]===e[1]},wM=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},xM=0,Ja=[];function bM(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(xM++)[0],o=m.useState(wb)[0],u=m.useRef(t);m.useEffect(function(){u.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=e2([t.lockRef.current],(t.shards||[]).map(Gw),!0).filter(Boolean);return w.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var d=m.useCallback(function(w,_){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!u.current.allowPinchZoom;var E=$c(w),C=n.current,N="deltaX"in w?w.deltaX:C[0]-E[0],R="deltaY"in w?w.deltaY:C[1]-E[1],P,M=w.target,z=Math.abs(N)>Math.abs(R)?"h":"v";if("touches"in w&&z==="h"&&M.type==="range")return!1;var V=window.getSelection(),F=V&&V.anchorNode,Y=F?F===M||F.contains(M):!1;if(Y)return!1;var te=qw(z,M);if(!te)return!0;if(te?P=z:(P=z==="v"?"h":"v",te=qw(z,M)),!te)return!1;if(!r.current&&"changedTouches"in w&&(N||R)&&(r.current=P),!P)return!0;var Q=r.current||P;return vM(Q,_,w,Q==="h"?N:R)},[]),f=m.useCallback(function(w){var _=w;if(!(!Ja.length||Ja[Ja.length-1]!==o)){var E="deltaY"in _?Kw(_):$c(_),C=e.current.filter(function(P){return P.name===_.type&&(P.target===_.target||_.target===P.shadowParent)&&yM(P.delta,E)})[0];if(C&&C.should){_.cancelable&&_.preventDefault();return}if(!C){var N=(u.current.shards||[]).map(Gw).filter(Boolean).filter(function(P){return P.contains(_.target)}),R=N.length>0?d(_,N[0]):!u.current.noIsolation;R&&_.cancelable&&_.preventDefault()}}},[]),p=m.useCallback(function(w,_,E,C){var N={name:w,delta:_,target:E,should:C,shadowParent:_M(E)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(R){return R!==N})},1)},[]),g=m.useCallback(function(w){n.current=$c(w),r.current=void 0},[]),y=m.useCallback(function(w){p(w.type,Kw(w),w.target,d(w,t.lockRef.current))},[]),S=m.useCallback(function(w){p(w.type,$c(w),w.target,d(w,t.lockRef.current))},[]);m.useEffect(function(){return Ja.push(o),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:S}),document.addEventListener("wheel",f,Za),document.addEventListener("touchmove",f,Za),document.addEventListener("touchstart",g,Za),function(){Ja=Ja.filter(function(w){return w!==o}),document.removeEventListener("wheel",f,Za),document.removeEventListener("touchmove",f,Za),document.removeEventListener("touchstart",g,Za)}},[]);var b=t.removeScrollBar,k=t.inert;return m.createElement(m.Fragment,null,k?m.createElement(o,{styles:wM(i)}):null,b?m.createElement(uM,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function _M(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const SM=ZD(yb,bM);var Lu=m.forwardRef(function(t,e){return m.createElement(Mu,ir({},t,{ref:e,sideCar:SM}))});Lu.classNames=Mu.classNames;var kM=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xa=new WeakMap,Fc=new WeakMap,Uc={},oh=0,Sb=function(t){return t&&(t.host||Sb(t.parentNode))},jM=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Sb(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},EM=function(t,e,n,r){var i=jM(e,Array.isArray(t)?t:[t]);Uc[n]||(Uc[n]=new WeakMap);var o=Uc[n],u=[],d=new Set,f=new Set(i),p=function(y){!y||d.has(y)||(d.add(y),p(y.parentNode))};i.forEach(p);var g=function(y){!y||f.has(y)||Array.prototype.forEach.call(y.children,function(S){if(d.has(S))g(S);else try{var b=S.getAttribute(r),k=b!==null&&b!=="false",w=(Xa.get(S)||0)+1,_=(o.get(S)||0)+1;Xa.set(S,w),o.set(S,_),u.push(S),w===1&&k&&Fc.set(S,!0),_===1&&S.setAttribute(n,"true"),k||S.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",S,E)}})};return g(e),d.clear(),oh++,function(){u.forEach(function(y){var S=Xa.get(y)-1,b=o.get(y)-1;Xa.set(y,S),o.set(y,b),S||(Fc.has(y)||y.removeAttribute(r),Fc.delete(y)),b||y.removeAttribute(n)}),oh--,oh||(Xa=new WeakMap,Xa=new WeakMap,Fc=new WeakMap,Uc={})}},Bp=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=kM(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),EM(r,i,n,"aria-hidden")):function(){return null}};function CM(t){const e=NM(t),n=m.forwardRef((r,i)=>{const{children:o,...u}=r,d=m.Children.toArray(o),f=d.find(RM);if(f){const p=f.props.children,g=d.map(y=>y===f?m.Children.count(p)>1?m.Children.only(null):m.isValidElement(p)?p.props.children:null:y);return l.jsx(e,{...u,ref:i,children:m.isValidElement(p)?m.cloneElement(p,void 0,g):null})}return l.jsx(e,{...u,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function NM(t){const e=m.forwardRef((n,r)=>{const{children:i,...o}=n;if(m.isValidElement(i)){const u=OM(i),d=PM(o,i.props);return i.type!==m.Fragment&&(d.ref=r?Ir(r,u):u),m.cloneElement(i,d)}return m.Children.count(i)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var TM=Symbol("radix.slottable");function RM(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===TM}function PM(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...d)=>{const f=o(...d);return i(...d),f}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function OM(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var $u="Dialog",[kb,jb]=sn($u),[AM,Gn]=kb($u),Eb=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:u=!0}=t,d=m.useRef(null),f=m.useRef(null),[p,g]=Tr({prop:r,defaultProp:i??!1,onChange:o,caller:$u});return l.jsx(AM,{scope:e,triggerRef:d,contentRef:f,contentId:lr(),titleId:lr(),descriptionId:lr(),open:p,onOpenChange:g,onOpenToggle:m.useCallback(()=>g(y=>!y),[g]),modal:u,children:n})};Eb.displayName=$u;var Cb="DialogTrigger",Nb=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Gn(Cb,n),o=Le(e,i.triggerRef);return l.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Hp(i.open),...r,ref:o,onClick:ce(t.onClick,i.onOpenToggle)})});Nb.displayName=Cb;var Wp="DialogPortal",[IM,Tb]=kb(Wp,{forceMount:void 0}),Rb=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=Gn(Wp,e);return l.jsx(IM,{scope:e,forceMount:n,children:m.Children.map(r,u=>l.jsx($t,{present:n||o.open,children:l.jsx(Zo,{asChild:!0,container:i,children:u})}))})};Rb.displayName=Wp;var uu="DialogOverlay",Pb=m.forwardRef((t,e)=>{const n=Tb(uu,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Gn(uu,t.__scopeDialog);return o.modal?l.jsx($t,{present:r||o.open,children:l.jsx(MM,{...i,ref:e})}):null});Pb.displayName=uu;var DM=CM("DialogOverlay.RemoveScroll"),MM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Gn(uu,n);return l.jsx(Lu,{as:DM,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(ke.div,{"data-state":Hp(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),sa="DialogContent",Ob=m.forwardRef((t,e)=>{const n=Tb(sa,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Gn(sa,t.__scopeDialog);return l.jsx($t,{present:r||o.open,children:o.modal?l.jsx(LM,{...i,ref:e}):l.jsx($M,{...i,ref:e})})});Ob.displayName=sa;var LM=m.forwardRef((t,e)=>{const n=Gn(sa,t.__scopeDialog),r=m.useRef(null),i=Le(e,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return Bp(o)},[]),l.jsx(Ab,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ce(t.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ce(t.onPointerDownOutside,o=>{const u=o.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&o.preventDefault()}),onFocusOutside:ce(t.onFocusOutside,o=>o.preventDefault())})}),$M=m.forwardRef((t,e)=>{const n=Gn(sa,t.__scopeDialog),r=m.useRef(!1),i=m.useRef(!1);return l.jsx(Ab,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=o.target;n.triggerRef.current?.contains(u)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),Ab=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...u}=t,d=Gn(sa,n),f=m.useRef(null),p=Le(e,f);return zp(),l.jsxs(l.Fragment,{children:[l.jsx(Du,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:l.jsx(ki,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Hp(d.open),...u,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(UM,{titleId:d.titleId}),l.jsx(BM,{contentRef:f,descriptionId:d.descriptionId})]})]})}),Vp="DialogTitle",Ib=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Gn(Vp,n);return l.jsx(ke.h2,{id:i.titleId,...r,ref:e})});Ib.displayName=Vp;var Db="DialogDescription",Mb=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Gn(Db,n);return l.jsx(ke.p,{id:i.descriptionId,...r,ref:e})});Mb.displayName=Db;var Lb="DialogClose",$b=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Gn(Lb,n);return l.jsx(ke.button,{type:"button",...r,ref:e,onClick:ce(t.onClick,()=>i.onOpenChange(!1))})});$b.displayName=Lb;function Hp(t){return t?"open":"closed"}var Fb="DialogTitleWarning",[FM,Ub]=eE(Fb,{contentName:sa,titleName:Vp,docsSlug:"dialog"}),UM=({titleId:t})=>{const e=Ub(Fb),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},zM="DialogDescriptionWarning",BM=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ub(zM).contentName}}.`;return m.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},qp=Eb,zb=Nb,Kp=Rb,nl=Pb,rl=Ob,sl=Ib,al=Mb,Fu=$b;const xi=qp,Gp=zb,WM=Kp,Bb=m.forwardRef(({className:t,...e},n)=>l.jsx(nl,{ref:n,className:he("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Bb.displayName=nl.displayName;const aa=m.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(WM,{children:[l.jsx(Bb,{}),l.jsxs(rl,{ref:r,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(Fu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(ea,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));aa.displayName=rl.displayName;const ia=({className:t,...e})=>l.jsx("div",{className:he("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ia.displayName="DialogHeader";const oa=({className:t,...e})=>l.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});oa.displayName="DialogFooter";const la=m.forwardRef(({className:t,...e},n)=>l.jsx(sl,{ref:n,className:he("text-lg font-semibold leading-none tracking-tight",t),...e}));la.displayName=sl.displayName;const ca=m.forwardRef(({className:t,...e},n)=>l.jsx(al,{ref:n,className:he("text-sm text-muted-foreground",t),...e}));ca.displayName=al.displayName;var VM=Symbol("radix.slottable");function HM(t){const e=({children:n})=>l.jsx(l.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=VM,e}var Wb="AlertDialog",[qM]=sn(Wb,[jb]),Lr=jb(),Vb=t=>{const{__scopeAlertDialog:e,...n}=t,r=Lr(e);return l.jsx(qp,{...r,...n,modal:!0})};Vb.displayName=Wb;var KM="AlertDialogTrigger",GM=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Lr(n);return l.jsx(zb,{...i,...r,ref:e})});GM.displayName=KM;var YM="AlertDialogPortal",Hb=t=>{const{__scopeAlertDialog:e,...n}=t,r=Lr(e);return l.jsx(Kp,{...r,...n})};Hb.displayName=YM;var QM="AlertDialogOverlay",qb=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Lr(n);return l.jsx(nl,{...i,...r,ref:e})});qb.displayName=QM;var ui="AlertDialogContent",[ZM,JM]=qM(ui),XM=HM("AlertDialogContent"),Kb=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,o=Lr(n),u=m.useRef(null),d=Le(e,u),f=m.useRef(null);return l.jsx(FM,{contentName:ui,titleName:Gb,docsSlug:"alert-dialog",children:l.jsx(ZM,{scope:n,cancelRef:f,children:l.jsxs(rl,{role:"alertdialog",...o,...i,ref:d,onOpenAutoFocus:ce(i.onOpenAutoFocus,p=>{p.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[l.jsx(XM,{children:r}),l.jsx(tL,{contentRef:u})]})})})});Kb.displayName=ui;var Gb="AlertDialogTitle",Yb=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Lr(n);return l.jsx(sl,{...i,...r,ref:e})});Yb.displayName=Gb;var Qb="AlertDialogDescription",Zb=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Lr(n);return l.jsx(al,{...i,...r,ref:e})});Zb.displayName=Qb;var eL="AlertDialogAction",Jb=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Lr(n);return l.jsx(Fu,{...i,...r,ref:e})});Jb.displayName=eL;var Xb="AlertDialogCancel",e_=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=JM(Xb,n),o=Lr(n),u=Le(e,i);return l.jsx(Fu,{...o,...r,ref:u})});e_.displayName=Xb;var tL=({contentRef:t})=>{const e=`\`${ui}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ui}\` by passing a \`${Qb}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ui}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},nL=Vb,rL=Hb,t_=qb,n_=Kb,r_=Jb,s_=e_,a_=Yb,i_=Zb;const sL=nL,aL=rL,o_=m.forwardRef(({className:t,...e},n)=>l.jsx(t_,{className:he("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));o_.displayName=t_.displayName;const l_=m.forwardRef(({className:t,...e},n)=>l.jsxs(aL,{children:[l.jsx(o_,{}),l.jsx(n_,{ref:n,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));l_.displayName=n_.displayName;const c_=({className:t,...e})=>l.jsx("div",{className:he("flex flex-col space-y-2 text-center sm:text-left",t),...e});c_.displayName="AlertDialogHeader";const u_=({className:t,...e})=>l.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});u_.displayName="AlertDialogFooter";const d_=m.forwardRef(({className:t,...e},n)=>l.jsx(a_,{ref:n,className:he("text-lg font-semibold",t),...e}));d_.displayName=a_.displayName;const f_=m.forwardRef(({className:t,...e},n)=>l.jsx(i_,{ref:n,className:he("text-sm text-muted-foreground",t),...e}));f_.displayName=i_.displayName;const h_=m.forwardRef(({className:t,...e},n)=>l.jsx(r_,{ref:n,className:he($p(),t),...e}));h_.displayName=r_.displayName;const p_=m.forwardRef(({className:t,...e},n)=>l.jsx(s_,{ref:n,className:he($p({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));p_.displayName=s_.displayName;var iL=m.createContext(void 0);function il(t){const e=m.useContext(iL);return t||e||"ltr"}var lh="rovingFocusGroup.onEntryFocus",oL={bubbles:!1,cancelable:!0},ol="RovingFocusGroup",[Gh,m_,lL]=yu(ol),[cL,Uu]=sn(ol,[lL]),[uL,dL]=cL(ol),g_=m.forwardRef((t,e)=>l.jsx(Gh.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Gh.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(fL,{...t,ref:e})})}));g_.displayName=ol;var fL=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...y}=t,S=m.useRef(null),b=Le(e,S),k=il(o),[w,_]=Tr({prop:u,defaultProp:d??null,onChange:f,caller:ol}),[E,C]=m.useState(!1),N=ht(p),R=m_(n),P=m.useRef(!1),[M,z]=m.useState(0);return m.useEffect(()=>{const V=S.current;if(V)return V.addEventListener(lh,N),()=>V.removeEventListener(lh,N)},[N]),l.jsx(uL,{scope:n,orientation:r,dir:k,loop:i,currentTabStopId:w,onItemFocus:m.useCallback(V=>_(V),[_]),onItemShiftTab:m.useCallback(()=>C(!0),[]),onFocusableItemAdd:m.useCallback(()=>z(V=>V+1),[]),onFocusableItemRemove:m.useCallback(()=>z(V=>V-1),[]),children:l.jsx(ke.div,{tabIndex:E||M===0?-1:0,"data-orientation":r,...y,ref:b,style:{outline:"none",...t.style},onMouseDown:ce(t.onMouseDown,()=>{P.current=!0}),onFocus:ce(t.onFocus,V=>{const F=!P.current;if(V.target===V.currentTarget&&F&&!E){const Y=new CustomEvent(lh,oL);if(V.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const te=R().filter(J=>J.focusable),Q=te.find(J=>J.active),K=te.find(J=>J.id===w),H=[Q,K,...te].filter(Boolean).map(J=>J.ref.current);w_(H,g)}}P.current=!1}),onBlur:ce(t.onBlur,()=>C(!1))})})}),v_="RovingFocusGroupItem",y_=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:u,...d}=t,f=lr(),p=o||f,g=dL(v_,n),y=g.currentTabStopId===p,S=m_(n),{onFocusableItemAdd:b,onFocusableItemRemove:k,currentTabStopId:w}=g;return m.useEffect(()=>{if(r)return b(),()=>k()},[r,b,k]),l.jsx(Gh.ItemSlot,{scope:n,id:p,focusable:r,active:i,children:l.jsx(ke.span,{tabIndex:y?0:-1,"data-orientation":g.orientation,...d,ref:e,onMouseDown:ce(t.onMouseDown,_=>{r?g.onItemFocus(p):_.preventDefault()}),onFocus:ce(t.onFocus,()=>g.onItemFocus(p)),onKeyDown:ce(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){g.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const E=mL(_,g.orientation,g.dir);if(E!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let N=S().filter(R=>R.focusable).map(R=>R.ref.current);if(E==="last")N.reverse();else if(E==="prev"||E==="next"){E==="prev"&&N.reverse();const R=N.indexOf(_.currentTarget);N=g.loop?gL(N,R+1):N.slice(R+1)}setTimeout(()=>w_(N))}}),children:typeof u=="function"?u({isCurrentTabStop:y,hasTabStop:w!=null}):u})})});y_.displayName=v_;var hL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pL(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function mL(t,e,n){const r=pL(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return hL[r]}function w_(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function gL(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var x_=g_,b_=y_;function vL(t){const e=yL(t),n=m.forwardRef((r,i)=>{const{children:o,...u}=r,d=m.Children.toArray(o),f=d.find(xL);if(f){const p=f.props.children,g=d.map(y=>y===f?m.Children.count(p)>1?m.Children.only(null):m.isValidElement(p)?p.props.children:null:y);return l.jsx(e,{...u,ref:i,children:m.isValidElement(p)?m.cloneElement(p,void 0,g):null})}return l.jsx(e,{...u,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function yL(t){const e=m.forwardRef((n,r)=>{const{children:i,...o}=n;if(m.isValidElement(i)){const u=_L(i),d=bL(o,i.props);return i.type!==m.Fragment&&(d.ref=r?Ir(r,u):u),m.cloneElement(i,d)}return m.Children.count(i)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var wL=Symbol("radix.slottable");function xL(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wL}function bL(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...d)=>{const f=o(...d);return i(...d),f}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function _L(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Yh=["Enter"," "],SL=["ArrowDown","PageUp","Home"],__=["ArrowUp","PageDown","End"],kL=[...SL,...__],jL={ltr:[...Yh,"ArrowRight"],rtl:[...Yh,"ArrowLeft"]},EL={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ll="Menu",[Yo,CL,NL]=yu(ll),[pa,S_]=sn(ll,[NL,Ni,Uu]),zu=Ni(),k_=Uu(),[TL,ma]=pa(ll),[RL,cl]=pa(ll),j_=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:o,modal:u=!0}=t,d=zu(e),[f,p]=m.useState(null),g=m.useRef(!1),y=ht(o),S=il(i);return m.useEffect(()=>{const b=()=>{g.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>g.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),l.jsx(p0,{...d,children:l.jsx(TL,{scope:e,open:n,onOpenChange:y,content:f,onContentChange:p,children:l.jsx(RL,{scope:e,onClose:m.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:g,dir:S,modal:u,children:r})})})};j_.displayName=ll;var PL="MenuAnchor",Yp=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=zu(n);return l.jsx(kp,{...i,...r,ref:e})});Yp.displayName=PL;var Qp="MenuPortal",[OL,E_]=pa(Qp,{forceMount:void 0}),C_=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,o=ma(Qp,e);return l.jsx(OL,{scope:e,forceMount:n,children:l.jsx($t,{present:n||o.open,children:l.jsx(Zo,{asChild:!0,container:i,children:r})})})};C_.displayName=Qp;var En="MenuContent",[AL,Zp]=pa(En),N_=m.forwardRef((t,e)=>{const n=E_(En,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=ma(En,t.__scopeMenu),u=cl(En,t.__scopeMenu);return l.jsx(Yo.Provider,{scope:t.__scopeMenu,children:l.jsx($t,{present:r||o.open,children:l.jsx(Yo.Slot,{scope:t.__scopeMenu,children:u.modal?l.jsx(IL,{...i,ref:e}):l.jsx(DL,{...i,ref:e})})})})}),IL=m.forwardRef((t,e)=>{const n=ma(En,t.__scopeMenu),r=m.useRef(null),i=Le(e,r);return m.useEffect(()=>{const o=r.current;if(o)return Bp(o)},[]),l.jsx(Jp,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ce(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),DL=m.forwardRef((t,e)=>{const n=ma(En,t.__scopeMenu);return l.jsx(Jp,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),ML=vL("MenuContent.ScrollLock"),Jp=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:u,disableOutsidePointerEvents:d,onEntryFocus:f,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:y,onInteractOutside:S,onDismiss:b,disableOutsideScroll:k,...w}=t,_=ma(En,n),E=cl(En,n),C=zu(n),N=k_(n),R=CL(n),[P,M]=m.useState(null),z=m.useRef(null),V=Le(e,z,_.onContentChange),F=m.useRef(0),Y=m.useRef(""),te=m.useRef(0),Q=m.useRef(null),K=m.useRef("right"),q=m.useRef(0),H=k?Lu:m.Fragment,J=k?{as:ML,allowPinchZoom:!0}:void 0,X=D=>{const G=Y.current+D,T=R().filter(Z=>!Z.disabled),L=document.activeElement,ne=T.find(Z=>Z.ref.current===L)?.textValue,se=T.map(Z=>Z.textValue),ye=GL(se,G,ne),Se=T.find(Z=>Z.textValue===ye)?.ref.current;(function Z(be){Y.current=be,window.clearTimeout(F.current),be!==""&&(F.current=window.setTimeout(()=>Z(""),1e3))})(G),Se&&setTimeout(()=>Se.focus())};m.useEffect(()=>()=>window.clearTimeout(F.current),[]),zp();const $=m.useCallback(D=>K.current===Q.current?.side&&QL(D,Q.current?.area),[]);return l.jsx(AL,{scope:n,searchRef:Y,onItemEnter:m.useCallback(D=>{$(D)&&D.preventDefault()},[$]),onItemLeave:m.useCallback(D=>{$(D)||(z.current?.focus(),M(null))},[$]),onTriggerLeave:m.useCallback(D=>{$(D)&&D.preventDefault()},[$]),pointerGraceTimerRef:te,onPointerGraceIntentChange:m.useCallback(D=>{Q.current=D},[]),children:l.jsx(H,{...J,children:l.jsx(Du,{asChild:!0,trapped:i,onMountAutoFocus:ce(o,D=>{D.preventDefault(),z.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:l.jsx(ki,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:y,onInteractOutside:S,onDismiss:b,children:l.jsx(x_,{asChild:!0,...N,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:M,onEntryFocus:ce(f,D=>{E.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(jp,{role:"menu","aria-orientation":"vertical","data-state":V_(_.open),"data-radix-menu-content":"",dir:E.dir,...C,...w,ref:V,style:{outline:"none",...w.style},onKeyDown:ce(w.onKeyDown,D=>{const T=D.target.closest("[data-radix-menu-content]")===D.currentTarget,L=D.ctrlKey||D.altKey||D.metaKey,ne=D.key.length===1;T&&(D.key==="Tab"&&D.preventDefault(),!L&&ne&&X(D.key));const se=z.current;if(D.target!==se||!kL.includes(D.key))return;D.preventDefault();const Se=R().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);__.includes(D.key)&&Se.reverse(),qL(Se)}),onBlur:ce(t.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(F.current),Y.current="")}),onPointerMove:ce(t.onPointerMove,Qo(D=>{const G=D.target,T=q.current!==D.clientX;if(D.currentTarget.contains(G)&&T){const L=D.clientX>q.current?"right":"left";K.current=L,q.current=D.clientX}}))})})})})})})});N_.displayName=En;var LL="MenuGroup",Xp=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(ke.div,{role:"group",...r,ref:e})});Xp.displayName=LL;var $L="MenuLabel",T_=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(ke.div,{...r,ref:e})});T_.displayName=$L;var du="MenuItem",Yw="menu.itemSelect",Bu=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,o=m.useRef(null),u=cl(du,t.__scopeMenu),d=Zp(du,t.__scopeMenu),f=Le(e,o),p=m.useRef(!1),g=()=>{const y=o.current;if(!n&&y){const S=new CustomEvent(Yw,{bubbles:!0,cancelable:!0});y.addEventListener(Yw,b=>r?.(b),{once:!0}),sp(y,S),S.defaultPrevented?p.current=!1:u.onClose()}};return l.jsx(R_,{...i,ref:f,disabled:n,onClick:ce(t.onClick,g),onPointerDown:y=>{t.onPointerDown?.(y),p.current=!0},onPointerUp:ce(t.onPointerUp,y=>{p.current||y.currentTarget?.click()}),onKeyDown:ce(t.onKeyDown,y=>{const S=d.searchRef.current!=="";n||S&&y.key===" "||Yh.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});Bu.displayName=du;var R_=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=t,u=Zp(du,n),d=k_(n),f=m.useRef(null),p=Le(e,f),[g,y]=m.useState(!1),[S,b]=m.useState("");return m.useEffect(()=>{const k=f.current;k&&b((k.textContent??"").trim())},[o.children]),l.jsx(Yo.ItemSlot,{scope:n,disabled:r,textValue:i??S,children:l.jsx(b_,{asChild:!0,...d,focusable:!r,children:l.jsx(ke.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:p,onPointerMove:ce(t.onPointerMove,Qo(k=>{r?u.onItemLeave(k):(u.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ce(t.onPointerLeave,Qo(k=>u.onItemLeave(k))),onFocus:ce(t.onFocus,()=>y(!0)),onBlur:ce(t.onBlur,()=>y(!1))})})})}),FL="MenuCheckboxItem",P_=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return l.jsx(M_,{scope:t.__scopeMenu,checked:n,children:l.jsx(Bu,{role:"menuitemcheckbox","aria-checked":fu(n)?"mixed":n,...i,ref:e,"data-state":tm(n),onSelect:ce(i.onSelect,()=>r?.(fu(n)?!0:!n),{checkForDefaultPrevented:!1})})})});P_.displayName=FL;var O_="MenuRadioGroup",[UL,zL]=pa(O_,{value:void 0,onValueChange:()=>{}}),A_=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,o=ht(r);return l.jsx(UL,{scope:t.__scopeMenu,value:n,onValueChange:o,children:l.jsx(Xp,{...i,ref:e})})});A_.displayName=O_;var I_="MenuRadioItem",D_=m.forwardRef((t,e)=>{const{value:n,...r}=t,i=zL(I_,t.__scopeMenu),o=n===i.value;return l.jsx(M_,{scope:t.__scopeMenu,checked:o,children:l.jsx(Bu,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":tm(o),onSelect:ce(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});D_.displayName=I_;var em="MenuItemIndicator",[M_,BL]=pa(em,{checked:!1}),L_=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,o=BL(em,n);return l.jsx($t,{present:r||fu(o.checked)||o.checked===!0,children:l.jsx(ke.span,{...i,ref:e,"data-state":tm(o.checked)})})});L_.displayName=em;var WL="MenuSeparator",$_=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(ke.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});$_.displayName=WL;var VL="MenuArrow",F_=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=zu(n);return l.jsx(Ep,{...i,...r,ref:e})});F_.displayName=VL;var HL="MenuSub",[b3,U_]=pa(HL),Eo="MenuSubTrigger",z_=m.forwardRef((t,e)=>{const n=ma(Eo,t.__scopeMenu),r=cl(Eo,t.__scopeMenu),i=U_(Eo,t.__scopeMenu),o=Zp(Eo,t.__scopeMenu),u=m.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=o,p={__scopeMenu:t.__scopeMenu},g=m.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return m.useEffect(()=>g,[g]),m.useEffect(()=>{const y=d.current;return()=>{window.clearTimeout(y),f(null)}},[d,f]),l.jsx(Yp,{asChild:!0,...p,children:l.jsx(R_,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":V_(n.open),...t,ref:Ir(e,i.onTriggerChange),onClick:y=>{t.onClick?.(y),!(t.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ce(t.onPointerMove,Qo(y=>{o.onItemEnter(y),!y.defaultPrevented&&!t.disabled&&!n.open&&!u.current&&(o.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:ce(t.onPointerLeave,Qo(y=>{g();const S=n.content?.getBoundingClientRect();if(S){const b=n.content?.dataset.side,k=b==="right",w=k?-5:5,_=S[k?"left":"right"],E=S[k?"right":"left"];o.onPointerGraceIntentChange({area:[{x:y.clientX+w,y:y.clientY},{x:_,y:S.top},{x:E,y:S.top},{x:E,y:S.bottom},{x:_,y:S.bottom}],side:b}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(y),y.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ce(t.onKeyDown,y=>{const S=o.searchRef.current!=="";t.disabled||S&&y.key===" "||jL[r.dir].includes(y.key)&&(n.onOpenChange(!0),n.content?.focus(),y.preventDefault())})})})});z_.displayName=Eo;var B_="MenuSubContent",W_=m.forwardRef((t,e)=>{const n=E_(En,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=ma(En,t.__scopeMenu),u=cl(En,t.__scopeMenu),d=U_(B_,t.__scopeMenu),f=m.useRef(null),p=Le(e,f);return l.jsx(Yo.Provider,{scope:t.__scopeMenu,children:l.jsx($t,{present:r||o.open,children:l.jsx(Yo.Slot,{scope:t.__scopeMenu,children:l.jsx(Jp,{id:d.contentId,"aria-labelledby":d.triggerId,...i,ref:p,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{u.isUsingKeyboardRef.current&&f.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:ce(t.onFocusOutside,g=>{g.target!==d.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ce(t.onEscapeKeyDown,g=>{u.onClose(),g.preventDefault()}),onKeyDown:ce(t.onKeyDown,g=>{const y=g.currentTarget.contains(g.target),S=EL[u.dir].includes(g.key);y&&S&&(o.onOpenChange(!1),d.trigger?.focus(),g.preventDefault())})})})})})});W_.displayName=B_;function V_(t){return t?"open":"closed"}function fu(t){return t==="indeterminate"}function tm(t){return fu(t)?"indeterminate":t?"checked":"unchecked"}function qL(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function KL(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function GL(t,e,n){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let u=KL(t,Math.max(o,0));i.length===1&&(u=u.filter(p=>p!==n));const f=u.find(p=>p.toLowerCase().startsWith(i.toLowerCase()));return f!==n?f:void 0}function YL(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,u=e.length-1;o<e.length;u=o++){const d=e[o],f=e[u],p=d.x,g=d.y,y=f.x,S=f.y;g>r!=S>r&&n<(y-p)*(r-g)/(S-g)+p&&(i=!i)}return i}function QL(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return YL(n,e)}function Qo(t){return e=>e.pointerType==="mouse"?t(e):void 0}var ZL=j_,JL=Yp,XL=C_,e4=N_,t4=Xp,n4=T_,r4=Bu,s4=P_,a4=A_,i4=D_,o4=L_,l4=$_,c4=F_,u4=z_,d4=W_,Wu="DropdownMenu",[f4]=sn(Wu,[S_]),Ht=S_(),[h4,H_]=f4(Wu),q_=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:u,modal:d=!0}=t,f=Ht(e),p=m.useRef(null),[g,y]=Tr({prop:i,defaultProp:o??!1,onChange:u,caller:Wu});return l.jsx(h4,{scope:e,triggerId:lr(),triggerRef:p,contentId:lr(),open:g,onOpenChange:y,onOpenToggle:m.useCallback(()=>y(S=>!S),[y]),modal:d,children:l.jsx(ZL,{...f,open:g,onOpenChange:y,dir:r,modal:d,children:n})})};q_.displayName=Wu;var K_="DropdownMenuTrigger",G_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,o=H_(K_,n),u=Ht(n);return l.jsx(JL,{asChild:!0,...u,children:l.jsx(ke.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Ir(e,o.triggerRef),onPointerDown:ce(t.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(o.onOpenToggle(),o.open||d.preventDefault())}),onKeyDown:ce(t.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&o.onOpenToggle(),d.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});G_.displayName=K_;var p4="DropdownMenuPortal",Y_=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Ht(e);return l.jsx(XL,{...r,...n})};Y_.displayName=p4;var Q_="DropdownMenuContent",Z_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=H_(Q_,n),o=Ht(n),u=m.useRef(!1);return l.jsx(e4,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:e,onCloseAutoFocus:ce(t.onCloseAutoFocus,d=>{u.current||i.triggerRef.current?.focus(),u.current=!1,d.preventDefault()}),onInteractOutside:ce(t.onInteractOutside,d=>{const f=d.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0,g=f.button===2||p;(!i.modal||g)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Z_.displayName=Q_;var m4="DropdownMenuGroup",g4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ht(n);return l.jsx(t4,{...i,...r,ref:e})});g4.displayName=m4;var v4="DropdownMenuLabel",J_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ht(n);return l.jsx(n4,{...i,...r,ref:e})});J_.displayName=v4;var y4="DropdownMenuItem",X_=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ht(n);return l.jsx(r4,{...i,...r,ref:e})});X_.displayName=y4;var w4="DropdownMenuCheckboxItem",eS=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ht(n);return l.jsx(s4,{...i,...r,ref:e})});eS.displayName=w4;var x4="DropdownMenuRadioGroup",b4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ht(n);return l.jsx(a4,{...i,...r,ref:e})});b4.displayName=x4;var _4="DropdownMenuRadioItem",tS=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ht(n);return l.jsx(i4,{...i,...r,ref:e})});tS.displayName=_4;var S4="DropdownMenuItemIndicator",nS=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ht(n);return l.jsx(o4,{...i,...r,ref:e})});nS.displayName=S4;var k4="DropdownMenuSeparator",rS=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ht(n);return l.jsx(l4,{...i,...r,ref:e})});rS.displayName=k4;var j4="DropdownMenuArrow",E4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ht(n);return l.jsx(c4,{...i,...r,ref:e})});E4.displayName=j4;var C4="DropdownMenuSubTrigger",sS=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ht(n);return l.jsx(u4,{...i,...r,ref:e})});sS.displayName=C4;var N4="DropdownMenuSubContent",aS=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ht(n);return l.jsx(d4,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aS.displayName=N4;var T4=q_,R4=G_,P4=Y_,iS=Z_,oS=J_,lS=X_,cS=eS,uS=tS,dS=nS,fS=rS,hS=sS,pS=aS;const mS=T4,gS=R4,O4=m.forwardRef(({className:t,inset:e,children:n,...r},i)=>l.jsxs(hS,{ref:i,className:he("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...r,children:[n,l.jsx(Nx,{className:"ml-auto h-4 w-4"})]}));O4.displayName=hS.displayName;const A4=m.forwardRef(({className:t,...e},n)=>l.jsx(pS,{ref:n,className:he("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));A4.displayName=pS.displayName;const nm=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(P4,{children:l.jsx(iS,{ref:r,sideOffset:e,className:he("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));nm.displayName=iS.displayName;const Qs=m.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(lS,{ref:r,className:he("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));Qs.displayName=lS.displayName;const I4=m.forwardRef(({className:t,children:e,checked:n,...r},i)=>l.jsxs(cS,{ref:i,className:he("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(dS,{children:l.jsx(Oo,{className:"h-4 w-4"})})}),e]}));I4.displayName=cS.displayName;const D4=m.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(uS,{ref:r,className:he("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(dS,{children:l.jsx(sC,{className:"h-2 w-2 fill-current"})})}),e]}));D4.displayName=uS.displayName;const M4=m.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(oS,{ref:r,className:he("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));M4.displayName=oS.displayName;const L4=m.forwardRef(({className:t,...e},n)=>l.jsx(fS,{ref:n,className:he("-mx-1 my-1 h-px bg-muted",t),...e}));L4.displayName=fS.displayName;const $4=db({email:Gs().email("Valid email required"),password:Gs().min(6,"Password must be at least 6 characters"),full_name:Gs().min(2,"Name must be at least 2 characters"),department:Gs().optional(),title:Gs().optional()});function F4(){const[t,e]=m.useState([]),[n,r]=m.useState(!0),[i,o]=m.useState(""),[u,d]=m.useState(!1),[f,p]=m.useState(!1),[g,y]=m.useState(!1),[S,b]=m.useState(null),[k,w]=m.useState(!1),[_,E]=m.useState(!1),{toast:C}=rn(),N=ha(),[R,P]=m.useState({email:"",password:"",full_name:"",department:"",title:""}),[M,z]=m.useState({}),V=async()=>{try{const{data:H,error:J}=await oe.from("profiles").select("*").eq("is_active",!0).order("full_name",{ascending:!0});if(J)throw J;const X=await Promise.all((H||[]).map(async $=>{const{data:D}=await oe.from("user_roles").select("role").eq("user_id",$.id).single();return{...$,role:D?.role||"employee"}}));e(X)}catch(H){console.error("Error fetching employees:",H),C({title:"Error",description:"Failed to load employees",variant:"destructive"})}finally{r(!1)}};m.useEffect(()=>{V()},[]);const F=async()=>{z({});const H=$4.safeParse(R);if(!H.success){const J={};H.error.errors.forEach(X=>{J[X.path[0]]=X.message}),z(J);return}w(!0);try{const{data:J}=await oe.auth.getSession(),X=await oe.functions.invoke("manage-user",{body:{action:"create",email:R.email,password:R.password,full_name:R.full_name,department:R.department||null,title:R.title||null}});if(console.log("Create user response:",X),X.error)throw console.error("Function error:",X.error),new Error(X.error.message||"Failed to create employee");if(X.data?.error)throw console.error("Server error:",X.data.error),new Error(X.data.error);C({title:"Employee created",description:`${R.full_name} has been added successfully. They can log in immediately.`}),d(!1),P({email:"",password:"",full_name:"",department:"",title:""}),V()}catch(J){const X=J instanceof Error?J.message:"Failed to create employee";C({title:"Error",description:X,variant:"destructive"})}finally{w(!1)}},Y=async()=>{if(S){w(!0);try{const{error:H}=await oe.from("profiles").update({full_name:R.full_name,department:R.department||null,title:R.title||null}).eq("id",S.id);if(H)throw H;C({title:"Employee updated",description:"Profile has been updated successfully."}),p(!1),b(null),V()}catch(H){C({title:"Error",description:H.message||"Failed to update employee",variant:"destructive"})}finally{w(!1)}}},te=async()=>{if(S){E(!0);try{const H=await oe.functions.invoke("manage-user",{body:{action:"delete",user_id:S.id}});if(H.error)throw new Error(H.error.message);if(H.data?.error)throw new Error(H.data.error);C({title:"User permanently deleted",description:`${S.full_name} and all associated data have been permanently removed.`}),y(!1),b(null),V()}catch(H){const J=H instanceof Error?H.message:"Failed to delete user";C({title:"Error",description:J,variant:"destructive"})}finally{E(!1)}}},Q=H=>{b(H),P({email:"",password:"",full_name:H.full_name,department:H.department||"",title:H.title||""}),p(!0)},K=H=>{b(H),y(!0)},q=t.filter(H=>H.full_name.toLowerCase().includes(i.toLowerCase())||H.department?.toLowerCase().includes(i.toLowerCase())||H.title?.toLowerCase().includes(i.toLowerCase()));return l.jsx(js,{children:l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Employees"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your team members"})]}),l.jsxs(xi,{open:u,onOpenChange:d,children:[l.jsx(Gp,{asChild:!0,children:l.jsxs(De,{className:"gradient-primary",children:[l.jsx(Ox,{className:"h-4 w-4 mr-2"}),"Add Employee"]})}),l.jsxs(aa,{className:"sm:max-w-md",children:[l.jsxs(ia,{children:[l.jsx(la,{children:"Add New Employee"}),l.jsx(ca,{children:"Create a new employee account. They will receive login credentials."})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"email",children:"Email"}),l.jsx(Je,{id:"email",type:"email",placeholder:"employee@company.com",value:R.email,onChange:H=>P({...R,email:H.target.value}),className:M.email?"border-destructive":""}),M.email&&l.jsx("p",{className:"text-sm text-destructive",children:M.email})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"password",children:"Password"}),l.jsx(Je,{id:"password",type:"password",placeholder:"",value:R.password,onChange:H=>P({...R,password:H.target.value}),className:M.password?"border-destructive":""}),M.password&&l.jsx("p",{className:"text-sm text-destructive",children:M.password})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"full_name",children:"Full Name"}),l.jsx(Je,{id:"full_name",placeholder:"John Doe",value:R.full_name,onChange:H=>P({...R,full_name:H.target.value}),className:M.full_name?"border-destructive":""}),M.full_name&&l.jsx("p",{className:"text-sm text-destructive",children:M.full_name})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"department",children:"Department"}),l.jsx(Je,{id:"department",placeholder:"Engineering",value:R.department,onChange:H=>P({...R,department:H.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"title",children:"Job Title"}),l.jsx(Je,{id:"title",placeholder:"Software Engineer",value:R.title,onChange:H=>P({...R,title:H.target.value})})]})]}),l.jsxs(oa,{children:[l.jsx(De,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),l.jsx(De,{onClick:F,disabled:k,children:k?l.jsxs(l.Fragment,{children:[l.jsx(pt,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Employee"})]})]})]})]}),l.jsxs("div",{className:"relative max-w-md",children:[l.jsx(fp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Je,{placeholder:"Search employees...",value:i,onChange:H=>o(H.target.value),className:"pl-10"})]}),n?l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((H,J)=>l.jsx("div",{className:"rounded-2xl bg-card p-6 animate-pulse",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-14 w-14 rounded-full bg-muted"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]})},J))}):q.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-muted-foreground",children:"No employees found"})}):l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:q.map(H=>l.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-lg",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(mn,{size:"lg",src:H.avatar_url,fallback:H.full_name}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:H.full_name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:H.title||"No title"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:H.department||"No department"})]})]}),l.jsxs(mS,{children:[l.jsx(gS,{asChild:!0,children:l.jsx(De,{variant:"ghost",size:"icon",children:l.jsx(Tx,{className:"h-4 w-4"})})}),l.jsxs(nm,{align:"end",children:[l.jsxs(Qs,{onClick:()=>N(`/admin/employee/${H.id}`),children:[l.jsx(lp,{className:"h-4 w-4 mr-2"}),"View Profile"]}),l.jsxs(Qs,{onClick:()=>Q(H),children:[l.jsx(mh,{className:"h-4 w-4 mr-2"}),"Edit"]}),l.jsxs(Qs,{onClick:()=>K(H),className:"text-destructive focus:text-destructive",children:[l.jsx(Dx,{className:"h-4 w-4 mr-2"}),"Delete Permanently"]})]})]})]}),l.jsx("div",{className:"mt-4 flex items-center gap-2",children:l.jsx(jI,{role:H.role||"employee"})})]},H.id))}),l.jsx(xi,{open:f,onOpenChange:p,children:l.jsxs(aa,{className:"sm:max-w-md",children:[l.jsxs(ia,{children:[l.jsx(la,{children:"Edit Employee"}),l.jsx(ca,{children:"Update employee information"})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"edit_full_name",children:"Full Name"}),l.jsx(Je,{id:"edit_full_name",value:R.full_name,onChange:H=>P({...R,full_name:H.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"edit_department",children:"Department"}),l.jsx(Je,{id:"edit_department",value:R.department,onChange:H=>P({...R,department:H.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"edit_title",children:"Job Title"}),l.jsx(Je,{id:"edit_title",value:R.title,onChange:H=>P({...R,title:H.target.value})})]})]}),l.jsxs(oa,{children:[l.jsx(De,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),l.jsx(De,{onClick:Y,disabled:k,children:k?l.jsxs(l.Fragment,{children:[l.jsx(pt,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})}),l.jsx(sL,{open:g,onOpenChange:y,children:l.jsxs(l_,{children:[l.jsxs(c_,{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"h-12 w-12 rounded-full bg-destructive/10 flex items-center justify-center",children:l.jsx(vC,{className:"h-6 w-6 text-destructive"})}),l.jsx(d_,{className:"text-xl",children:"Permanently Delete User"})]}),l.jsxs(f_,{className:"text-base",children:[l.jsx("strong",{className:"text-foreground",children:"This action cannot be undone."}),l.jsx("br",{}),l.jsx("br",{}),"You are about to permanently delete ",l.jsx("strong",{className:"text-foreground",children:S?.full_name})," and all their associated data including:",l.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1 text-muted-foreground",children:[l.jsx("li",{children:"Profile information"}),l.jsx("li",{children:"Attendance records"}),l.jsx("li",{children:"Task history"}),l.jsx("li",{children:"Notifications"}),l.jsx("li",{children:"GPS logs"}),l.jsx("li",{children:"Account access"})]}),l.jsx("br",{}),"The account will be deleted forever with no possibility of recovery."]})]}),l.jsxs(u_,{children:[l.jsx(p_,{children:"Cancel"}),l.jsx(h_,{onClick:te,disabled:_,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:_?l.jsxs(l.Fragment,{children:[l.jsx(pt,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Permanently"})]})]})})]})})}function vS({value:t,onChange:e,placeholder:n,rows:r=6}){const i=m.useRef(null),o=m.useCallback((f,p="")=>{const g=i.current;if(!g)return;const y=g.selectionStart,S=g.selectionEnd,b=t.substring(y,S);let k,w;if(p)k=t.substring(0,y)+f+b+p+t.substring(S),w=y+f.length+b.length+p.length;else{if(b){const _=b.split(`
`).map(E=>f+E);k=t.substring(0,y)+_.join(`
`)+t.substring(S)}else k=t.substring(0,y)+f+t.substring(S);w=y+f.length}e(k),setTimeout(()=>{g.focus(),g.setSelectionRange(w,w)},0)},[t,e]),u=[{icon:XE,action:()=>o("**","**"),title:"Bold (Ctrl+B)"},{icon:fC,action:()=>o("*","*"),title:"Italic (Ctrl+I)"},{icon:lC,action:()=>o("# "),title:"Heading 1"},{icon:cC,action:()=>o("## "),title:"Heading 2"},{icon:uC,action:()=>o("### "),title:"Heading 3"},{icon:pC,action:()=>o(" "),title:"Bullet List"},{icon:hC,action:()=>o("1. "),title:"Numbered List"}],d=f=>{(f.ctrlKey||f.metaKey)&&(f.key==="b"?(f.preventDefault(),o("**","**")):f.key==="i"&&(f.preventDefault(),o("*","*")))};return l.jsxs("div",{className:"rounded-lg border border-input bg-background overflow-hidden",children:[l.jsx("div",{className:"flex items-center gap-1 p-2 border-b bg-muted/50",children:u.map(({icon:f,action:p,title:g},y)=>l.jsx(De,{type:"button",variant:"ghost",size:"sm",onClick:p,title:g,className:"h-8 w-8 p-0",children:l.jsx(f,{className:"h-4 w-4"})},y))}),l.jsx("textarea",{ref:i,value:t,onChange:f=>e(f.target.value),onKeyDown:d,placeholder:n,rows:r,className:"w-full px-3 py-2 text-sm bg-transparent focus:outline-none resize-none"})]})}function U4({bucket:t,files:e,onChange:n,maxFiles:r=5,maxSizeMB:i=10,accept:o="*/*"}){const{toast:u}=rn(),d=m.useRef(null),[f,p]=m.useState(!1),g=async b=>{const k=Array.from(b.target.files||[]);if(e.length+k.length>r){u({title:"Too many files",description:`Maximum ${r} files allowed`,variant:"destructive"});return}p(!0);const w=[];for(const _ of k){if(_.size>i*1024*1024){u({title:"File too large",description:`${_.name} exceeds ${i}MB limit`,variant:"destructive"});continue}try{const E=`${Date.now()}-${_.name}`,{error:C}=await oe.storage.from(t).upload(E,_);if(C)throw C;const{data:N}=oe.storage.from(t).getPublicUrl(E);w.push({name:_.name,url:N.publicUrl,type:_.type})}catch{u({title:"Upload failed",description:`Failed to upload ${_.name}`,variant:"destructive"})}}n([...e,...w]),p(!1),d.current&&(d.current.value="")},y=b=>{const k=[...e];k.splice(b,1),n(k)},S=b=>b.startsWith("image/")?up:b.includes("pdf")||b.includes("document")?bu:cp;return l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{ref:d,type:"file",className:"hidden",accept:o,multiple:!0,onChange:g}),e.length>0&&l.jsx("div",{className:"space-y-2",children:e.map((b,k)=>{const w=S(b.type);return l.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted",children:[l.jsx(w,{className:"h-5 w-5 text-primary shrink-0"}),l.jsx("span",{className:"flex-1 text-sm truncate",children:b.name}),l.jsx(De,{type:"button",variant:"ghost",size:"sm",onClick:()=>y(k),className:"h-6 w-6 p-0",children:l.jsx(ea,{className:"h-4 w-4"})})]},k)})}),e.length<r&&l.jsx(De,{type:"button",variant:"outline",className:"w-full",onClick:()=>d.current?.click(),disabled:f,children:f?l.jsxs(l.Fragment,{children:[l.jsx(pt,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):l.jsxs(l.Fragment,{children:[l.jsx(di,{className:"h-4 w-4 mr-2"}),"Add Attachment (",e.length,"/",r,")"]})}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Max ",i,"MB per file"]})]})}function rm({content:t,className:e=""}){const n=m.useMemo(()=>{let r=t;return r=r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),r=r.replace(/^### (.+)$/gm,'<h3 class="text-lg font-semibold mt-4 mb-2">$1</h3>'),r=r.replace(/^## (.+)$/gm,'<h2 class="text-xl font-semibold mt-4 mb-2">$1</h2>'),r=r.replace(/^# (.+)$/gm,'<h1 class="text-2xl font-bold mt-4 mb-2">$1</h1>'),r=r.replace(/\*\*(.+?)\*\*/g,'<strong class="font-semibold">$1</strong>'),r=r.replace(/\*(.+?)\*/g,'<em class="italic">$1</em>'),r=r.replace(/^ (.+)$/gm,'<li class="ml-4 list-disc">$1</li>'),r=r.replace(/^- (.+)$/gm,'<li class="ml-4 list-disc">$1</li>'),r=r.replace(/^\d+\. (.+)$/gm,'<li class="ml-4 list-decimal">$1</li>'),r=r.replace(/(<li class="ml-4 list-disc">.+<\/li>\n?)+/g,'<ul class="my-2 space-y-1">$&</ul>'),r=r.replace(/(<li class="ml-4 list-decimal">.+<\/li>\n?)+/g,'<ol class="my-2 space-y-1">$&</ol>'),r=r.replace(/\n/g,"<br/>"),r},[t]);return l.jsx("div",{className:`prose prose-sm max-w-none dark:prose-invert ${e}`,dangerouslySetInnerHTML:{__html:n}})}function Qh(t,[e,n]){return Math.min(n,Math.max(e,t))}function z4(t){const e=B4(t),n=m.forwardRef((r,i)=>{const{children:o,...u}=r,d=m.Children.toArray(o),f=d.find(V4);if(f){const p=f.props.children,g=d.map(y=>y===f?m.Children.count(p)>1?m.Children.only(null):m.isValidElement(p)?p.props.children:null:y);return l.jsx(e,{...u,ref:i,children:m.isValidElement(p)?m.cloneElement(p,void 0,g):null})}return l.jsx(e,{...u,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function B4(t){const e=m.forwardRef((n,r)=>{const{children:i,...o}=n;if(m.isValidElement(i)){const u=q4(i),d=H4(o,i.props);return i.type!==m.Fragment&&(d.ref=r?Ir(r,u):u),m.cloneElement(i,d)}return m.Children.count(i)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var W4=Symbol("radix.slottable");function V4(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===W4}function H4(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...d)=>{const f=o(...d);return i(...d),f}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function q4(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function sm(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var K4=[" ","Enter","ArrowUp","ArrowDown"],G4=[" ","Enter"],ua="Select",[Vu,Hu,Y4]=yu(ua),[Ai]=sn(ua,[Y4,Ni]),qu=Ni(),[Q4,Es]=Ai(ua),[Z4,J4]=Ai(ua),yS=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:u,defaultValue:d,onValueChange:f,dir:p,name:g,autoComplete:y,disabled:S,required:b,form:k}=t,w=qu(e),[_,E]=m.useState(null),[C,N]=m.useState(null),[R,P]=m.useState(!1),M=il(p),[z,V]=Tr({prop:r,defaultProp:i??!1,onChange:o,caller:ua}),[F,Y]=Tr({prop:u,defaultProp:d,onChange:f,caller:ua}),te=m.useRef(null),Q=_?k||!!_.closest("form"):!0,[K,q]=m.useState(new Set),H=Array.from(K).map(J=>J.props.value).join(";");return l.jsx(p0,{...w,children:l.jsxs(Q4,{required:b,scope:e,trigger:_,onTriggerChange:E,valueNode:C,onValueNodeChange:N,valueNodeHasChildren:R,onValueNodeHasChildrenChange:P,contentId:lr(),value:F,onValueChange:Y,open:z,onOpenChange:V,dir:M,triggerPointerDownPosRef:te,disabled:S,children:[l.jsx(Vu.Provider,{scope:e,children:l.jsx(Z4,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(J=>{q(X=>new Set(X).add(J))},[]),onNativeOptionRemove:m.useCallback(J=>{q(X=>{const $=new Set(X);return $.delete(J),$})},[]),children:n})}),Q?l.jsxs(BS,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:y,value:F,onChange:J=>Y(J.target.value),disabled:S,form:k,children:[F===void 0?l.jsx("option",{value:""}):null,Array.from(K)]},H):null]})})};yS.displayName=ua;var wS="SelectTrigger",xS=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=qu(n),u=Es(wS,n),d=u.disabled||r,f=Le(e,u.onTriggerChange),p=Hu(n),g=m.useRef("touch"),[y,S,b]=VS(w=>{const _=p().filter(N=>!N.disabled),E=_.find(N=>N.value===u.value),C=HS(_,w,E);C!==void 0&&u.onValueChange(C.value)}),k=w=>{d||(u.onOpenChange(!0),b()),w&&(u.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return l.jsx(kp,{asChild:!0,...o,children:l.jsx(ke.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":WS(u.value)?"":void 0,...i,ref:f,onClick:ce(i.onClick,w=>{w.currentTarget.focus(),g.current!=="mouse"&&k(w)}),onPointerDown:ce(i.onPointerDown,w=>{g.current=w.pointerType;const _=w.target;_.hasPointerCapture(w.pointerId)&&_.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(k(w),w.preventDefault())}),onKeyDown:ce(i.onKeyDown,w=>{const _=y.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&S(w.key),!(_&&w.key===" ")&&K4.includes(w.key)&&(k(),w.preventDefault())})})})});xS.displayName=wS;var bS="SelectValue",_S=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:u="",...d}=t,f=Es(bS,n),{onValueNodeHasChildrenChange:p}=f,g=o!==void 0,y=Le(e,f.onValueNodeChange);return Ct(()=>{p(g)},[p,g]),l.jsx(ke.span,{...d,ref:y,style:{pointerEvents:"none"},children:WS(f.value)?l.jsx(l.Fragment,{children:u}):o})});_S.displayName=bS;var X4="SelectIcon",SS=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return l.jsx(ke.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});SS.displayName=X4;var e$="SelectPortal",kS=t=>l.jsx(Zo,{asChild:!0,...t});kS.displayName=e$;var da="SelectContent",jS=m.forwardRef((t,e)=>{const n=Es(da,t.__scopeSelect),[r,i]=m.useState();if(Ct(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Si.createPortal(l.jsx(ES,{scope:t.__scopeSelect,children:l.jsx(Vu.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),o):null}return l.jsx(CS,{...t,ref:e})});jS.displayName=da;var Un=10,[ES,Cs]=Ai(da),t$="SelectContentImpl",n$=z4("SelectContent.RemoveScroll"),CS=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:u,side:d,sideOffset:f,align:p,alignOffset:g,arrowPadding:y,collisionBoundary:S,collisionPadding:b,sticky:k,hideWhenDetached:w,avoidCollisions:_,...E}=t,C=Es(da,n),[N,R]=m.useState(null),[P,M]=m.useState(null),z=Le(e,Z=>R(Z)),[V,F]=m.useState(null),[Y,te]=m.useState(null),Q=Hu(n),[K,q]=m.useState(!1),H=m.useRef(!1);m.useEffect(()=>{if(N)return Bp(N)},[N]),zp();const J=m.useCallback(Z=>{const[be,...Pe]=Q().map(Xe=>Xe.ref.current),[Ae]=Pe.slice(-1),Ve=document.activeElement;for(const Xe of Z)if(Xe===Ve||(Xe?.scrollIntoView({block:"nearest"}),Xe===be&&P&&(P.scrollTop=0),Xe===Ae&&P&&(P.scrollTop=P.scrollHeight),Xe?.focus(),document.activeElement!==Ve))return},[Q,P]),X=m.useCallback(()=>J([V,N]),[J,V,N]);m.useEffect(()=>{K&&X()},[K,X]);const{onOpenChange:$,triggerPointerDownPosRef:D}=C;m.useEffect(()=>{if(N){let Z={x:0,y:0};const be=Ae=>{Z={x:Math.abs(Math.round(Ae.pageX)-(D.current?.x??0)),y:Math.abs(Math.round(Ae.pageY)-(D.current?.y??0))}},Pe=Ae=>{Z.x<=10&&Z.y<=10?Ae.preventDefault():N.contains(Ae.target)||$(!1),document.removeEventListener("pointermove",be),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[N,$,D]),m.useEffect(()=>{const Z=()=>$(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[$]);const[G,T]=VS(Z=>{const be=Q().filter(Ve=>!Ve.disabled),Pe=be.find(Ve=>Ve.ref.current===document.activeElement),Ae=HS(be,Z,Pe);Ae&&setTimeout(()=>Ae.ref.current.focus())}),L=m.useCallback((Z,be,Pe)=>{const Ae=!H.current&&!Pe;(C.value!==void 0&&C.value===be||Ae)&&(F(Z),Ae&&(H.current=!0))},[C.value]),ne=m.useCallback(()=>N?.focus(),[N]),se=m.useCallback((Z,be,Pe)=>{const Ae=!H.current&&!Pe;(C.value!==void 0&&C.value===be||Ae)&&te(Z)},[C.value]),ye=r==="popper"?Zh:NS,Se=ye===Zh?{side:d,sideOffset:f,align:p,alignOffset:g,arrowPadding:y,collisionBoundary:S,collisionPadding:b,sticky:k,hideWhenDetached:w,avoidCollisions:_}:{};return l.jsx(ES,{scope:n,content:N,viewport:P,onViewportChange:M,itemRefCallback:L,selectedItem:V,onItemLeave:ne,itemTextRefCallback:se,focusSelectedItem:X,selectedItemText:Y,position:r,isPositioned:K,searchRef:G,children:l.jsx(Lu,{as:n$,allowPinchZoom:!0,children:l.jsx(Du,{asChild:!0,trapped:C.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:ce(i,Z=>{C.trigger?.focus({preventScroll:!0}),Z.preventDefault()}),children:l.jsx(ki,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:l.jsx(ye,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:Z=>Z.preventDefault(),...E,...Se,onPlaced:()=>q(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:ce(E.onKeyDown,Z=>{const be=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!be&&Z.key.length===1&&T(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let Ae=Q().filter(Ve=>!Ve.disabled).map(Ve=>Ve.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(Ae=Ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const Ve=Z.target,Xe=Ae.indexOf(Ve);Ae=Ae.slice(Xe+1)}setTimeout(()=>J(Ae)),Z.preventDefault()}})})})})})})});CS.displayName=t$;var r$="SelectItemAlignedPosition",NS=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=Es(da,n),u=Cs(da,n),[d,f]=m.useState(null),[p,g]=m.useState(null),y=Le(e,z=>g(z)),S=Hu(n),b=m.useRef(!1),k=m.useRef(!0),{viewport:w,selectedItem:_,selectedItemText:E,focusSelectedItem:C}=u,N=m.useCallback(()=>{if(o.trigger&&o.valueNode&&d&&p&&w&&_&&E){const z=o.trigger.getBoundingClientRect(),V=p.getBoundingClientRect(),F=o.valueNode.getBoundingClientRect(),Y=E.getBoundingClientRect();if(o.dir!=="rtl"){const Ve=Y.left-V.left,Xe=F.left-Ve,gt=z.left-Xe,an=z.width+gt,$r=Math.max(an,V.width),gr=window.innerWidth-Un,vr=Qh(Xe,[Un,Math.max(Un,gr-$r)]);d.style.minWidth=an+"px",d.style.left=vr+"px"}else{const Ve=V.right-Y.right,Xe=window.innerWidth-F.right-Ve,gt=window.innerWidth-z.right-Xe,an=z.width+gt,$r=Math.max(an,V.width),gr=window.innerWidth-Un,vr=Qh(Xe,[Un,Math.max(Un,gr-$r)]);d.style.minWidth=an+"px",d.style.right=vr+"px"}const te=S(),Q=window.innerHeight-Un*2,K=w.scrollHeight,q=window.getComputedStyle(p),H=parseInt(q.borderTopWidth,10),J=parseInt(q.paddingTop,10),X=parseInt(q.borderBottomWidth,10),$=parseInt(q.paddingBottom,10),D=H+J+K+$+X,G=Math.min(_.offsetHeight*5,D),T=window.getComputedStyle(w),L=parseInt(T.paddingTop,10),ne=parseInt(T.paddingBottom,10),se=z.top+z.height/2-Un,ye=Q-se,Se=_.offsetHeight/2,Z=_.offsetTop+Se,be=H+J+Z,Pe=D-be;if(be<=se){const Ve=te.length>0&&_===te[te.length-1].ref.current;d.style.bottom="0px";const Xe=p.clientHeight-w.offsetTop-w.offsetHeight,gt=Math.max(ye,Se+(Ve?ne:0)+Xe+X),an=be+gt;d.style.height=an+"px"}else{const Ve=te.length>0&&_===te[0].ref.current;d.style.top="0px";const gt=Math.max(se,H+w.offsetTop+(Ve?L:0)+Se)+Pe;d.style.height=gt+"px",w.scrollTop=be-se+w.offsetTop}d.style.margin=`${Un}px 0`,d.style.minHeight=G+"px",d.style.maxHeight=Q+"px",r?.(),requestAnimationFrame(()=>b.current=!0)}},[S,o.trigger,o.valueNode,d,p,w,_,E,o.dir,r]);Ct(()=>N(),[N]);const[R,P]=m.useState();Ct(()=>{p&&P(window.getComputedStyle(p).zIndex)},[p]);const M=m.useCallback(z=>{z&&k.current===!0&&(N(),C?.(),k.current=!1)},[N,C]);return l.jsx(a$,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:b,onScrollButtonChange:M,children:l.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:l.jsx(ke.div,{...i,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});NS.displayName=r$;var s$="SelectPopperPosition",Zh=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Un,...o}=t,u=qu(n);return l.jsx(jp,{...u,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Zh.displayName=s$;var[a$,am]=Ai(da,{}),Jh="SelectViewport",TS=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=Cs(Jh,n),u=am(Jh,n),d=Le(e,o.onViewportChange),f=m.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Vu.Slot,{scope:n,children:l.jsx(ke.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ce(i.onScroll,p=>{const g=p.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:S}=u;if(S?.current&&y){const b=Math.abs(f.current-g.scrollTop);if(b>0){const k=window.innerHeight-Un*2,w=parseFloat(y.style.minHeight),_=parseFloat(y.style.height),E=Math.max(w,_);if(E<k){const C=E+b,N=Math.min(k,C),R=C-N;y.style.height=N+"px",y.style.bottom==="0px"&&(g.scrollTop=R>0?R:0,y.style.justifyContent="flex-end")}}}f.current=g.scrollTop})})})]})});TS.displayName=Jh;var RS="SelectGroup",[i$,o$]=Ai(RS),l$=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=lr();return l.jsx(i$,{scope:n,id:i,children:l.jsx(ke.div,{role:"group","aria-labelledby":i,...r,ref:e})})});l$.displayName=RS;var PS="SelectLabel",OS=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=o$(PS,n);return l.jsx(ke.div,{id:i.id,...r,ref:e})});OS.displayName=PS;var hu="SelectItem",[c$,AS]=Ai(hu),IS=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...u}=t,d=Es(hu,n),f=Cs(hu,n),p=d.value===r,[g,y]=m.useState(o??""),[S,b]=m.useState(!1),k=Le(e,C=>f.itemRefCallback?.(C,r,i)),w=lr(),_=m.useRef("touch"),E=()=>{i||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(c$,{scope:n,value:r,disabled:i,textId:w,isSelected:p,onItemTextChange:m.useCallback(C=>{y(N=>N||(C?.textContent??"").trim())},[]),children:l.jsx(Vu.ItemSlot,{scope:n,value:r,disabled:i,textValue:g,children:l.jsx(ke.div,{role:"option","aria-labelledby":w,"data-highlighted":S?"":void 0,"aria-selected":p&&S,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...u,ref:k,onFocus:ce(u.onFocus,()=>b(!0)),onBlur:ce(u.onBlur,()=>b(!1)),onClick:ce(u.onClick,()=>{_.current!=="mouse"&&E()}),onPointerUp:ce(u.onPointerUp,()=>{_.current==="mouse"&&E()}),onPointerDown:ce(u.onPointerDown,C=>{_.current=C.pointerType}),onPointerMove:ce(u.onPointerMove,C=>{_.current=C.pointerType,i?f.onItemLeave?.():_.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ce(u.onPointerLeave,C=>{C.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:ce(u.onKeyDown,C=>{f.searchRef?.current!==""&&C.key===" "||(G4.includes(C.key)&&E(),C.key===" "&&C.preventDefault())})})})})});IS.displayName=hu;var Co="SelectItemText",DS=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,u=Es(Co,n),d=Cs(Co,n),f=AS(Co,n),p=J4(Co,n),[g,y]=m.useState(null),S=Le(e,E=>y(E),f.onItemTextChange,E=>d.itemTextRefCallback?.(E,f.value,f.disabled)),b=g?.textContent,k=m.useMemo(()=>l.jsx("option",{value:f.value,disabled:f.disabled,children:b},f.value),[f.disabled,f.value,b]),{onNativeOptionAdd:w,onNativeOptionRemove:_}=p;return Ct(()=>(w(k),()=>_(k)),[w,_,k]),l.jsxs(l.Fragment,{children:[l.jsx(ke.span,{id:f.textId,...o,ref:S}),f.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Si.createPortal(o.children,u.valueNode):null]})});DS.displayName=Co;var MS="SelectItemIndicator",LS=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return AS(MS,n).isSelected?l.jsx(ke.span,{"aria-hidden":!0,...r,ref:e}):null});LS.displayName=MS;var Xh="SelectScrollUpButton",$S=m.forwardRef((t,e)=>{const n=Cs(Xh,t.__scopeSelect),r=am(Xh,t.__scopeSelect),[i,o]=m.useState(!1),u=Le(e,r.onScrollButtonChange);return Ct(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=f.scrollTop>0;o(p)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?l.jsx(US,{...t,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});$S.displayName=Xh;var ep="SelectScrollDownButton",FS=m.forwardRef((t,e)=>{const n=Cs(ep,t.__scopeSelect),r=am(ep,t.__scopeSelect),[i,o]=m.useState(!1),u=Le(e,r.onScrollButtonChange);return Ct(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=f.scrollHeight-f.clientHeight,g=Math.ceil(f.scrollTop)<p;o(g)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?l.jsx(US,{...t,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});FS.displayName=ep;var US=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=Cs("SelectScrollButton",n),u=m.useRef(null),d=Hu(n),f=m.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return m.useEffect(()=>()=>f(),[f]),Ct(()=>{d().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),l.jsx(ke.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ce(i.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(r,50))}),onPointerMove:ce(i.onPointerMove,()=>{o.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(r,50))}),onPointerLeave:ce(i.onPointerLeave,()=>{f()})})}),u$="SelectSeparator",zS=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(ke.div,{"aria-hidden":!0,...r,ref:e})});zS.displayName=u$;var tp="SelectArrow",d$=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=qu(n),o=Es(tp,n),u=Cs(tp,n);return o.open&&u.position==="popper"?l.jsx(Ep,{...i,...r,ref:e}):null});d$.displayName=tp;var f$="SelectBubbleInput",BS=m.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=m.useRef(null),o=Le(r,i),u=sm(e);return m.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(f,"value").set;if(u!==e&&g){const y=new Event("change",{bubbles:!0});g.call(d,e),d.dispatchEvent(y)}},[u,e]),l.jsx(ke.select,{...n,style:{...sx,...n.style},ref:o,defaultValue:e})});BS.displayName=f$;function WS(t){return t===""||t===void 0}function VS(t){const e=ht(t),n=m.useRef(""),r=m.useRef(0),i=m.useCallback(u=>{const d=n.current+u;e(d),(function f(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>f(""),1e3))})(d)},[e]),o=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function HS(t,e,n){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let u=h$(t,Math.max(o,0));i.length===1&&(u=u.filter(p=>p!==n));const f=u.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==n?f:void 0}function h$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var p$=yS,qS=xS,m$=_S,g$=SS,v$=kS,KS=jS,y$=TS,GS=OS,YS=IS,w$=DS,x$=LS,QS=$S,ZS=FS,JS=zS;const Vn=p$,Hn=m$,kn=m.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(qS,{ref:r,className:he("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(g$,{asChild:!0,children:l.jsx(Cx,{className:"h-4 w-4 opacity-50"})})]}));kn.displayName=qS.displayName;const XS=m.forwardRef(({className:t,...e},n)=>l.jsx(QS,{ref:n,className:he("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(nC,{className:"h-4 w-4"})}));XS.displayName=QS.displayName;const e1=m.forwardRef(({className:t,...e},n)=>l.jsx(ZS,{ref:n,className:he("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Cx,{className:"h-4 w-4"})}));e1.displayName=ZS.displayName;const jn=m.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>l.jsx(v$,{children:l.jsxs(KS,{ref:i,className:he("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(XS,{}),l.jsx(y$,{className:he("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(e1,{})]})}));jn.displayName=KS.displayName;const b$=m.forwardRef(({className:t,...e},n)=>l.jsx(GS,{ref:n,className:he("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));b$.displayName=GS.displayName;const We=m.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(YS,{ref:r,className:he("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(x$,{children:l.jsx(Oo,{className:"h-4 w-4"})})}),l.jsx(w$,{children:e})]}));We.displayName=YS.displayName;const _$=m.forwardRef(({className:t,...e},n)=>l.jsx(JS,{ref:n,className:he("-mx-1 my-1 h-px bg-muted",t),...e}));_$.displayName=JS.displayName;const t1=qp,S$=Kp,n1=m.forwardRef(({className:t,...e},n)=>l.jsx(nl,{className:he("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));n1.displayName=nl.displayName;const k$=Xo("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),im=m.forwardRef(({side:t="right",className:e,children:n,...r},i)=>l.jsxs(S$,{children:[l.jsx(n1,{}),l.jsxs(rl,{ref:i,className:he(k$({side:t}),e),...r,children:[n,l.jsxs(Fu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(ea,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));im.displayName=rl.displayName;const om=({className:t,...e})=>l.jsx("div",{className:he("flex flex-col space-y-2 text-center sm:text-left",t),...e});om.displayName="SheetHeader";const lm=m.forwardRef(({className:t,...e},n)=>l.jsx(sl,{ref:n,className:he("text-lg font-semibold text-foreground",t),...e}));lm.displayName=sl.displayName;const cm=m.forwardRef(({className:t,...e},n)=>l.jsx(al,{ref:n,className:he("text-sm text-muted-foreground",t),...e}));cm.displayName=al.displayName;function j$(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var um="ScrollArea",[r1]=sn(um),[E$,Nn]=r1(um),s1=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...u}=t,[d,f]=m.useState(null),[p,g]=m.useState(null),[y,S]=m.useState(null),[b,k]=m.useState(null),[w,_]=m.useState(null),[E,C]=m.useState(0),[N,R]=m.useState(0),[P,M]=m.useState(!1),[z,V]=m.useState(!1),F=Le(e,te=>f(te)),Y=il(i);return l.jsx(E$,{scope:n,type:r,dir:Y,scrollHideDelay:o,scrollArea:d,viewport:p,onViewportChange:g,content:y,onContentChange:S,scrollbarX:b,onScrollbarXChange:k,scrollbarXEnabled:P,onScrollbarXEnabledChange:M,scrollbarY:w,onScrollbarYChange:_,scrollbarYEnabled:z,onScrollbarYEnabledChange:V,onCornerWidthChange:C,onCornerHeightChange:R,children:l.jsx(ke.div,{dir:Y,...u,ref:F,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":N+"px",...t.style}})})});s1.displayName=um;var a1="ScrollAreaViewport",i1=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=t,u=Nn(a1,n),d=m.useRef(null),f=Le(e,d,u.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),l.jsx(ke.div,{"data-radix-scroll-area-viewport":"",...o,ref:f,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...t.style},children:l.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});i1.displayName=a1;var mr="ScrollAreaScrollbar",dm=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Nn(mr,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:u}=i,d=t.orientation==="horizontal";return m.useEffect(()=>(d?o(!0):u(!0),()=>{d?o(!1):u(!1)}),[d,o,u]),i.type==="hover"?l.jsx(C$,{...r,ref:e,forceMount:n}):i.type==="scroll"?l.jsx(N$,{...r,ref:e,forceMount:n}):i.type==="auto"?l.jsx(o1,{...r,ref:e,forceMount:n}):i.type==="always"?l.jsx(fm,{...r,ref:e}):null});dm.displayName=mr;var C$=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Nn(mr,t.__scopeScrollArea),[o,u]=m.useState(!1);return m.useEffect(()=>{const d=i.scrollArea;let f=0;if(d){const p=()=>{window.clearTimeout(f),u(!0)},g=()=>{f=window.setTimeout(()=>u(!1),i.scrollHideDelay)};return d.addEventListener("pointerenter",p),d.addEventListener("pointerleave",g),()=>{window.clearTimeout(f),d.removeEventListener("pointerenter",p),d.removeEventListener("pointerleave",g)}}},[i.scrollArea,i.scrollHideDelay]),l.jsx($t,{present:n||o,children:l.jsx(o1,{"data-state":o?"visible":"hidden",...r,ref:e})})}),N$=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Nn(mr,t.__scopeScrollArea),o=t.orientation==="horizontal",u=Gu(()=>f("SCROLL_END"),100),[d,f]=j$("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(d==="idle"){const p=window.setTimeout(()=>f("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(p)}},[d,i.scrollHideDelay,f]),m.useEffect(()=>{const p=i.viewport,g=o?"scrollLeft":"scrollTop";if(p){let y=p[g];const S=()=>{const b=p[g];y!==b&&(f("SCROLL"),u()),y=b};return p.addEventListener("scroll",S),()=>p.removeEventListener("scroll",S)}},[i.viewport,o,f,u]),l.jsx($t,{present:n||d!=="hidden",children:l.jsx(fm,{"data-state":d==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ce(t.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:ce(t.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),o1=m.forwardRef((t,e)=>{const n=Nn(mr,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,u]=m.useState(!1),d=t.orientation==="horizontal",f=Gu(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,g=n.viewport.offsetHeight<n.viewport.scrollHeight;u(d?p:g)}},10);return bi(n.viewport,f),bi(n.content,f),l.jsx($t,{present:r||o,children:l.jsx(fm,{"data-state":o?"visible":"hidden",...i,ref:e})})}),fm=m.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Nn(mr,t.__scopeScrollArea),o=m.useRef(null),u=m.useRef(0),[d,f]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=f1(d.viewport,d.content),g={...r,sizes:d,onSizesChange:f,hasThumb:p>0&&p<1,onThumbChange:S=>o.current=S,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:S=>u.current=S};function y(S,b){return I$(S,u.current,d,b)}return n==="horizontal"?l.jsx(T$,{...g,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const S=i.viewport.scrollLeft,b=Qw(S,d,i.dir);o.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:S=>{i.viewport&&(i.viewport.scrollLeft=S)},onDragScroll:S=>{i.viewport&&(i.viewport.scrollLeft=y(S,i.dir))}}):n==="vertical"?l.jsx(R$,{...g,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const S=i.viewport.scrollTop,b=Qw(S,d);o.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:S=>{i.viewport&&(i.viewport.scrollTop=S)},onDragScroll:S=>{i.viewport&&(i.viewport.scrollTop=y(S))}}):null}),T$=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Nn(mr,t.__scopeScrollArea),[u,d]=m.useState(),f=m.useRef(null),p=Le(e,f,o.onScrollbarXChange);return m.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),l.jsx(c1,{"data-orientation":"horizontal",...i,ref:p,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ku(n)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.x),onDragScroll:g=>t.onDragScroll(g.x),onWheelScroll:(g,y)=>{if(o.viewport){const S=o.viewport.scrollLeft+g.deltaX;t.onWheelScroll(S),p1(S,y)&&g.preventDefault()}},onResize:()=>{f.current&&o.viewport&&u&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:mu(u.paddingLeft),paddingEnd:mu(u.paddingRight)}})}})}),R$=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Nn(mr,t.__scopeScrollArea),[u,d]=m.useState(),f=m.useRef(null),p=Le(e,f,o.onScrollbarYChange);return m.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),l.jsx(c1,{"data-orientation":"vertical",...i,ref:p,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ku(n)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.y),onDragScroll:g=>t.onDragScroll(g.y),onWheelScroll:(g,y)=>{if(o.viewport){const S=o.viewport.scrollTop+g.deltaY;t.onWheelScroll(S),p1(S,y)&&g.preventDefault()}},onResize:()=>{f.current&&o.viewport&&u&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:mu(u.paddingTop),paddingEnd:mu(u.paddingBottom)}})}})}),[P$,l1]=r1(mr),c1=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:u,onThumbPointerDown:d,onThumbPositionChange:f,onDragScroll:p,onWheelScroll:g,onResize:y,...S}=t,b=Nn(mr,n),[k,w]=m.useState(null),_=Le(e,F=>w(F)),E=m.useRef(null),C=m.useRef(""),N=b.viewport,R=r.content-r.viewport,P=ht(g),M=ht(f),z=Gu(y,10);function V(F){if(E.current){const Y=F.clientX-E.current.left,te=F.clientY-E.current.top;p({x:Y,y:te})}}return m.useEffect(()=>{const F=Y=>{const te=Y.target;k?.contains(te)&&P(Y,R)};return document.addEventListener("wheel",F,{passive:!1}),()=>document.removeEventListener("wheel",F,{passive:!1})},[N,k,R,P]),m.useEffect(M,[r,M]),bi(k,z),bi(b.content,z),l.jsx(P$,{scope:n,scrollbar:k,hasThumb:i,onThumbChange:ht(o),onThumbPointerUp:ht(u),onThumbPositionChange:M,onThumbPointerDown:ht(d),children:l.jsx(ke.div,{...S,ref:_,style:{position:"absolute",...S.style},onPointerDown:ce(t.onPointerDown,F=>{F.button===0&&(F.target.setPointerCapture(F.pointerId),E.current=k.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),V(F))}),onPointerMove:ce(t.onPointerMove,V),onPointerUp:ce(t.onPointerUp,F=>{const Y=F.target;Y.hasPointerCapture(F.pointerId)&&Y.releasePointerCapture(F.pointerId),document.body.style.webkitUserSelect=C.current,b.viewport&&(b.viewport.style.scrollBehavior=""),E.current=null})})})}),pu="ScrollAreaThumb",u1=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=l1(pu,t.__scopeScrollArea);return l.jsx($t,{present:n||i.hasThumb,children:l.jsx(O$,{ref:e,...r})})}),O$=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=Nn(pu,n),u=l1(pu,n),{onThumbPositionChange:d}=u,f=Le(e,y=>u.onThumbChange(y)),p=m.useRef(void 0),g=Gu(()=>{p.current&&(p.current(),p.current=void 0)},100);return m.useEffect(()=>{const y=o.viewport;if(y){const S=()=>{if(g(),!p.current){const b=D$(y,d);p.current=b,d()}};return d(),y.addEventListener("scroll",S),()=>y.removeEventListener("scroll",S)}},[o.viewport,g,d]),l.jsx(ke.div,{"data-state":u.hasThumb?"visible":"hidden",...i,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ce(t.onPointerDownCapture,y=>{const b=y.target.getBoundingClientRect(),k=y.clientX-b.left,w=y.clientY-b.top;u.onThumbPointerDown({x:k,y:w})}),onPointerUp:ce(t.onPointerUp,u.onThumbPointerUp)})});u1.displayName=pu;var hm="ScrollAreaCorner",d1=m.forwardRef((t,e)=>{const n=Nn(hm,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(A$,{...t,ref:e}):null});d1.displayName=hm;var A$=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Nn(hm,n),[o,u]=m.useState(0),[d,f]=m.useState(0),p=!!(o&&d);return bi(i.scrollbarX,()=>{const g=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(g),f(g)}),bi(i.scrollbarY,()=>{const g=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(g),u(g)}),p?l.jsx(ke.div,{...r,ref:e,style:{width:o,height:d,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function mu(t){return t?parseInt(t,10):0}function f1(t,e){const n=t/e;return isNaN(n)?0:n}function Ku(t){const e=f1(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function I$(t,e,n,r="ltr"){const i=Ku(n),o=i/2,u=e||o,d=i-u,f=n.scrollbar.paddingStart+u,p=n.scrollbar.size-n.scrollbar.paddingEnd-d,g=n.content-n.viewport,y=r==="ltr"?[0,g]:[g*-1,0];return h1([f,p],y)(t)}function Qw(t,e,n="ltr"){const r=Ku(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,u=e.content-e.viewport,d=o-r,f=n==="ltr"?[0,u]:[u*-1,0],p=Qh(t,f);return h1([0,u],[0,d])(p)}function h1(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function p1(t,e){return t>0&&t<e}var D$=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function i(){const o={left:t.scrollLeft,top:t.scrollTop},u=n.left!==o.left,d=n.top!==o.top;(u||d)&&e(),n=o,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function Gu(t,e){const n=ht(t),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function bi(t,e){const n=ht(e);Ct(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var m1=s1,M$=i1,L$=d1;const gu=m.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(m1,{ref:r,className:he("relative overflow-hidden",t),...n,children:[l.jsx(M$,{className:"h-full w-full rounded-[inherit]",children:e}),l.jsx(g1,{}),l.jsx(L$,{})]}));gu.displayName=m1.displayName;const g1=m.forwardRef(({className:t,orientation:e="vertical",...n},r)=>l.jsx(dm,{ref:r,orientation:e,className:he("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:l.jsx(u1,{className:"relative flex-1 rounded-full bg-border"})}));g1.displayName=dm.displayName;function $$(){const{user:t}=At(),{toast:e}=rn(),[n,r]=m.useState([]),[i,o]=m.useState([]),[u,d]=m.useState(!0),[f,p]=m.useState(""),[g,y]=m.useState("all"),[S,b]=m.useState(!1),[k,w]=m.useState(!1),[_,E]=m.useState(!1),[C,N]=m.useState(null),[R,P]=m.useState(!1),[M,z]=m.useState([]),[V,F]=m.useState({title:"",description:"",priority:"medium",status:"pending",assigned_to:"",due_date:""}),Y=async()=>{try{const{data:T,error:L}=await oe.from("tasks").select("*").order("created_at",{ascending:!1});if(L)throw L;const ne=await Promise.all((T||[]).map(async se=>{const ye={id:se.id,title:se.title,description:se.description,status:se.status,priority:se.priority,due_date:se.due_date,assigned_to:se.assigned_to,assigned_by:se.assigned_by,created_at:se.created_at,updated_at:se.updated_at,completed_at:se.completed_at,attachment_urls:null};if(se.assigned_to){const{data:Se}=await oe.from("profiles").select("full_name, avatar_url").eq("id",se.assigned_to).single();if(Se)return{...ye,assignee:Se}}return ye}));r(ne)}catch(T){console.error("Error fetching tasks:",T)}finally{d(!1)}},te=async()=>{const{data:T}=await oe.from("user_roles").select("user_id").eq("role","employee"),L=(T||[]).map(se=>se.user_id);if(L.length===0){o([]);return}const{data:ne}=await oe.from("profiles").select("id, full_name, avatar_url").eq("is_active",!0).in("id",L).order("full_name",{ascending:!0});o(ne||[])};m.useEffect(()=>{Y(),te()},[]);const Q=async()=>{if(!V.title.trim()){e({title:"Error",description:"Task title is required",variant:"destructive"});return}P(!0);try{const T=M.map(se=>se.url),{data:L,error:ne}=await oe.from("tasks").insert({title:V.title,description:V.description||null,priority:V.priority,status:V.status,assigned_to:V.assigned_to||null,assigned_by:t?.id,due_date:V.due_date||null,attachment_urls:T.length>0?T:null}).select().single();if(ne)throw ne;V.assigned_to&&L&&await oe.from("notifications").insert({user_id:V.assigned_to,title:"New Task Assigned",message:`You have been assigned a new task: **${V.title}**`,type:"task",related_type:"task",related_id:L.id}),e({title:"Task created",description:"The task has been created successfully."}),b(!1),H(),Y()}catch(T){const L=T instanceof Error?T.message:"Failed to create task";e({title:"Error",description:L,variant:"destructive"})}finally{P(!1)}},K=async()=>{if(C){P(!0);try{const T=M.map(se=>se.url),L={title:V.title,description:V.description||null,priority:V.priority,status:V.status,assigned_to:V.assigned_to||null,due_date:V.due_date||null,attachment_urls:T.length>0?T:null};V.status==="completed"&&(L.completed_at=new Date().toISOString());const{error:ne}=await oe.from("tasks").update(L).eq("id",C.id);if(ne)throw ne;V.assigned_to&&await oe.from("notifications").insert({user_id:V.assigned_to,title:"Task Updated",message:`Task **${V.title}** has been updated.`,type:"info",related_type:"task",related_id:C.id}),e({title:"Task updated",description:"The task has been updated successfully."}),w(!1),N(null),H(),Y()}catch(T){const L=T instanceof Error?T.message:"Failed to update task";e({title:"Error",description:L,variant:"destructive"})}finally{P(!1)}}},q=async T=>{try{const{error:L}=await oe.from("tasks").delete().eq("id",T);if(L)throw L;e({title:"Task deleted",description:"The task has been deleted."}),Y()}catch(L){const ne=L instanceof Error?L.message:"Failed to delete task";e({title:"Error",description:ne,variant:"destructive"})}},H=()=>{F({title:"",description:"",priority:"medium",status:"pending",assigned_to:"",due_date:""}),z([])},J=T=>{N(T),F({title:T.title,description:T.description||"",priority:T.priority,status:T.status,assigned_to:T.assigned_to||"",due_date:T.due_date?.split("T")[0]||""});const L=(T.attachment_urls||[]).map(ne=>({name:ne.split("/").pop()||"attachment",url:ne,type:ne.includes(".pdf")?"application/pdf":ne.match(/\.(jpg|jpeg|png|gif|webp)$/i)?"image/*":"application/octet-stream"}));z(L),w(!0)},X=T=>{N(T),E(!0)},$=T=>T.match(/\.(jpg|jpeg|png|gif|webp)$/i)?up:T.includes(".pdf")?bu:cp,D=n.filter(T=>{const L=T.title.toLowerCase().includes(f.toLowerCase())||T.description?.toLowerCase().includes(f.toLowerCase()),ne=g==="all"||T.status===g;return L&&ne}),G=()=>l.jsx(gu,{className:"max-h-[60vh]",children:l.jsxs("div",{className:"space-y-4 py-4 pr-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"title",children:"Title *"}),l.jsx(Je,{id:"title",placeholder:"Task title",value:V.title,onChange:T=>F({...V,title:T.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{children:"Description"}),l.jsx(vS,{value:V.description,onChange:T=>F({...V,description:T}),placeholder:"Task details with formatting...",rows:5}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Supports **bold**, *italic*, headers, and lists"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{children:"Priority"}),l.jsxs(Vn,{value:V.priority,onValueChange:T=>F({...V,priority:T}),children:[l.jsx(kn,{children:l.jsx(Hn,{})}),l.jsxs(jn,{children:[l.jsx(We,{value:"low",children:"Low"}),l.jsx(We,{value:"medium",children:"Medium"}),l.jsx(We,{value:"high",children:"High"}),l.jsx(We,{value:"urgent",children:"Urgent"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{children:"Status"}),l.jsxs(Vn,{value:V.status,onValueChange:T=>F({...V,status:T}),children:[l.jsx(kn,{children:l.jsx(Hn,{})}),l.jsxs(jn,{children:[l.jsx(We,{value:"pending",children:"Pending"}),l.jsx(We,{value:"in_progress",children:"In Progress"}),l.jsx(We,{value:"completed",children:"Completed"})]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{children:"Assign To"}),l.jsxs(Vn,{value:V.assigned_to,onValueChange:T=>F({...V,assigned_to:T}),children:[l.jsx(kn,{children:l.jsx(Hn,{placeholder:"Select employee"})}),l.jsx(jn,{children:i.map(T=>l.jsx(We,{value:T.id,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(mn,{size:"sm",src:T.avatar_url,fallback:T.full_name}),l.jsx("span",{children:T.full_name})]})},T.id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"due_date",children:"Due Date"}),l.jsx(Je,{id:"due_date",type:"date",value:V.due_date,onChange:T=>F({...V,due_date:T.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{children:"Attachments"}),l.jsx(U4,{bucket:"task-attachments",files:M,onChange:z,maxFiles:5,maxSizeMB:10,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx"})]})]})});return l.jsx(js,{children:l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Tasks"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage and assign tasks to your team"})]}),l.jsxs(xi,{open:S,onOpenChange:T=>{b(T),T||H()},children:[l.jsx(Gp,{asChild:!0,children:l.jsxs(De,{className:"gradient-primary",children:[l.jsx(Ox,{className:"h-4 w-4 mr-2"}),"Create Task"]})}),l.jsxs(aa,{className:"sm:max-w-lg",children:[l.jsxs(ia,{children:[l.jsx(la,{children:"Create New Task"}),l.jsx(ca,{children:"Add a new task with rich content and attachments"})]}),l.jsx(G,{}),l.jsxs(oa,{children:[l.jsx(De,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),l.jsx(De,{onClick:Q,disabled:R,children:R?l.jsxs(l.Fragment,{children:[l.jsx(pt,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Task"})]})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(fp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Je,{placeholder:"Search tasks...",value:f,onChange:T=>p(T.target.value),className:"pl-10"})]}),l.jsxs(Vn,{value:g,onValueChange:y,children:[l.jsx(kn,{className:"w-[180px]",children:l.jsx(Hn,{placeholder:"Filter by status"})}),l.jsxs(jn,{children:[l.jsx(We,{value:"all",children:"All Status"}),l.jsx(We,{value:"pending",children:"Pending"}),l.jsx(We,{value:"in_progress",children:"In Progress"}),l.jsx(We,{value:"completed",children:"Completed"}),l.jsx(We,{value:"cancelled",children:"Cancelled"})]})]})]}),u?l.jsx("div",{className:"space-y-4",children:[...Array(5)].map((T,L)=>l.jsx("div",{className:"rounded-2xl bg-card p-6 animate-pulse",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-1/3"}),l.jsx("div",{className:"h-4 bg-muted rounded w-1/4"})]})},L))}):D.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-muted-foreground",children:"No tasks found"})}):l.jsx("div",{className:"space-y-4",children:D.map(T=>l.jsx("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-lg cursor-pointer",onClick:()=>X(T),children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h3",{className:"font-semibold text-lg",children:T.title}),l.jsx(yi,{priority:T.priority}),l.jsx(_s,{status:T.status}),T.attachment_urls&&T.attachment_urls.length>0&&l.jsxs("span",{className:"flex items-center gap-1 text-xs text-muted-foreground bg-muted px-2 py-1 rounded-full",children:[l.jsx(di,{className:"h-3 w-3"}),T.attachment_urls.length]})]}),T.description&&l.jsx("p",{className:"text-muted-foreground text-sm mb-3 line-clamp-2",children:T.description.replace(/\*\*/g,"").replace(/\*/g,"").replace(/#+\s/g,"")}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[T.assignee&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(mn,{size:"sm",src:T.assignee.avatar_url,fallback:T.assignee.full_name}),l.jsx("span",{children:T.assignee.full_name})]}),T.due_date&&!isNaN(new Date(T.due_date).getTime())&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(fr,{className:"h-4 w-4"}),l.jsx("span",{children:Ue(new Date(T.due_date),"MMM d, yyyy")})]})]})]}),l.jsxs(mS,{children:[l.jsx(gS,{asChild:!0,onClick:L=>L.stopPropagation(),children:l.jsx(De,{variant:"ghost",size:"icon",children:l.jsx(Tx,{className:"h-4 w-4"})})}),l.jsxs(nm,{align:"end",children:[l.jsxs(Qs,{onClick:L=>{L.stopPropagation(),X(T)},children:[l.jsx(lp,{className:"h-4 w-4 mr-2"}),"View Details"]}),l.jsxs(Qs,{onClick:L=>{L.stopPropagation(),J(T)},children:[l.jsx(mh,{className:"h-4 w-4 mr-2"}),"Edit"]}),l.jsxs(Qs,{onClick:L=>{L.stopPropagation(),q(T.id)},className:"text-destructive",children:[l.jsx(Dx,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})},T.id))}),l.jsx(xi,{open:k,onOpenChange:T=>{w(T),T||(N(null),H())},children:l.jsxs(aa,{className:"sm:max-w-lg",children:[l.jsxs(ia,{children:[l.jsx(la,{children:"Edit Task"}),l.jsx(ca,{children:"Update task details and attachments"})]}),l.jsx(G,{}),l.jsxs(oa,{children:[l.jsx(De,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),l.jsx(De,{onClick:K,disabled:R,children:R?l.jsxs(l.Fragment,{children:[l.jsx(pt,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})}),l.jsx(t1,{open:_,onOpenChange:E,children:l.jsx(im,{className:"sm:max-w-lg",children:C&&l.jsxs(l.Fragment,{children:[l.jsxs(om,{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(yi,{priority:C.priority}),l.jsx(_s,{status:C.status})]}),l.jsx(lm,{className:"text-xl",children:C.title}),l.jsxs(cm,{children:["Created ",isNaN(new Date(C.created_at).getTime())?"Unknown":Ue(new Date(C.created_at),"MMM d, yyyy")]})]}),l.jsx(gu,{className:"h-[calc(100vh-200px)] mt-6",children:l.jsxs("div",{className:"space-y-6 pr-4",children:[C.description&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Description"}),l.jsx("div",{className:"rounded-lg bg-muted p-4",children:l.jsx(rm,{content:C.description})})]}),C.assignee&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Assigned To"}),l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted",children:[l.jsx(mn,{src:C.assignee.avatar_url,fallback:C.assignee.full_name}),l.jsx("span",{children:C.assignee.full_name})]})]}),C.due_date&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Due Date"}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted",children:[l.jsx(fr,{className:"h-5 w-5 text-primary"}),l.jsx("span",{children:isNaN(new Date(C.due_date).getTime())?"Invalid date":Ue(new Date(C.due_date),"MMMM d, yyyy")})]})]}),C.attachment_urls&&C.attachment_urls.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Attachments"}),l.jsx("div",{className:"space-y-2",children:C.attachment_urls.map((T,L)=>{const ne=$(T),se=T.split("/").pop()||"attachment";return l.jsxs("a",{href:T,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 rounded-lg bg-muted hover:bg-muted/80 transition-colors",children:[l.jsx(ne,{className:"h-5 w-5 text-primary"}),l.jsx("span",{className:"flex-1 text-sm truncate",children:se})]},L)})})]}),l.jsx("div",{className:"pt-4 flex gap-2",children:l.jsxs(De,{onClick:()=>{E(!1),J(C)},className:"flex-1",children:[l.jsx(mh,{className:"h-4 w-4 mr-2"}),"Edit Task"]})})]})})]})})})]})})}function F$(){const{toast:t}=rn(),[e,n]=m.useState([]),[r,i]=m.useState(!0),[o,u]=m.useState(!1),[d,f]=m.useState(""),[p,g]=m.useState("all"),[y,S]=m.useState(new Date().toISOString().split("T")[0]),[b,k]=m.useState(Ue(new Date,"yyyy-MM")),[w,_]=m.useState("day"),E=async()=>{i(!0);try{let P=oe.from("attendance").select("*").order("check_in",{ascending:!1});if(w==="day"&&y){const F=`${y}T00:00:00`,Y=`${y}T23:59:59`;P=P.gte("check_in",F).lte("check_in",Y)}else if(w==="month"&&b){const[F,Y]=b.split("-").map(Number),te=II(new Date(F,Y-1)),Q=AI(new Date(F,Y-1));P=P.gte("check_in",te.toISOString()).lte("check_in",Q.toISOString())}const{data:M,error:z}=await P;if(z)throw z;const V=await Promise.all((M||[]).map(async F=>{const{data:Y}=await oe.from("profiles").select("full_name, avatar_url, department").eq("id",F.user_id).single();return{...F,user:Y||void 0}}));n(V)}catch(P){console.error("Error fetching attendance:",P),t({title:"Error",description:"Failed to load attendance records",variant:"destructive"})}finally{i(!1)}};m.useEffect(()=>{E()},[y,b,w]),m.useEffect(()=>{const P=oe.channel("attendance-realtime").on("postgres_changes",{event:"*",schema:"public",table:"attendance"},()=>{E()}).subscribe();return()=>{oe.removeChannel(P).catch(M=>console.log("Channel removal error:",M))}},[y,b,w]);const C=e.filter(P=>{const M=P.user?.full_name.toLowerCase().includes(d.toLowerCase())||P.user?.department?.toLowerCase().includes(d.toLowerCase()),z=p==="all"||P.status===p;return M&&z}),N=(P,M)=>{if(!M)return"In progress";const z=new Date(P),F=new Date(M).getTime()-z.getTime(),Y=Math.floor(F/(1e3*60*60)),te=Math.floor(F%(1e3*60*60)/(1e3*60));return`${Y}h ${te}m`},R=async()=>{u(!0);try{const P=["Employee","Department","Date","Check In","Check Out","Duration","Status"],M=C.map(te=>{const Q=new Date(te.check_in),K=te.check_out?new Date(te.check_out):null,q=!isNaN(Q.getTime()),H=K&&!isNaN(K.getTime());return[te.user?.full_name||"Unknown",te.user?.department||"N/A",q?Ue(Q,"yyyy-MM-dd"):"Invalid",q?Ue(Q,"h:mm a"):"Invalid",H?Ue(K,"h:mm a"):"-",N(te.check_in,te.check_out),te.status]}),z=[P.join(","),...M.map(te=>te.map(Q=>`"${Q}"`).join(","))].join(`
`),V=new Blob([z],{type:"text/csv;charset=utf-8;"}),F=document.createElement("a"),Y=URL.createObjectURL(V);F.setAttribute("href",Y),F.setAttribute("download",`attendance_${w==="day"?y:b}.csv`),F.style.visibility="hidden",document.body.appendChild(F),F.click(),document.body.removeChild(F),t({title:"Export successful",description:"Attendance data has been exported to CSV."})}catch{t({title:"Export failed",description:"Failed to export attendance data",variant:"destructive"})}finally{u(!1)}};return l.jsx(js,{children:l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Attendance"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Track team attendance and working hours"})]}),l.jsx(De,{onClick:R,disabled:o||C.length===0,variant:"outline",children:o?l.jsxs(l.Fragment,{children:[l.jsx(pt,{className:"h-4 w-4 mr-2 animate-spin"}),"Exporting..."]}):l.jsxs(l.Fragment,{children:[l.jsx(oC,{className:"h-4 w-4 mr-2"}),"Export to CSV"]})})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(fp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Je,{placeholder:"Search by name or department...",value:d,onChange:P=>f(P.target.value),className:"pl-10"})]}),l.jsxs(Vn,{value:w,onValueChange:P=>_(P),children:[l.jsx(kn,{className:"w-[140px]",children:l.jsx(Hn,{})}),l.jsxs(jn,{children:[l.jsx(We,{value:"day",children:"Daily View"}),l.jsx(We,{value:"month",children:"Monthly View"})]})]}),w==="day"?l.jsx(Je,{type:"date",value:y,onChange:P=>S(P.target.value),className:"w-[180px]"}):l.jsx(Je,{type:"month",value:b,onChange:P=>k(P.target.value),className:"w-[180px]"}),l.jsxs(Vn,{value:p,onValueChange:g,children:[l.jsx(kn,{className:"w-[140px]",children:l.jsx(Hn,{placeholder:"Filter by status"})}),l.jsxs(jn,{children:[l.jsx(We,{value:"all",children:"All Status"}),l.jsx(We,{value:"present",children:"Present"}),l.jsx(We,{value:"late",children:"Late"}),l.jsx(We,{value:"absent",children:"Absent"}),l.jsx(We,{value:"leave",children:"On Leave"})]})]})]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[l.jsxs("div",{className:"rounded-xl bg-success/10 p-4",children:[l.jsx("p",{className:"text-sm text-success font-medium",children:"Present"}),l.jsx("p",{className:"text-2xl font-bold text-success",children:C.filter(P=>P.status==="present").length})]}),l.jsxs("div",{className:"rounded-xl bg-warning/10 p-4",children:[l.jsx("p",{className:"text-sm text-warning font-medium",children:"Late"}),l.jsx("p",{className:"text-2xl font-bold text-warning",children:C.filter(P=>P.status==="late").length})]}),l.jsxs("div",{className:"rounded-xl bg-destructive/10 p-4",children:[l.jsx("p",{className:"text-sm text-destructive font-medium",children:"Absent"}),l.jsx("p",{className:"text-2xl font-bold text-destructive",children:C.filter(P=>P.status==="absent").length})]}),l.jsxs("div",{className:"rounded-xl bg-info/10 p-4",children:[l.jsx("p",{className:"text-sm text-info font-medium",children:"On Leave"}),l.jsx("p",{className:"text-2xl font-bold text-info",children:C.filter(P=>P.status==="leave").length})]})]}),r?l.jsx("div",{className:"space-y-4",children:[...Array(5)].map((P,M)=>l.jsx("div",{className:"rounded-2xl bg-card p-6 animate-pulse",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-full bg-muted"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-1/3"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/4"})]})]})},M))}):C.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(fr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No attendance records found"})]}):l.jsx("div",{className:"rounded-2xl bg-card shadow-card overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-muted/50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left p-4 font-medium",children:"Employee"}),w==="month"&&l.jsx("th",{className:"text-left p-4 font-medium",children:"Date"}),l.jsx("th",{className:"text-left p-4 font-medium",children:"Check In"}),l.jsx("th",{className:"text-left p-4 font-medium",children:"Check Out"}),l.jsx("th",{className:"text-left p-4 font-medium",children:"Duration"}),l.jsx("th",{className:"text-left p-4 font-medium",children:"Status"})]})}),l.jsx("tbody",{children:C.map(P=>l.jsxs("tr",{className:"border-t border-border hover:bg-muted/30 transition-colors",children:[l.jsx("td",{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{size:"md",src:P.user?.avatar_url,fallback:P.user?.full_name||"U"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:P.user?.full_name||"Unknown"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:P.user?.department||"No department"})]})]})}),w==="month"&&l.jsx("td",{className:"p-4 text-sm",children:P.check_in&&!isNaN(new Date(P.check_in).getTime())?Ue(new Date(P.check_in),"MMM d, yyyy"):"Invalid"}),l.jsx("td",{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(nn,{className:"h-4 w-4 text-muted-foreground"}),P.check_in&&!isNaN(new Date(P.check_in).getTime())?Ue(new Date(P.check_in),"h:mm a"):"Invalid"]})}),l.jsx("td",{className:"p-4",children:P.check_out&&!isNaN(new Date(P.check_out).getTime())?l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(nn,{className:"h-4 w-4 text-muted-foreground"}),Ue(new Date(P.check_out),"h:mm a")]}):l.jsx("span",{className:"text-sm text-muted-foreground",children:""})}),l.jsx("td",{className:"p-4 text-sm",children:N(P.check_in,P.check_out)}),l.jsx("td",{className:"p-4",children:l.jsx(_s,{status:P.status})})]},P.id))})]})})})]})})}var Yu="Switch",[U$]=sn(Yu),[z$,B$]=U$(Yu),v1=m.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:u,disabled:d,value:f="on",onCheckedChange:p,form:g,...y}=t,[S,b]=m.useState(null),k=Le(e,N=>b(N)),w=m.useRef(!1),_=S?g||!!S.closest("form"):!0,[E,C]=Tr({prop:i,defaultProp:o??!1,onChange:p,caller:Yu});return l.jsxs(z$,{scope:n,checked:E,disabled:d,children:[l.jsx(ke.button,{type:"button",role:"switch","aria-checked":E,"aria-required":u,"data-state":b1(E),"data-disabled":d?"":void 0,disabled:d,value:f,...y,ref:k,onClick:ce(t.onClick,N=>{C(R=>!R),_&&(w.current=N.isPropagationStopped(),w.current||N.stopPropagation())})}),_&&l.jsx(x1,{control:S,bubbles:!w.current,name:r,value:f,checked:E,required:u,disabled:d,form:g,style:{transform:"translateX(-100%)"}})]})});v1.displayName=Yu;var y1="SwitchThumb",w1=m.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=B$(y1,n);return l.jsx(ke.span,{"data-state":b1(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});w1.displayName=y1;var W$="SwitchBubbleInput",x1=m.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},o)=>{const u=m.useRef(null),d=Le(u,o),f=sm(n),p=bp(e);return m.useEffect(()=>{const g=u.current;if(!g)return;const y=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(y,"checked").set;if(f!==n&&b){const k=new Event("click",{bubbles:r});b.call(g,n),g.dispatchEvent(k)}},[f,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:d,style:{...i.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});x1.displayName=W$;function b1(t){return t?"checked":"unchecked"}var _1=v1,V$=w1;const _i=m.forwardRef(({className:t,...e},n)=>l.jsx(_1,{className:he("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:n,children:l.jsx(V$,{className:he("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));_i.displayName=_1.displayName;const H$=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function q$(){const{toast:t}=rn(),[e,n]=m.useState([]),[r,i]=m.useState(!0),[o,u]=m.useState(!1),d=async()=>{try{const{data:g,error:y}=await oe.from("attendance_schedule").select("*").order("day_of_week",{ascending:!0});if(y)throw y;n(g||[])}catch(g){console.error("Error fetching schedule:",g),t({title:"Error",description:"Failed to load attendance schedule",variant:"destructive"})}finally{i(!1)}};m.useEffect(()=>{d()},[]);const f=(g,y,S)=>{n(b=>b.map(k=>k.day_of_week===g?{...k,[y]:S}:k))},p=async()=>{u(!0);try{for(const g of e){const{error:y}=await oe.from("attendance_schedule").update({check_in_start:g.check_in_start,check_in_end:g.check_in_end,check_out_start:g.check_out_start,check_out_end:g.check_out_end,is_working_day:g.is_working_day}).eq("id",g.id);if(y)throw y}t({title:"Schedule saved",description:"Attendance schedule has been updated successfully."})}catch(g){t({title:"Error",description:g.message||"Failed to save schedule",variant:"destructive"})}finally{u(!1)}};return l.jsx(js,{children:l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Attendance Schedule"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Set expected check-in and check-out times for each day"})]}),l.jsx(De,{onClick:p,disabled:o,className:"gradient-primary",children:o?l.jsxs(l.Fragment,{children:[l.jsx(pt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ax,{className:"h-4 w-4 mr-2"}),"Save Schedule"]})})]}),r?l.jsx("div",{className:"space-y-4",children:[...Array(7)].map((g,y)=>l.jsx("div",{className:"rounded-xl bg-card p-6 animate-pulse",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-6 w-24 bg-muted rounded"}),l.jsxs("div",{className:"flex-1 grid grid-cols-4 gap-4",children:[l.jsx("div",{className:"h-10 bg-muted rounded"}),l.jsx("div",{className:"h-10 bg-muted rounded"}),l.jsx("div",{className:"h-10 bg-muted rounded"}),l.jsx("div",{className:"h-10 bg-muted rounded"})]})]})},y))}):l.jsx("div",{className:"space-y-4",children:e.map(g=>l.jsx("div",{className:`rounded-xl bg-card p-6 shadow-card transition-all ${g.is_working_day?"":"opacity-60"}`,children:l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4 lg:gap-8",children:[l.jsxs("div",{className:"flex items-center justify-between lg:justify-start lg:w-40 gap-4",children:[l.jsx("span",{className:"font-semibold text-lg",children:H$[g.day_of_week]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_i,{checked:g.is_working_day,onCheckedChange:y=>f(g.day_of_week,"is_working_day",y)}),l.jsx("span",{className:"text-sm text-muted-foreground",children:g.is_working_day?"Working":"Off"})]})]}),l.jsxs("div",{className:"flex-1 grid grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Fe,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(nn,{className:"h-3 w-3"}),"Check-in Start"]}),l.jsx(Je,{type:"time",value:g.check_in_start,onChange:y=>f(g.day_of_week,"check_in_start",y.target.value),disabled:!g.is_working_day})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Fe,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(nn,{className:"h-3 w-3"}),"Check-in End"]}),l.jsx(Je,{type:"time",value:g.check_in_end,onChange:y=>f(g.day_of_week,"check_in_end",y.target.value),disabled:!g.is_working_day})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Fe,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(nn,{className:"h-3 w-3"}),"Check-out Start"]}),l.jsx(Je,{type:"time",value:g.check_out_start,onChange:y=>f(g.day_of_week,"check_out_start",y.target.value),disabled:!g.is_working_day})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Fe,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(nn,{className:"h-3 w-3"}),"Check-out End"]}),l.jsx(Je,{type:"time",value:g.check_out_end,onChange:y=>f(g.day_of_week,"check_out_end",y.target.value),disabled:!g.is_working_day})]})]})]})},g.id))}),l.jsxs("div",{className:"rounded-xl bg-info/10 border border-info/20 p-4",children:[l.jsx("h3",{className:"font-semibold text-info mb-2",children:"How Attendance Status Works"}),l.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Present:"})," Employee checks in within the allowed time range"]}),l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Late:"})," Employee checks in after the check-in end time"]}),l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Absent:"})," No check-in recorded for a working day"]}),l.jsxs("li",{children:[" ",l.jsx("strong",{children:"On Leave:"})," Approved leave for the day"]})]})]})]})})}var Qu="Tabs",[K$]=sn(Qu,[Uu]),S1=Uu(),[G$,pm]=K$(Qu),k1=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:u="horizontal",dir:d,activationMode:f="automatic",...p}=t,g=il(d),[y,S]=Tr({prop:r,onChange:i,defaultProp:o??"",caller:Qu});return l.jsx(G$,{scope:n,baseId:lr(),value:y,onValueChange:S,orientation:u,dir:g,activationMode:f,children:l.jsx(ke.div,{dir:g,"data-orientation":u,...p,ref:e})})});k1.displayName=Qu;var j1="TabsList",E1=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=pm(j1,n),u=S1(n);return l.jsx(x_,{asChild:!0,...u,orientation:o.orientation,dir:o.dir,loop:r,children:l.jsx(ke.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});E1.displayName=j1;var C1="TabsTrigger",N1=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,u=pm(C1,n),d=S1(n),f=P1(u.baseId,r),p=O1(u.baseId,r),g=r===u.value;return l.jsx(b_,{asChild:!0,...d,focusable:!i,active:g,children:l.jsx(ke.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":p,"data-state":g?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:f,...o,ref:e,onMouseDown:ce(t.onMouseDown,y=>{!i&&y.button===0&&y.ctrlKey===!1?u.onValueChange(r):y.preventDefault()}),onKeyDown:ce(t.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&u.onValueChange(r)}),onFocus:ce(t.onFocus,()=>{const y=u.activationMode!=="manual";!g&&!i&&y&&u.onValueChange(r)})})})});N1.displayName=C1;var T1="TabsContent",R1=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...u}=t,d=pm(T1,n),f=P1(d.baseId,r),p=O1(d.baseId,r),g=r===d.value,y=m.useRef(g);return m.useEffect(()=>{const S=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(S)},[]),l.jsx($t,{present:i||g,children:({present:S})=>l.jsx(ke.div,{"data-state":g?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!S,id:p,tabIndex:0,...u,ref:e,style:{...t.style,animationDuration:y.current?"0s":void 0},children:S&&o})})});R1.displayName=T1;function P1(t,e){return`${t}-trigger-${e}`}function O1(t,e){return`${t}-content-${e}`}var Y$=k1,A1=E1,I1=N1,D1=R1;const M1=Y$,mm=m.forwardRef(({className:t,...e},n)=>l.jsx(A1,{ref:n,className:he("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));mm.displayName=A1.displayName;const Zs=m.forwardRef(({className:t,...e},n)=>l.jsx(I1,{ref:n,className:he("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Zs.displayName=I1.displayName;const Js=m.forwardRef(({className:t,...e},n)=>l.jsx(D1,{ref:n,className:he("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Js.displayName=D1.displayName;function Q$(){const{user:t}=At(),{toast:e}=rn(),[n,r]=m.useState([]),[i,o]=m.useState(!0),[u,d]=m.useState(null),f=async()=>{try{const{data:w,error:_}=await oe.from("leave_requests").select("*").order("created_at",{ascending:!1});if(_)throw _;const E=await Promise.all((w||[]).map(async C=>{const{data:N}=await oe.from("profiles").select("full_name, avatar_url, department").eq("id",C.user_id).single();return{...C,user:N||void 0}}));r(E)}catch(w){console.error("Error fetching leave requests:",w),e({title:"Error",description:"Failed to load leave requests",variant:"destructive"})}finally{o(!1)}};m.useEffect(()=>{f();const w=oe.channel("leave-requests").on("postgres_changes",{event:"*",schema:"public",table:"leave_requests"},()=>{f()}).subscribe();return()=>{oe.removeChannel(w).catch(_=>console.log("Channel removal error:",_))}},[]);const p=async w=>{if(t){d(w.id);try{const{error:_}=await oe.from("leave_requests").update({status:"approved",approved_by:t.id,approved_at:new Date().toISOString()}).eq("id",w.id);if(_)throw _;const E=new Date(w.start_date),C=new Date(w.end_date),N=[];for(let R=new Date(E);R<=C;R.setDate(R.getDate()+1))N.push({user_id:w.user_id,check_in:new Date(R).toISOString(),status:"leave",notes:`Approved leave: ${w.reason||"No reason provided"}`});N.length>0&&await oe.from("attendance").insert(N),await oe.from("notifications").insert({user_id:w.user_id,title:"Leave Request Approved",message:`Your leave request from ${Ue(E,"MMM d")} to ${Ue(C,"MMM d")} has been approved.`,type:"success",related_type:"leave",related_id:w.id}),e({title:"Leave approved",description:`Leave request for ${w.user?.full_name} has been approved.`}),f()}catch(_){e({title:"Error",description:_.message||"Failed to approve leave request",variant:"destructive"})}finally{d(null)}}},g=async w=>{if(t){d(w.id);try{const{error:_}=await oe.from("leave_requests").update({status:"declined",approved_by:t.id,approved_at:new Date().toISOString()}).eq("id",w.id);if(_)throw _;await oe.from("notifications").insert({user_id:w.user_id,title:"Leave Request Declined",message:`Your leave request from ${Ue(new Date(w.start_date),"MMM d")} to ${Ue(new Date(w.end_date),"MMM d")} has been declined.`,type:"error",related_type:"leave",related_id:w.id}),e({title:"Leave declined",description:`Leave request for ${w.user?.full_name} has been declined.`}),f()}catch(_){const E=_ instanceof Error?_.message:"Failed to decline leave request";e({title:"Error",description:E,variant:"destructive"})}finally{d(null)}}},y=n.filter(w=>w.status==="pending"),S=n.filter(w=>w.status==="approved"),b=n.filter(w=>w.status==="declined"),k=(w,_=!1)=>l.jsxs("div",{className:"rounded-xl bg-card p-4 shadow-card border border-border",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{size:"md",src:w.user?.avatar_url,fallback:w.user?.full_name||"U"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:w.user?.full_name||"Unknown"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:w.user?.department||"No department"})]})]}),_&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(De,{size:"sm",variant:"outline",className:"text-destructive hover:bg-destructive hover:text-destructive-foreground",onClick:()=>g(w),disabled:u===w.id,children:u===w.id?l.jsx(pt,{className:"h-4 w-4 animate-spin"}):l.jsx(ea,{className:"h-4 w-4"})}),l.jsx(De,{size:"sm",className:"bg-success hover:bg-success/90 text-success-foreground",onClick:()=>p(w),disabled:u===w.id,children:u===w.id?l.jsx(pt,{className:"h-4 w-4 animate-spin"}):l.jsx(Oo,{className:"h-4 w-4"})})]}),!_&&l.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${w.status==="approved"?"bg-success/10 text-success":"bg-destructive/10 text-destructive"}`,children:w.status.charAt(0).toUpperCase()+w.status.slice(1)})]}),l.jsx("div",{className:"mt-4 flex items-center gap-4 text-sm",children:l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx(fr,{className:"h-4 w-4"}),l.jsxs("span",{children:[Ue(new Date(w.start_date),"MMM d, yyyy")," -"," ",Ue(new Date(w.end_date),"MMM d, yyyy")]})]})}),w.reason&&l.jsx("p",{className:"mt-3 text-sm text-muted-foreground bg-muted/50 p-3 rounded-lg",children:w.reason}),l.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["Requested on ",Ue(new Date(w.created_at),"MMM d, yyyy 'at' h:mm a")]})]},w.id);return l.jsx(js,{children:l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Leave Requests"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage employee leave requests"})]}),l.jsxs(M1,{defaultValue:"pending",className:"w-full",children:[l.jsxs(mm,{className:"grid w-full grid-cols-3 max-w-md",children:[l.jsxs(Zs,{value:"pending",className:"relative",children:["Pending",y.length>0&&l.jsx("span",{className:"ml-2 h-5 w-5 rounded-full bg-warning text-warning-foreground text-xs flex items-center justify-center",children:y.length})]}),l.jsx(Zs,{value:"approved",children:"Approved"}),l.jsx(Zs,{value:"declined",children:"Declined"})]}),l.jsx(Js,{value:"pending",className:"mt-6",children:i?l.jsx("div",{className:"space-y-4",children:[...Array(3)].map((w,_)=>l.jsx("div",{className:"rounded-xl bg-card p-4 animate-pulse",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-full bg-muted"}),l.jsxs("div",{className:"space-y-2 flex-1",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-1/3"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/4"})]})]})},_))}):y.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(qc,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No pending leave requests"})]}):l.jsx("div",{className:"space-y-4",children:y.map(w=>k(w,!0))})}),l.jsx(Js,{value:"approved",className:"mt-6",children:S.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Oo,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No approved leave requests"})]}):l.jsx("div",{className:"space-y-4",children:S.map(w=>k(w))})}),l.jsx(Js,{value:"declined",className:"mt-6",children:b.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(ea,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No declined leave requests"})]}):l.jsx("div",{className:"space-y-4",children:b.map(w=>k(w))})})]})]})})}var Z$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],J$=Z$.reduce((t,e)=>{const n=Lp(`Primitive.${e}`),r=m.forwardRef((i,o)=>{const{asChild:u,...d}=i,f=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(f,{...d,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),X$="Separator",Zw="horizontal",e3=["horizontal","vertical"],L1=m.forwardRef((t,e)=>{const{decorative:n,orientation:r=Zw,...i}=t,o=t3(r)?r:Zw,d=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return l.jsx(J$.div,{"data-orientation":o,...d,...i,ref:e})});L1.displayName=X$;function t3(t){return e3.includes(t)}var $1=L1;const No=m.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>l.jsx($1,{ref:i,decorative:n,orientation:e,className:he("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));No.displayName=$1.displayName;function n3(){const{settings:t,updateSettings:e}=rb(),{user:n,signOut:r}=At(),{toast:i}=rn(),o=async p=>{await e({theme:p}),i({title:"Theme updated",description:`Switched to ${p} mode`})},u=async p=>{await e({layout_density:p}),i({title:"Layout updated",description:`Layout density set to ${p}`})},d=async p=>{await e({notifications_enabled:p}),i({title:p?"Notifications enabled":"Notifications disabled"})},f=async p=>{await e({sound_enabled:p}),i({title:p?"Sound enabled":"Sound disabled"})};return l.jsx(js,{children:l.jsxs("div",{className:"max-w-2xl space-y-8 animate-fade-in",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your preferences and account settings"})]}),l.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(hp,{className:"h-5 w-5 text-primary"}),l.jsx("h2",{className:"text-lg font-semibold",children:"Account"})]}),l.jsx(No,{}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(mn,{size:"xl",fallback:n?.email||"A"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"Admin Account"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:n?.email})]})]})]}),l.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Kc,{className:"h-5 w-5 text-primary"}),l.jsx("h2",{className:"text-lg font-semibold",children:"Appearance"})]}),l.jsx(No,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-base",children:"Theme"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose between light and dark mode"})]}),l.jsxs("div",{className:"flex items-center gap-2 p-1 rounded-xl bg-muted",children:[l.jsxs(De,{variant:t.theme==="light"?"default":"ghost",size:"sm",onClick:()=>o("light"),className:"gap-2",children:[l.jsx(Kc,{className:"h-4 w-4"}),"Light"]}),l.jsxs(De,{variant:t.theme==="dark"?"default":"ghost",size:"sm",onClick:()=>o("dark"),className:"gap-2",children:[l.jsx(ph,{className:"h-4 w-4"}),"Dark"]})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-base",children:"Layout Density"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Adjust the spacing of interface elements"})]}),l.jsxs(Vn,{value:t.layout_density,onValueChange:p=>u(p),children:[l.jsx(kn,{className:"w-[140px]",children:l.jsx(Hn,{})}),l.jsxs(jn,{children:[l.jsx(We,{value:"compact",children:"Compact"}),l.jsx(We,{value:"comfortable",children:"Comfortable"}),l.jsx(We,{value:"spacious",children:"Spacious"})]})]})]})]}),l.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xs,{className:"h-5 w-5 text-primary"}),l.jsx("h2",{className:"text-lg font-semibold",children:"Notifications"})]}),l.jsx(No,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-base",children:"Push Notifications"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications for important updates"})]}),l.jsx(_i,{checked:t.notifications_enabled,onCheckedChange:d})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-base",children:"Sound"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Play sound for notifications"})]}),l.jsx(_i,{checked:t.sound_enabled,onCheckedChange:f})]})]}),l.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(mC,{className:"h-5 w-5 text-primary"}),l.jsx("h2",{className:"text-lg font-semibold",children:"Security"})]}),l.jsx(No,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(Fe,{className:"text-base",children:"Sign Out"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign out from your account"})]}),l.jsxs(De,{variant:"destructive",onClick:r,className:"gap-2",children:[l.jsx(dp,{className:"h-4 w-4"}),"Sign Out"]})]})]})]})})}var Zu="Checkbox",[r3]=sn(Zu),[s3,gm]=r3(Zu);function a3(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:o,form:u,name:d,onCheckedChange:f,required:p,value:g="on",internal_do_not_use_render:y}=t,[S,b]=Tr({prop:n,defaultProp:i??!1,onChange:f,caller:Zu}),[k,w]=m.useState(null),[_,E]=m.useState(null),C=m.useRef(!1),N=k?!!u||!!k.closest("form"):!0,R={checked:S,disabled:o,setChecked:b,control:k,setControl:w,name:d,form:u,value:g,hasConsumerStoppedPropagationRef:C,required:p,defaultChecked:vs(i)?!1:i,isFormControl:N,bubbleInput:_,setBubbleInput:E};return l.jsx(s3,{scope:e,...R,children:i3(y)?y(R):r})}var F1="CheckboxTrigger",U1=m.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:o,value:u,disabled:d,checked:f,required:p,setControl:g,setChecked:y,hasConsumerStoppedPropagationRef:S,isFormControl:b,bubbleInput:k}=gm(F1,t),w=Le(i,g),_=m.useRef(f);return m.useEffect(()=>{const E=o?.form;if(E){const C=()=>y(_.current);return E.addEventListener("reset",C),()=>E.removeEventListener("reset",C)}},[o,y]),l.jsx(ke.button,{type:"button",role:"checkbox","aria-checked":vs(f)?"mixed":f,"aria-required":p,"data-state":H1(f),"data-disabled":d?"":void 0,disabled:d,value:u,...r,ref:w,onKeyDown:ce(e,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:ce(n,E=>{y(C=>vs(C)?!0:!C),k&&b&&(S.current=E.isPropagationStopped(),S.current||E.stopPropagation())})})});U1.displayName=F1;var vm=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:u,disabled:d,value:f,onCheckedChange:p,form:g,...y}=t;return l.jsx(a3,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:d,required:u,onCheckedChange:p,name:r,form:g,value:f,internal_do_not_use_render:({isFormControl:S})=>l.jsxs(l.Fragment,{children:[l.jsx(U1,{...y,ref:e,__scopeCheckbox:n}),S&&l.jsx(V1,{__scopeCheckbox:n})]})})});vm.displayName=Zu;var z1="CheckboxIndicator",B1=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,o=gm(z1,n);return l.jsx($t,{present:r||vs(o.checked)||o.checked===!0,children:l.jsx(ke.span,{"data-state":H1(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});B1.displayName=z1;var W1="CheckboxBubbleInput",V1=m.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:u,required:d,disabled:f,name:p,value:g,form:y,bubbleInput:S,setBubbleInput:b}=gm(W1,t),k=Le(n,b),w=sm(o),_=bp(r);m.useEffect(()=>{const C=S;if(!C)return;const N=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(N,"checked").set,M=!i.current;if(w!==o&&P){const z=new Event("click",{bubbles:M});C.indeterminate=vs(o),P.call(C,vs(o)?!1:o),C.dispatchEvent(z)}},[S,w,o,i]);const E=m.useRef(vs(o)?!1:o);return l.jsx(ke.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??E.current,required:d,disabled:f,name:p,value:g,form:y,...e,tabIndex:-1,ref:k,style:{...e.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});V1.displayName=W1;function i3(t){return typeof t=="function"}function vs(t){return t==="indeterminate"}function H1(t){return vs(t)?"indeterminate":t?"checked":"unchecked"}const np=m.forwardRef(({className:t,...e},n)=>l.jsx(vm,{ref:n,className:he("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(B1,{className:he("flex items-center justify-center text-current"),children:l.jsx(Oo,{className:"h-4 w-4"})})}));np.displayName=vm.displayName;function o3(){const{user:t}=At(),{toast:e}=rn(),[n,r]=m.useState([]),[i,o]=m.useState([]),[u,d]=m.useState([]),[f,p]=m.useState(!1),[g,y]=m.useState(!1),[S,b]=m.useState(null),[k,w]=m.useState(!1),_=m.useRef(null);m.useRef(null);const[E,C]=m.useState([]),[N,R]=m.useState(!1),[P,M]=m.useState({title:"",message:"",type:"info"});m.useEffect(()=>{(async()=>{const{data:q}=await oe.from("user_roles").select("user_id").eq("role","employee"),H=(q||[]).map(D=>D.user_id);let J=[];if(H.length>0){const{data:D}=await oe.from("profiles").select("id, full_name").eq("is_active",!0).in("id",H);J=D||[]}r(J);const{data:X}=await oe.from("notification_templates").select("*").order("name",{ascending:!0});o(X||[]);const{data:$}=await oe.from("notifications").select("*").order("created_at",{ascending:!1}).limit(50);if($){const D=await Promise.all($.map(async G=>{const{data:T}=await oe.from("profiles").select("full_name").eq("id",G.user_id).single();return{...G,user:T||void 0}}));d(D)}})()},[]);const z=K=>{R(K),C(K?n.map(q=>q.id):[])},V=K=>{C(q=>q.includes(K)?q.filter(H=>H!==K):[...q,K]),R(!1)},F=K=>{const q=i.find(H=>H.id===K);q&&M({title:q.title,message:q.message,type:q.type})},Y=K=>{const q=K.target.files?.[0];if(q){if(q.size>10*1024*1024){e({title:"File too large",description:"Maximum file size is 10MB",variant:"destructive"});return}b(q)}},te=async()=>{if(E.length===0){e({title:"Error",description:"Please select at least one recipient",variant:"destructive"});return}if(!P.title||!P.message){e({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}y(!0);try{let K=null;if(S){w(!0);const X=`${Date.now()}-${S.name}`,{data:$,error:D}=await oe.storage.from("attachments").upload(X,S);if(D)throw D;const{data:G}=oe.storage.from("attachments").getPublicUrl(X);K=G.publicUrl,w(!1)}const q=E.map(X=>({user_id:X,title:P.title,message:P.message,type:P.type,attachment_url:K})),{error:H}=await oe.from("notifications").insert(q);if(H)throw H;e({title:"Notifications sent",description:`Sent to ${E.length} employee(s) successfully.`}),p(!1),M({title:"",message:"",type:"info"}),C([]),R(!1),b(null);const{data:J}=await oe.from("notifications").select("*").order("created_at",{ascending:!1}).limit(50);if(J){const X=await Promise.all(J.map(async $=>{const{data:D}=await oe.from("profiles").select("full_name").eq("id",$.user_id).single();return{...$,user:D||void 0}}));d(X)}}catch(K){e({title:"Error",description:K.message||"Failed to send notifications",variant:"destructive"})}finally{y(!1),w(!1)}},Q=K=>{switch(K){case"success":return"bg-success/10 text-success";case"warning":return"bg-warning/10 text-warning";case"error":return"bg-destructive/10 text-destructive";default:return"bg-info/10 text-info"}};return l.jsx(js,{children:l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Notifications"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Send notifications to your team"})]}),l.jsxs(xi,{open:f,onOpenChange:p,children:[l.jsx(Gp,{asChild:!0,children:l.jsxs(De,{className:"gradient-primary",children:[l.jsx(hy,{className:"h-4 w-4 mr-2"}),"Send Notification"]})}),l.jsxs(aa,{className:"sm:max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[l.jsxs(ia,{children:[l.jsx(la,{children:"Send Notification"}),l.jsx(ca,{children:"Send a notification to one or more employees"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{children:"Recipients"}),l.jsxs("div",{className:"rounded-lg border p-3 max-h-40 overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center space-x-2 pb-2 border-b mb-2",children:[l.jsx(np,{id:"select-all",checked:N,onCheckedChange:z}),l.jsx("label",{htmlFor:"select-all",className:"text-sm font-medium",children:"Select All Employees"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.map(K=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(np,{id:K.id,checked:E.includes(K.id),onCheckedChange:()=>V(K.id)}),l.jsx("label",{htmlFor:K.id,className:"text-sm",children:K.full_name})]},K.id))})]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[E.length," recipient(s) selected"]})]}),i.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{children:"Use Template (Optional)"}),l.jsxs(Vn,{onValueChange:F,children:[l.jsx(kn,{children:l.jsx(Hn,{placeholder:"Select a template"})}),l.jsx(jn,{children:i.map(K=>l.jsx(We,{value:K.id,children:K.name},K.id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{children:"Type"}),l.jsxs(Vn,{value:P.type,onValueChange:K=>M({...P,type:K}),children:[l.jsx(kn,{children:l.jsx(Hn,{})}),l.jsxs(jn,{children:[l.jsx(We,{value:"info",children:"Info"}),l.jsx(We,{value:"success",children:"Success"}),l.jsx(We,{value:"warning",children:"Warning"}),l.jsx(We,{value:"error",children:"Error"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"title",children:"Title"}),l.jsx(Je,{id:"title",placeholder:"Notification title",value:P.title,onChange:K=>M({...P,title:K.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{children:"Message"}),l.jsx(vS,{value:P.message,onChange:K=>M({...P,message:K}),placeholder:"Write your notification message with formatting...",rows:6}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Supports **bold**, *italic*, headers, and lists"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{children:"Attachment (Optional)"}),l.jsx("input",{ref:_,type:"file",className:"hidden",onChange:Y}),S?l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted",children:[l.jsx(bu,{className:"h-5 w-5 text-primary"}),l.jsx("span",{className:"flex-1 text-sm truncate",children:S.name}),l.jsx(De,{type:"button",variant:"ghost",size:"sm",onClick:()=>b(null),children:l.jsx(ea,{className:"h-4 w-4"})})]}):l.jsxs(De,{type:"button",variant:"outline",className:"w-full",onClick:()=>_.current?.click(),children:[l.jsx(di,{className:"h-4 w-4 mr-2"}),"Add Attachment"]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Max file size: 10MB"})]})]}),l.jsxs(oa,{className:"border-t pt-4",children:[l.jsx(De,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),l.jsx(De,{onClick:te,disabled:g,children:g?l.jsxs(l.Fragment,{children:[l.jsx(pt,{className:"mr-2 h-4 w-4 animate-spin"}),k?"Uploading...":"Sending..."]}):l.jsxs(l.Fragment,{children:[l.jsx(hy,{className:"mr-2 h-4 w-4"}),"Send (",E.length,")"]})})]})]})]})]}),l.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Notification History"}),u.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Xs,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No notifications sent yet"})]}):l.jsx("div",{className:"space-y-3",children:u.map(K=>l.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-xl bg-muted/50 hover:bg-muted transition-colors",children:[l.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${Q(K.type)}`,children:l.jsx(Xs,{className:"h-5 w-5"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("h4",{className:"font-medium",children:K.title}),l.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${Q(K.type)}`,children:K.type})]}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:K.message}),l.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-muted-foreground",children:[l.jsxs("span",{children:["To: ",K.user?.full_name||"Unknown"]}),l.jsx("span",{children:""}),l.jsx("span",{children:Ue(new Date(K.created_at),"MMM d, h:mm a")}),K.attachment_url&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsxs("a",{href:K.attachment_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",children:[l.jsx(di,{className:"h-3 w-3"}),"Attachment"]})]})]})]})]},K.id))})]})]})})}const l3=[{icon:Px,label:"Home",path:"/employee"},{icon:Rr,label:"Tasks",path:"/employee/tasks"},{icon:nn,label:"History",path:"/employee/history"},{icon:hp,label:"Profile",path:"/employee/profile"},{icon:Ix,label:"Settings",path:"/employee/settings"}];function c3(){const t=Dr();return l.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-card/95 backdrop-blur-xl border-t border-border safe-area-inset-bottom",children:l.jsx("div",{className:"flex items-center justify-around py-2 px-4",children:l3.map(e=>{const n=t.pathname===e.path;return l.jsxs(ur,{to:e.path,className:he("flex flex-col items-center gap-1 px-3 py-2 rounded-xl transition-all duration-200",n?"text-primary":"text-muted-foreground hover:text-foreground"),children:[l.jsx(e.icon,{className:he("h-5 w-5",n&&"scale-110")}),l.jsx("span",{className:"text-[10px] font-medium",children:e.label}),n&&l.jsx("div",{className:"absolute -bottom-0 h-0.5 w-6 rounded-full bg-primary"})]},e.path)})})})}function fa({children:t,title:e,showHeader:n=!0}){const{user:r}=At();return l.jsxs("div",{className:"flex min-h-screen flex-col bg-background pb-20",children:[n&&l.jsx("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-xl border-b border-border",children:l.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ur,{to:"/employee/profile",children:l.jsx(mn,{size:"md",fallback:r?.email||"E"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Welcome back"}),l.jsx("p",{className:"font-semibold",children:e||"Dashboard"})]})]}),l.jsxs(ur,{to:"/employee/notifications",className:"relative p-2 rounded-xl bg-muted hover:bg-muted/80 transition-colors",children:[l.jsx(Xs,{className:"h-5 w-5"}),l.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 rounded-full bg-destructive"})]})]})}),l.jsx("main",{className:"flex-1 px-4 py-4",children:t}),l.jsx(c3,{})]})}const q1=m.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:he("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));q1.displayName="Textarea";function u3(){const{user:t}=At(),{toast:e}=rn(),[n,r]=m.useState([]),[i,o]=m.useState(null),[u,d]=m.useState(null),[f,p]=m.useState(!0),[g,y]=m.useState(!1),[S,b]=m.useState(!1),[k,w]=m.useState(!1),[_,E]=m.useState({start_date:"",end_date:"",reason:""}),C=async()=>{if(t)try{const{data:F}=await oe.from("tasks").select("id, title, status, priority, due_date").eq("assigned_to",t.id).in("status",["pending","in_progress"]).order("due_date",{ascending:!0}).limit(3);r(F||[]);const Y=new Date().toISOString().split("T")[0],{data:te}=await oe.from("attendance").select("*").eq("user_id",t.id).gte("check_in",`${Y}T00:00:00`).lte("check_in",`${Y}T23:59:59`).single();o(te);const Q=new Date().getDay(),{data:K}=await oe.from("attendance_schedule").select("*").eq("day_of_week",Q).single();d(K)}catch(F){console.error("Error fetching data:",F)}finally{p(!1)}};m.useEffect(()=>{C()},[t]);const N=F=>{if(!u)return"present";const Y=u.check_in_end.split(":"),te=parseInt(Y[0])*60+parseInt(Y[1]);return F.getHours()*60+F.getMinutes()>te?"late":"present"},R=async()=>{if(t){y(!0);try{let F=0,Y=0;if(navigator.geolocation)try{const q=await new Promise((H,J)=>{navigator.geolocation.getCurrentPosition(H,J)});F=q.coords.latitude,Y=q.coords.longitude,await oe.from("gps_logs").insert({user_id:t.id,latitude:F,longitude:Y,accuracy:q.coords.accuracy})}catch{console.log("Geolocation not available")}const te=new Date,Q=N(te),{error:K}=await oe.from("attendance").insert({user_id:t.id,status:Q});if(K)throw K;e({title:Q==="late"?"Checked in (Late)":"Checked in!",description:`You checked in at ${Ue(te,"h:mm a")}${Q==="late"?" - marked as late":""}`,variant:Q==="late"?"destructive":"default"}),C()}catch(F){const Y=F instanceof Error?F.message:"Failed to check in";e({title:"Error",description:Y,variant:"destructive"})}finally{y(!1)}}},P=async()=>{if(!(!t||!i)){y(!0);try{const{error:F}=await oe.from("attendance").update({check_out:new Date().toISOString()}).eq("id",i.id);if(F)throw F;e({title:"Checked out!",description:`You checked out at ${Ue(new Date,"h:mm a")}`}),C()}catch(F){e({title:"Error",description:F.message||"Failed to check out",variant:"destructive"})}finally{y(!1)}}},M=async()=>{if(!t||!_.start_date||!_.end_date){e({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}w(!0);try{const{data:F,error:Y}=await oe.from("leave_requests").insert({user_id:t.id,start_date:_.start_date,end_date:_.end_date,reason:_.reason||null}).select().single();if(Y)throw Y;const{data:te}=await oe.from("user_roles").select("user_id").eq("role","admin");if(te&&te.length>0){const{data:Q}=await oe.from("profiles").select("full_name").eq("id",t.id).single(),K=te.map(q=>({user_id:q.user_id,title:"New Leave Request",message:`**${Q?.full_name||"Employee"}** has requested leave from ${_.start_date} to ${_.end_date}.${_.reason?` Reason: ${_.reason}`:""}`,type:"warning",related_type:"leave",related_id:F?.id||null}));await oe.from("notifications").insert(K)}e({title:"Leave request submitted",description:"Your request has been sent to admin for approval."}),b(!1),E({start_date:"",end_date:"",reason:""})}catch(F){const Y=F instanceof Error?F.message:"Failed to submit leave request";e({title:"Error",description:Y,variant:"destructive"})}finally{w(!1)}},z=n.filter(F=>F.status==="pending").length,V=n.filter(F=>F.status==="in_progress").length;return l.jsxs(fa,{title:"Dashboard",children:[l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u&&u.is_working_day&&l.jsx("div",{className:"rounded-xl bg-info/10 border border-info/20 p-3",children:l.jsxs("div",{className:"flex items-center gap-2 text-info text-sm",children:[l.jsx(Rx,{className:"h-4 w-4"}),l.jsxs("span",{children:["Today: Check-in ",u.check_in_start.slice(0,5)," - ",u.check_in_end.slice(0,5)," | ","Check-out ",u.check_out_start.slice(0,5)," - ",u.check_out_end.slice(0,5)]})]})}),l.jsxs("div",{className:"rounded-2xl gradient-hero p-6 text-white shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white/70 text-sm",children:Ue(new Date,"EEEE, MMMM d")}),l.jsx("p",{className:"text-2xl font-bold",children:Ue(new Date,"h:mm a")})]}),l.jsx("div",{className:"h-12 w-12 rounded-full bg-white/20 flex items-center justify-center",children:l.jsx(nn,{className:"h-6 w-6"})})]}),u&&!u.is_working_day?l.jsxs("div",{className:"text-center py-4",children:[l.jsx(qc,{className:"h-8 w-8 mx-auto mb-2 opacity-70"}),l.jsx("p",{className:"text-white/80",children:"Today is not a working day"})]}):i?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-white/70",children:"Checked in at"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium",children:i.check_in&&!isNaN(new Date(i.check_in).getTime())?Ue(new Date(i.check_in),"h:mm a"):"Invalid"}),i.status==="late"&&l.jsx("span",{className:"text-xs bg-warning/20 px-2 py-0.5 rounded",children:"Late"})]})]}),i.check_out&&!isNaN(new Date(i.check_out).getTime())?l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-white/70",children:"Checked out at"}),l.jsx("span",{className:"font-medium",children:Ue(new Date(i.check_out),"h:mm a")})]}):l.jsxs(De,{onClick:P,disabled:g,className:"w-full bg-white/20 hover:bg-white/30 border-0",children:[g?l.jsx(pt,{className:"h-4 w-4 animate-spin mr-2"}):l.jsx(fy,{className:"h-4 w-4 mr-2"}),"Check Out"]})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs(De,{onClick:R,disabled:g,className:"w-full bg-white/20 hover:bg-white/30 border-0",children:[g?l.jsx(pt,{className:"h-4 w-4 animate-spin mr-2"}):l.jsx(fy,{className:"h-4 w-4 mr-2"}),"Check In"]}),l.jsxs(De,{variant:"outline",onClick:()=>b(!0),className:"w-full bg-transparent border-white/30 text-white hover:bg-white/10",children:[l.jsx(qc,{className:"h-4 w-4 mr-2"}),"Request Leave"]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(ai,{title:"Pending",value:z,icon:Rr,variant:"default"}),l.jsx(ai,{title:"In Progress",value:V,icon:nn,variant:"primary"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h2",{className:"font-semibold",children:"Recent Tasks"}),l.jsx(ur,{to:"/employee/tasks",className:"text-sm text-primary font-medium",children:"View All"})]}),f?l.jsx("div",{className:"space-y-3",children:[...Array(3)].map((F,Y)=>l.jsxs("div",{className:"rounded-xl bg-card p-4 animate-pulse",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]},Y))}):n.length===0?l.jsxs("div",{className:"rounded-xl bg-card p-6 text-center",children:[l.jsx(Rr,{className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),l.jsx("p",{className:"text-muted-foreground",children:"No pending tasks"})]}):l.jsx("div",{className:"space-y-3",children:n.map(F=>l.jsx(ur,{to:"/employee/tasks",className:"block rounded-xl bg-card p-4 shadow-card hover:shadow-lg transition-all",children:l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium truncate",children:F.title}),F.due_date&&!isNaN(new Date(F.due_date).getTime())&&l.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[l.jsx(fr,{className:"h-3 w-3"}),"Due ",Ue(new Date(F.due_date),"MMM d")]})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(yi,{priority:F.priority})})]})},F.id))})]})]}),l.jsx(xi,{open:S,onOpenChange:b,children:l.jsxs(aa,{className:"sm:max-w-md",children:[l.jsxs(ia,{children:[l.jsx(la,{children:"Request Leave"}),l.jsx(ca,{children:"Submit a leave request for approval"})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"start_date",children:"Start Date"}),l.jsx(Je,{id:"start_date",type:"date",value:_.start_date,onChange:F=>E({..._,start_date:F.target.value}),min:new Date().toISOString().split("T")[0]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"end_date",children:"End Date"}),l.jsx(Je,{id:"end_date",type:"date",value:_.end_date,onChange:F=>E({..._,end_date:F.target.value}),min:_.start_date||new Date().toISOString().split("T")[0]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"reason",children:"Reason (Optional)"}),l.jsx(q1,{id:"reason",placeholder:"Brief reason for leave...",value:_.reason,onChange:F=>E({..._,reason:F.target.value}),rows:3})]})]}),l.jsxs(oa,{children:[l.jsx(De,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),l.jsx(De,{onClick:M,disabled:k,children:k?l.jsxs(l.Fragment,{children:[l.jsx(pt,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Request"})]})]})})]})}function d3(){const{user:t}=At(),{toast:e}=rn(),[n]=$0(),[r,i]=m.useState([]),[o,u]=m.useState(!0),[d,f]=m.useState(null),[p,g]=m.useState(!1),[y,S]=m.useState("all"),b=async()=>{if(t)try{let _=oe.from("tasks").select("*").eq("assigned_to",t.id).order("created_at",{ascending:!1});y!=="all"&&(_=_.eq("status",y));const{data:E,error:C}=await _;if(C)throw C;const N=(E||[]).map(P=>({id:P.id,title:P.title,description:P.description,status:P.status,priority:P.priority,due_date:P.due_date,assigned_to:P.assigned_to,created_at:P.created_at,attachment_urls:null}));i(N);const R=n.get("taskId");if(R&&N){const P=N.find(M=>M.id===R);P&&f(P)}}catch(_){console.error("Error fetching tasks:",_)}finally{u(!1)}};m.useEffect(()=>{b()},[t,y]);const k=async(_,E)=>{g(!0);try{const C={status:E};E==="completed"&&(C.completed_at=new Date().toISOString());const{error:N}=await oe.from("tasks").update(C).eq("id",_);if(N)throw N;e({title:"Task updated",description:`Status changed to ${E.replace("_"," ")}`}),f(null),b()}catch(C){const N=C instanceof Error?C.message:"Failed to update task";e({title:"Error",description:N,variant:"destructive"})}finally{g(!1)}},w=_=>_.match(/\.(jpg|jpeg|png|gif|webp)$/i)?up:_.includes(".pdf")?bu:cp;return l.jsx(fa,{title:"My Tasks",children:l.jsxs("div",{className:"space-y-4 animate-fade-in",children:[l.jsxs(Vn,{value:y,onValueChange:S,children:[l.jsx(kn,{children:l.jsx(Hn,{placeholder:"Filter tasks"})}),l.jsxs(jn,{children:[l.jsx(We,{value:"all",children:"All Tasks"}),l.jsx(We,{value:"pending",children:"Pending"}),l.jsx(We,{value:"in_progress",children:"In Progress"}),l.jsx(We,{value:"completed",children:"Completed"})]})]}),o?l.jsx("div",{className:"space-y-3",children:[...Array(5)].map((_,E)=>l.jsxs("div",{className:"rounded-xl bg-card p-4 animate-pulse",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]},E))}):r.length===0?l.jsxs("div",{className:"rounded-xl bg-card p-8 text-center",children:[l.jsx(Rr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),l.jsx("p",{className:"text-muted-foreground",children:"No tasks found"})]}):l.jsx("div",{className:"space-y-3",children:r.map(_=>l.jsxs("button",{onClick:()=>f(_),className:"w-full text-left rounded-xl bg-card p-4 shadow-card hover:shadow-lg transition-all",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[l.jsx("p",{className:"font-medium flex-1",children:_.title}),l.jsx(yi,{priority:_.priority})]}),_.description&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:_.description.replace(/\*\*/g,"").replace(/\*/g,"").replace(/#+\s/g,"")}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_s,{status:_.status}),_.attachment_urls&&_.attachment_urls.length>0&&l.jsxs("span",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[l.jsx(di,{className:"h-3 w-3"}),_.attachment_urls.length]})]}),_.due_date&&!isNaN(new Date(_.due_date).getTime())&&l.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(fr,{className:"h-3 w-3"}),Ue(new Date(_.due_date),"MMM d")]})]})]},_.id))}),l.jsx(t1,{open:!!d,onOpenChange:()=>f(null),children:l.jsx(im,{side:"bottom",className:"h-[85vh] rounded-t-3xl",children:d&&l.jsxs(l.Fragment,{children:[l.jsxs(om,{className:"text-left",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(yi,{priority:d.priority}),l.jsx(_s,{status:d.status})]}),l.jsx(lm,{className:"text-xl",children:d.title}),l.jsxs(cm,{children:["Created"," ",d.created_at&&!isNaN(new Date(d.created_at).getTime())?Ue(new Date(d.created_at),"MMMM d, yyyy"):"date unknown"]})]}),l.jsx(gu,{className:"h-[calc(85vh-180px)] mt-4",children:l.jsxs("div",{className:"space-y-4 pr-4",children:[d.description&&l.jsx("div",{className:"rounded-xl bg-muted p-4",children:l.jsx(rm,{content:d.description})}),d.due_date&&!isNaN(new Date(d.due_date).getTime())&&l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-muted",children:[l.jsx(fr,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Due Date"}),l.jsx("p",{className:"font-medium",children:Ue(new Date(d.due_date),"MMMM d, yyyy")})]})]}),d.attachment_urls&&d.attachment_urls.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Attachments"}),l.jsx("div",{className:"space-y-2",children:d.attachment_urls.map((_,E)=>{const C=w(_),N=_.split("/").pop()||"attachment";return l.jsxs("a",{href:_,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 rounded-xl bg-muted hover:bg-muted/80 transition-colors",children:[l.jsx(C,{className:"h-5 w-5 text-primary"}),l.jsx("span",{className:"flex-1 text-sm truncate",children:N})]},E)})})]}),l.jsxs("div",{className:"pt-4 space-y-3",children:[l.jsx("p",{className:"font-medium",children:"Update Status"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.status!=="pending"&&l.jsx(De,{variant:"outline",onClick:()=>k(d.id,"pending"),disabled:p,children:p?l.jsx(pt,{className:"h-4 w-4 animate-spin"}):"Pending"}),d.status!=="in_progress"&&l.jsx(De,{variant:"outline",onClick:()=>k(d.id,"in_progress"),disabled:p,children:p?l.jsx(pt,{className:"h-4 w-4 animate-spin"}):"In Progress"}),d.status!=="completed"&&l.jsxs(De,{className:"gradient-primary col-span-2",onClick:()=>k(d.id,"completed"),disabled:p,children:[p?l.jsx(pt,{className:"h-4 w-4 animate-spin mr-2"}):l.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Mark Complete"]})]})]})]})})]})})})]})})}function f3(){const{user:t}=At(),{toast:e}=rn(),n=m.useRef(null),[r,i]=m.useState(null),[o,u]=m.useState(!0),[d,f]=m.useState(!1),[p,g]=m.useState(!1),[y,S]=m.useState({full_name:"",department:"",title:""});m.useEffect(()=>{(async()=>{if(t)try{const{data:_,error:E}=await oe.from("profiles").select("*").eq("id",t.id).single();if(E)throw E;i(_),S({full_name:_.full_name||"",department:_.department||"",title:_.title||""})}catch(_){console.error("Error fetching profile:",_)}finally{u(!1)}})()},[t]);const b=async w=>{const _=w.target.files?.[0];if(!(!_||!t)){g(!0);try{const E=_.name.split(".").pop(),C=`${t.id}/${t.id}.${E}`;await oe.storage.from("avatars").remove([C]);const{error:N}=await oe.storage.from("avatars").upload(C,_,{upsert:!0});if(N)throw N;const{data:R}=oe.storage.from("avatars").getPublicUrl(C),{error:P}=await oe.from("profiles").update({avatar_url:R.publicUrl}).eq("id",t.id);if(P)throw P;i(M=>M?{...M,avatar_url:R.publicUrl}:null),e({title:"Avatar updated",description:"Your profile picture has been updated."})}catch(E){e({title:"Error",description:E.message||"Failed to upload avatar",variant:"destructive"})}finally{g(!1)}}},k=async()=>{if(t){f(!0);try{const{error:w}=await oe.from("profiles").update({full_name:y.full_name,department:y.department||null,title:y.title||null}).eq("id",t.id);if(w)throw w;i(_=>_?{..._,full_name:y.full_name,department:y.department,title:y.title}:null),e({title:"Profile updated",description:"Your profile has been saved."})}catch(w){const _=w instanceof Error?w.message:"Failed to save profile";e({title:"Error",description:_,variant:"destructive"})}finally{f(!1)}}};return o?l.jsx(fa,{title:"Profile",children:l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(pt,{className:"h-8 w-8 animate-spin text-primary"})})}):l.jsx(fa,{title:"Profile",children:l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{className:"flex flex-col items-center py-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx(mn,{size:"xl",src:r?.avatar_url,fallback:r?.full_name||"U",className:"h-24 w-24"}),l.jsx("button",{onClick:()=>n.current?.click(),disabled:p,className:"absolute bottom-0 right-0 h-8 w-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center shadow-lg hover:bg-primary/90 transition-colors",children:p?l.jsx(pt,{className:"h-4 w-4 animate-spin"}):l.jsx(eC,{className:"h-4 w-4"})}),l.jsx("input",{ref:n,type:"file",accept:"image/*",onChange:b,className:"hidden"})]}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Tap to change photo"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"full_name",children:"Full Name"}),l.jsx(Je,{id:"full_name",value:y.full_name,onChange:w=>S({...y,full_name:w.target.value}),placeholder:"Your full name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"department",children:"Department"}),l.jsx(Je,{id:"department",value:y.department,onChange:w=>S({...y,department:w.target.value}),placeholder:"e.g., Engineering"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{htmlFor:"title",children:"Job Title"}),l.jsx(Je,{id:"title",value:y.title,onChange:w=>S({...y,title:w.target.value}),placeholder:"e.g., Software Engineer"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fe,{children:"Email"}),l.jsx(Je,{value:t?.email||"",disabled:!0,className:"bg-muted"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]})]}),l.jsx(De,{onClick:k,disabled:d,className:"w-full gradient-primary",children:d?l.jsxs(l.Fragment,{children:[l.jsx(pt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ax,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})})}function h3(){const{user:t}=At(),[e]=$0(),[n,r]=m.useState([]),[i,o]=m.useState([]),[u,d]=m.useState([]),[f,p]=m.useState(!0),g=e.get("tab")||"tasks",[y,S]=m.useState(g);m.useEffect(()=>{(async()=>{if(t)try{const{data:_}=await oe.from("tasks").select("id, title, completed_at, priority").eq("assigned_to",t.id).eq("status","completed").order("completed_at",{ascending:!1}).limit(20);r(_||[]);const{data:E}=await oe.from("attendance").select("*").eq("user_id",t.id).order("check_in",{ascending:!1}).limit(30);o(E||[]);const{data:C}=await oe.from("leave_requests").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(20);d(C||[])}catch(_){console.error("Error fetching history:",_)}finally{p(!1)}})()},[t]),m.useEffect(()=>{const w=e.get("tab");w&&["tasks","attendance","leave"].includes(w)&&S(w)},[e]);const b=(w,_)=>{if(!_)return"";const E=new Date(w),N=new Date(_).getTime()-E.getTime(),R=Math.floor(N/(1e3*60*60)),P=Math.floor(N%(1e3*60*60)/(1e3*60));return`${R}h ${P}m`},k=w=>{switch(w.toLowerCase()){case"present":return"bg-success/10 text-success";case"late":return"bg-warning/10 text-warning";case"absent":return"bg-destructive/10 text-destructive";case"leave":case"on_leave":return"bg-info/10 text-info";case"approved":return"bg-success/10 text-success";case"pending":return"bg-warning/10 text-warning";case"rejected":return"bg-destructive/10 text-destructive";default:return"bg-muted text-muted-foreground"}};return l.jsx(fa,{title:"History",children:l.jsxs(M1,{value:y,onValueChange:S,className:"animate-fade-in",children:[l.jsxs(mm,{className:"grid w-full grid-cols-3 mb-4",children:[l.jsx(Zs,{value:"tasks",className:"text-xs",children:"Tasks"}),l.jsx(Zs,{value:"attendance",className:"text-xs",children:"Attendance"}),l.jsx(Zs,{value:"leave",className:"text-xs",children:"Leave"})]}),l.jsx(Js,{value:"tasks",className:"space-y-3",children:f?l.jsx("div",{className:"space-y-3",children:[...Array(5)].map((w,_)=>l.jsxs("div",{className:"rounded-xl bg-card p-4 animate-pulse",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]},_))}):n.length===0?l.jsxs("div",{className:"rounded-xl bg-card p-8 text-center",children:[l.jsx(Rr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),l.jsx("p",{className:"text-muted-foreground",children:"No completed tasks yet"})]}):n.map(w=>l.jsx("div",{className:"rounded-xl bg-card p-4 shadow-card",children:l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:w.title}),l.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[l.jsx(Rr,{className:"h-3 w-3"}),"Completed"," ",w.completed_at&&!isNaN(new Date(w.completed_at).getTime())?Ue(new Date(w.completed_at),"MMM d, yyyy"):"date unknown"]})]}),l.jsx(_s,{status:"completed"})]})},w.id))}),l.jsx(Js,{value:"attendance",className:"space-y-3",children:f?l.jsx("div",{className:"space-y-3",children:[...Array(5)].map((w,_)=>l.jsxs("div",{className:"rounded-xl bg-card p-4 animate-pulse",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]},_))}):i.length===0?l.jsxs("div",{className:"rounded-xl bg-card p-8 text-center",children:[l.jsx(fr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),l.jsx("p",{className:"text-muted-foreground",children:"No attendance records yet"})]}):i.map(w=>l.jsxs("div",{className:"rounded-xl bg-card p-4 shadow-card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"font-medium",children:w.check_in&&!isNaN(new Date(w.check_in).getTime())?Ue(new Date(w.check_in),"EEEE, MMM d"):"Invalid date"}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium capitalize ${k(w.status)}`,children:w.status.replace("_"," ")})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(nn,{className:"h-3 w-3"}),"In:"," ",w.check_in&&!isNaN(new Date(w.check_in).getTime())?Ue(new Date(w.check_in),"h:mm a"):"Invalid"]}),w.check_out&&!isNaN(new Date(w.check_out).getTime())&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(nn,{className:"h-3 w-3"}),"Out: ",Ue(new Date(w.check_out),"h:mm a")]})]}),l.jsx("span",{className:"font-medium text-foreground",children:b(w.check_in,w.check_out)})]}),w.notes&&l.jsx("p",{className:"text-sm text-muted-foreground mt-2 italic",children:w.notes})]},w.id))}),l.jsx(Js,{value:"leave",className:"space-y-3",children:f?l.jsx("div",{className:"space-y-3",children:[...Array(5)].map((w,_)=>l.jsxs("div",{className:"rounded-xl bg-card p-4 animate-pulse",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]},_))}):u.length===0?l.jsxs("div",{className:"rounded-xl bg-card p-8 text-center",children:[l.jsx(dC,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),l.jsx("p",{className:"text-muted-foreground",children:"No leave requests yet"})]}):u.map(w=>l.jsxs("div",{className:"rounded-xl bg-card p-4 shadow-card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("p",{className:"font-medium",children:[Ue(new Date(w.start_date),"MMM d")," - ",Ue(new Date(w.end_date),"MMM d, yyyy")]}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium capitalize ${k(w.status)}`,children:w.status})]}),w.reason&&l.jsx("p",{className:"text-sm text-muted-foreground",children:w.reason}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Requested ",Ue(new Date(w.created_at),"MMM d, yyyy")]})]},w.id))})]})})}function p3(){const{settings:t,updateSettings:e}=rb(),{signOut:n}=At(),{toast:r}=rn(),i=async f=>{await e({theme:f}),r({title:"Theme updated",description:`Switched to ${f} mode`})},o=async f=>{await e({layout_density:f}),r({title:"Layout updated"})},u=async f=>{await e({notifications_enabled:f})},d=async f=>{await e({sound_enabled:f})};return l.jsx(fa,{title:"Settings",children:l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsx("div",{className:"rounded-2xl bg-card p-4 shadow-card",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[t.theme==="dark"?l.jsx(ph,{className:"h-5 w-5 text-primary"}):l.jsx(Kc,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Theme"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.theme==="dark"?"Dark mode":"Light mode"})]})]}),l.jsxs("div",{className:"flex items-center gap-1 p-1 rounded-xl bg-muted",children:[l.jsx(De,{variant:t.theme==="light"?"default":"ghost",size:"sm",onClick:()=>i("light"),className:"h-8 px-3",children:l.jsx(Kc,{className:"h-4 w-4"})}),l.jsx(De,{variant:t.theme==="dark"?"default":"ghost",size:"sm",onClick:()=>i("dark"),className:"h-8 px-3",children:l.jsx(ph,{className:"h-4 w-4"})})]})]})}),l.jsx("div",{className:"rounded-2xl bg-card p-4 shadow-card",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Layout Density"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Adjust spacing"})]}),l.jsxs(Vn,{value:t.layout_density,onValueChange:f=>o(f),children:[l.jsx(kn,{className:"w-[130px]",children:l.jsx(Hn,{})}),l.jsxs(jn,{children:[l.jsx(We,{value:"compact",children:"Compact"}),l.jsx(We,{value:"comfortable",children:"Comfortable"}),l.jsx(We,{value:"spacious",children:"Spacious"})]})]})]})}),l.jsxs("div",{className:"rounded-2xl bg-card p-4 shadow-card space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Xs,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Notifications"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Push notifications"})]})]}),l.jsx(_i,{checked:t.notifications_enabled,onCheckedChange:u})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(yC,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Sound"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Notification sounds"})]})]}),l.jsx(_i,{checked:t.sound_enabled,onCheckedChange:d})]})]}),l.jsxs(De,{variant:"destructive",onClick:n,className:"w-full",children:[l.jsx(dp,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})})}function m3(){const{user:t}=At(),e=ha(),[n,r]=m.useState([]),[i,o]=m.useState(!0),[u,d]=m.useState(null);m.useEffect(()=>{(async()=>{if(t)try{const{data:E}=await oe.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(50);r(E||[])}catch(E){console.error("Error fetching notifications:",E)}finally{o(!1)}})();const _=oe.channel("employee-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${t?.id}`},E=>{r(C=>[E.new,...C])}).subscribe();return()=>{oe.removeChannel(_).catch(E=>console.log("Channel removal error:",E))}},[t]);const f=async w=>{try{await oe.from("notifications").update({is_read:!0}).eq("id",w),r(_=>_.map(E=>E.id===w?{...E,is_read:!0}:E))}catch(_){console.error("Error marking notification as read:",_)}},p=async w=>{w.is_read||await f(w.id),d(u===w.id?null:w.id)},g=w=>{const _=w.related_type,E=w.related_id;switch(_){case"task":e(`/employee/tasks${E?`?taskId=${E}`:""}`);break;case"leave":e("/employee/history?tab=leave");break;case"attendance":e("/employee/history?tab=attendance");break}},y=w=>{switch(w){case"success":return l.jsx(rC,{className:"h-5 w-5 text-success"});case"warning":return l.jsx(hh,{className:"h-5 w-5 text-warning"});case"error":return l.jsx(hh,{className:"h-5 w-5 text-destructive"});case"task":return l.jsx(fr,{className:"h-5 w-5 text-primary"});case"attendance":return l.jsx(nn,{className:"h-5 w-5 text-info"});default:return l.jsx(Rx,{className:"h-5 w-5 text-info"})}},S=w=>{switch(w){case"success":return"bg-success/10";case"warning":return"bg-warning/10";case"error":return"bg-destructive/10";case"task":return"bg-primary/10";default:return"bg-info/10"}},b=w=>{switch(w){case"task":return"View Task";case"leave":return"View Leave Request";case"attendance":return"View Attendance";default:return null}},k=n.filter(w=>!w.is_read).length;return l.jsx(fa,{title:"Notifications",children:l.jsxs("div",{className:"space-y-4 animate-fade-in",children:[k>0&&l.jsxs("div",{className:"flex items-center justify-between px-1",children:[l.jsxs("span",{className:"text-sm text-muted-foreground",children:[k," unread notification",k!==1?"s":""]}),l.jsx("button",{onClick:async()=>{const w=n.filter(_=>!_.is_read).map(_=>_.id);for(const _ of w)await oe.from("notifications").update({is_read:!0}).eq("id",_);r(_=>_.map(E=>({...E,is_read:!0})))},className:"text-sm text-primary font-medium",children:"Mark all as read"})]}),i?l.jsx("div",{className:"space-y-3",children:[...Array(5)].map((w,_)=>l.jsxs("div",{className:"rounded-xl bg-card p-4 animate-pulse",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),l.jsx("div",{className:"h-3 bg-muted rounded w-full"})]},_))}):n.length===0?l.jsxs("div",{className:"rounded-xl bg-card p-8 text-center",children:[l.jsx(Xs,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),l.jsx("p",{className:"text-muted-foreground",children:"No notifications yet"})]}):l.jsx("div",{className:"space-y-3",children:n.map(w=>{const _=b(w.related_type);return l.jsxs("div",{className:`rounded-xl bg-card shadow-card overflow-hidden transition-all ${w.is_read?"":"border-l-4 border-primary"}`,children:[l.jsx("button",{onClick:()=>p(w),className:"w-full text-left p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center shrink-0 ${S(w.type)}`,children:y(w.type)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[l.jsx("p",{className:"font-medium truncate",children:w.title}),!w.is_read&&l.jsx("span",{className:"h-2 w-2 rounded-full bg-primary shrink-0"})]}),u===w.id?l.jsx("div",{className:"mb-2",children:l.jsx(rm,{content:w.message,className:"text-sm text-muted-foreground"})}):l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:w.message.replace(/\*\*/g,"").replace(/\*/g,"")}),l.jsx("p",{className:"text-xs text-muted-foreground",children:w.created_at&&!isNaN(new Date(w.created_at).getTime())?Ue(new Date(w.created_at),"MMM d, h:mm a"):"Unknown date"})]})]})}),u===w.id&&l.jsx("div",{className:"px-4 pb-4 pt-0 border-t border-border mt-2",children:l.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[_&&l.jsxs("button",{onClick:()=>g(w),className:"flex items-center gap-1 text-sm text-primary font-medium hover:underline",children:[l.jsx(aC,{className:"h-4 w-4"}),_]}),w.attachment_url&&l.jsxs("a",{href:w.attachment_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-primary font-medium hover:underline",children:[l.jsx(di,{className:"h-4 w-4"}),"View Attachment"]})]})})]},w.id)})})]})})}const g3=new KR;function en({children:t,requiredRole:e}){const{user:n,role:r,loading:i}=At();return i?l.jsx(sb,{}):n?e&&r!==e?l.jsx(Ch,{to:r==="admin"?"/admin":"/employee",replace:!0}):l.jsx(l.Fragment,{children:t}):l.jsx(Ch,{to:"/auth",replace:!0})}function v3(){const{user:t,role:e,loading:n}=At();return n?l.jsx(sb,{}):l.jsxs(zP,{children:[l.jsx(Et,{path:"/",element:l.jsx(IA,{})}),l.jsx(Et,{path:"/auth",element:t?l.jsx(Ch,{to:e==="admin"?"/admin":"/employee",replace:!0}):l.jsx(xI,{})}),l.jsx(Et,{path:"/admin",element:l.jsx(en,{requiredRole:"admin",children:l.jsx(DD,{})})}),l.jsx(Et,{path:"/admin/employees",element:l.jsx(en,{requiredRole:"admin",children:l.jsx(F4,{})})}),l.jsx(Et,{path:"/admin/tasks",element:l.jsx(en,{requiredRole:"admin",children:l.jsx($$,{})})}),l.jsx(Et,{path:"/admin/attendance",element:l.jsx(en,{requiredRole:"admin",children:l.jsx(F$,{})})}),l.jsx(Et,{path:"/admin/attendance-schedule",element:l.jsx(en,{requiredRole:"admin",children:l.jsx(q$,{})})}),l.jsx(Et,{path:"/admin/leave-requests",element:l.jsx(en,{requiredRole:"admin",children:l.jsx(Q$,{})})}),l.jsx(Et,{path:"/admin/settings",element:l.jsx(en,{requiredRole:"admin",children:l.jsx(n3,{})})}),l.jsx(Et,{path:"/admin/notifications",element:l.jsx(en,{requiredRole:"admin",children:l.jsx(o3,{})})}),l.jsx(Et,{path:"/employee",element:l.jsx(en,{requiredRole:"employee",children:l.jsx(u3,{})})}),l.jsx(Et,{path:"/employee/tasks",element:l.jsx(en,{requiredRole:"employee",children:l.jsx(d3,{})})}),l.jsx(Et,{path:"/employee/profile",element:l.jsx(en,{requiredRole:"employee",children:l.jsx(f3,{})})}),l.jsx(Et,{path:"/employee/history",element:l.jsx(en,{requiredRole:"employee",children:l.jsx(h3,{})})}),l.jsx(Et,{path:"/employee/settings",element:l.jsx(en,{requiredRole:"employee",children:l.jsx(p3,{})})}),l.jsx(Et,{path:"/employee/notifications",element:l.jsx(en,{requiredRole:"employee",children:l.jsx(m3,{})})}),l.jsx(Et,{path:"*",element:l.jsx(bI,{})})]})}const y3=()=>l.jsx(YR,{client:g3,children:l.jsx(wR,{children:l.jsx(OA,{children:l.jsxs(AA,{children:[l.jsx(eN,{}),l.jsx(ON,{}),l.jsx(YP,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:l.jsx(v3,{})})]})})})});console.log("main.tsx loaded");try{Gj.createRoot(document.getElementById("root")).render(l.jsx(y3,{}))}catch(t){console.error("Render error:",t);const e=document.getElementById("root");e&&(e.innerHTML=`<div style="padding:24px;font-family:sans-serif;color:#b91c1c;background:#fff6f6">Render error: ${String(t)}</div>`)}
